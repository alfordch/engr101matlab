var Bundle=function(t){var n={};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=7)}([function(t,n,r){"use strict";var e;Object.defineProperty(n,"__esModule",{value:!0}),n.Color=n.MatlabMath=n.getQueryString=n.cloneArray=n.assert=n.asMutable=void 0,n.asMutable=function(t){return t},n.assert=function(t,n){if(void 0===n&&(n=""),!t)throw Error("Assert failed: "+n)},n.cloneArray=function(t){return t.slice()},n.getQueryString=function(){for(var t={},n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var e=n[r].split("=");if(void 0===t[e[0]])t[e[0]]=decodeURIComponent(e[1]);else if("string"==typeof t[e[0]]){var i=[t[e[0]],decodeURIComponent(e[1])];t[e[0]]=i}else t[e[0]].push(decodeURIComponent(e[1]))}return t},function(t){var n=0;function r(t,n,r){void 0===n&&(n=0),void 0===r&&(r=1);var e=t%233280/233280;return e=n+e*(r-n),e=Math.max(n,Math.min(r,e))}t.setRandomSeed=function(t){n=t},t.random=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),r(n=(9301*n+49297)%233280,t,e)},t.seededRandom=r,t.range=function(t,n,r){void 0===r&&(r=1);for(var e=[];t<=n;)e.push(t),t+=r;return e}}(e=n.MatlabMath||(n.MatlabMath={})),function(t){t.WHITE="#FFFFFF",t.LIGHT_LETTERS="ABCDEF",t.toColor=function(t,n){void 0===n&&(n="123456789ABCDEF");for(var r=t.toString(),i=0,u=0;i<r.length;u=r.charCodeAt(i++)+((u<<5)-u));return function(t,n){void 0===n&&(n="123456789ABCDEF"),n=n||"0123456789ABCDEF";var r="#";e.setRandomSeed(t);for(var i=0;i<6;i++)r+=n[Math.floor(e.random()*n.length)];return r}(Math.abs(u),n)},t.randomColor=function(t){void 0===t&&(t="123456789ABCDEF"),t=t||"0123456789ABCDEF";for(var n="#",r=0;r<6;r++)n+=t[Math.floor(e.random()*t.length)];return n}}(n.Color||(n.Color={}))},function(t,n,r){"use strict";var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});Object.defineProperty(n,"__esModule",{value:!0}),n.parse=n.SyntaxError=void 0;var u=function(t){function n(r,e,i,u){var a=t.call(this)||this;return a.message=r,a.expected=e,a.found=i,a.location=u,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,n),a}return i(n,t),n.buildMessage=function(t,n){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function e(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function u(t){switch(t.type){case"literal":return'"'+e(t.text)+'"';case"class":var n=t.parts.map(function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)});return"["+(t.inverted?"^":"")+n+"]";case"any":return"any character";case"end":return"end of input";case"other":return t.description}}return"Expected "+function(t){var n,r,e=t.map(u);if(e.sort(),e.length>0){for(n=1,r=1;n<e.length;n++)e[n-1]!==e[n]&&(e[r]=e[n],r++);e.length=r}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(t)+" but "+((a=n)?'"'+e(a)+'"':"end of input")+" found.";var a},n}(Error);n.SyntaxError=u,n.parse=function(t,n){n=void 0!==n?n:{};var r,e={},i={start:ln},a=ln,o=";",c=en(";",!1),s=/^[\n\r]/,f=un(["\n","\r"],!1,!1),l=function(t){return t},h=function(t){return 1===t.length?t[0]:{what:"statement_group",statements:t}},p="=",v=en("=",!1),d=function(t,n){return{what:"indexed_assignment",lhs:t,rhs:n}},g=function(t,n){return{what:"assignment",identifier:t,exp:n}},_="[",y=en("[",!1),m=/^[\r\n]/,b=un(["\r","\n"],!1,!1),w=function(t,n){return n},x="]",A=en("]",!1),C=function(t,n){return 0===n.length?t:(n.unshift(t),{what:"matrix_exp",rows:n})},S=",",k=en(",",!1),I=function(t,n){return n},E=function(t,n){return 0===n.length?t:(n.unshift(t),{what:"row_exp",cols:n})},z=":",j=en(":",!1),O=function(t,n,r){return r},M=function(t,n,r){return{what:"range_exp",start:t,end:r||n,step:r&&n||void 0}},T="|",$=en("|",!1),R=function(t,n,r){return[n,r]},L=function(t,n){return jn(t,n,"left","or_exp")},V="&",N=en("&",!1),F=function(t,n){return jn(t,n,"left","and_exp")},D="==",W=en("==",!1),U="~=",B=en("~=",!1),P=function(t,n){return jn(t,n,"left","eq_exp")},H="<=",q=en("<=",!1),G="<",Z=en("<",!1),K=">=",J=en(">=",!1),Y=">",Q=en(">",!1),X=function(t,n){return jn(t,n,"left","rel_exp")},tt="+",nt=en("+",!1),rt="-",et=en("-",!1),it=function(t,n){return jn(t,n,"left","add_exp")},ut="*",at=en("*",!1),ot="/",ct=en("/",!1),st="^",ft=en("^",!1),lt=".*",ht=en(".*",!1),pt="./",vt=en("./",!1),dt=".^",gt=en(".^",!1),_t=function(t,n){return jn(t,n,"left","mult_exp")},yt="~",mt=en("~",!1),bt=function(t,n){return{what:"unary_exp",sub:n,op:t}},wt="'",xt=en("'",!1),At=function(t,n){return{what:"transpose_exp",sub:t,transposes:n}},Ct="(",St=en("(",!1),kt=function(t,n,r){return r},It=")",Et=en(")",!1),zt=function(t,n,r){return r.unshift(n),{what:"call_exp",target:t.identifier,args:r}},jt="end",Ot=en("end",!1),Mt=function(){return{what:"end_exp"}},Tt=function(t){return t},$t=function(){return{what:"colon_exp"}},Rt=/^[0-9.]/,Lt=un([["0","9"],"."],!1,!1),Vt=function(t,n){return n.indexOf(".")==n.lastIndexOf(".")&&-1!=n.indexOf(".")},Nt=function(t,n){return{what:"float",value:parseFloat((t||"")+n.join(""))}},Ft=an("integer"),Dt=/^[0-9]/,Wt=un([["0","9"]],!1,!1),Ut=function(t,n){return{what:"integer",value:parseInt((t||"")+n.join(""),10)}},Bt=an("identifier"),Pt=function(t,n){return{what:"identifier",identifier:t+n.join("")}},Ht=/^[a-zA-Z0-9_]/,qt=un([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Gt=/^[a-zA-Z]/,Zt=un([["a","z"],["A","Z"]],!1,!1),Kt=an("whitespace"),Jt=/^[ \t]/,Yt=un([" ","\t"],!1,!1),Qt=0,Xt=[{line:1,column:1}],tn=0,nn=[],rn=0;if(void 0!==n.startRule){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=i[n.startRule]}function en(t,n){return{type:"literal",text:t,ignoreCase:n}}function un(t,n,r){return{type:"class",parts:t,inverted:n,ignoreCase:r}}function an(t){return{type:"other",description:t}}function on(n){var r,e=Xt[n];if(e)return e;for(r=n-1;!Xt[r];)r--;for(e={line:(e=Xt[r]).line,column:e.column};r<n;)10===t.charCodeAt(r)?(e.line++,e.column=1):e.column++,r++;return Xt[n]=e,e}function cn(t,n){var r=on(t),e=on(n);return{start:{offset:t,line:r.line,column:r.column},end:{offset:n,line:e.line,column:e.column}}}function sn(t){Qt<tn||(Qt>tn&&(tn=Qt,nn=[]),nn.push(t))}function fn(t,n,r){return new u(u.buildMessage(t,n),t,n,r)}function ln(){return function(){var n,r,i,u,a,p,v;if(n=Qt,(r=En())!==e){if(i=[],u=Qt,(a=hn())!==e){for(p=[],59===t.charCodeAt(Qt)?(v=o,Qt++):(v=e,0===rn&&sn(c)),v===e&&(s.test(t.charAt(Qt))?(v=t.charAt(Qt),Qt++):(v=e,0===rn&&sn(f)),v===e&&(v=zn()));v!==e;)p.push(v),59===t.charCodeAt(Qt)?(v=o,Qt++):(v=e,0===rn&&sn(c)),v===e&&(s.test(t.charAt(Qt))?(v=t.charAt(Qt),Qt++):(v=e,0===rn&&sn(f)),v===e&&(v=zn()));p!==e?(a=l(a),u=a):(Qt=u,u=e)}else Qt=u,u=e;for(;u!==e;)if(i.push(u),u=Qt,(a=hn())!==e){for(p=[],59===t.charCodeAt(Qt)?(v=o,Qt++):(v=e,0===rn&&sn(c)),v===e&&(s.test(t.charAt(Qt))?(v=t.charAt(Qt),Qt++):(v=e,0===rn&&sn(f)),v===e&&(v=zn()));v!==e;)p.push(v),59===t.charCodeAt(Qt)?(v=o,Qt++):(v=e,0===rn&&sn(c)),v===e&&(s.test(t.charAt(Qt))?(v=t.charAt(Qt),Qt++):(v=e,0===rn&&sn(f)),v===e&&(v=zn()));p!==e?(a=l(a),u=a):(Qt=u,u=e)}else Qt=u,u=e;i!==e?(r=h(i),n=r):(Qt=n,n=e)}else Qt=n,n=e;return n}()}function hn(){var n;return(n=function(){var n,r,i,u;return n=Qt,(r=An())!==e&&En()!==e?(61===t.charCodeAt(Qt)?(i=p,Qt++):(i=e,0===rn&&sn(v)),i!==e&&En()!==e&&(u=vn())!==e?(r=d(r,u),n=r):(Qt=n,n=e)):(Qt=n,n=e),n===e&&(n=Qt,(r=kn())!==e&&En()!==e?(61===t.charCodeAt(Qt)?(i=p,Qt++):(i=e,0===rn&&sn(v)),i!==e&&En()!==e&&(u=vn())!==e?(r=g(r,u),n=r):(Qt=n,n=e)):(Qt=n,n=e)),n}())===e&&(n=vn()),n}function pn(){var n,r,i,u,a,o,c;if(n=Qt,(r=vn())!==e){for(i=[],u=Qt,a=Qt,(o=En())!==e?(44===t.charCodeAt(Qt)?(c=S,Qt++):(c=e,0===rn&&sn(k)),c!==e?a=o=[o,c]:(Qt=a,a=e)):(Qt=a,a=e),a===e&&(a=zn()),a!==e&&(o=En())!==e&&(c=vn())!==e?u=a=I(r,c):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,a=Qt,(o=En())!==e?(44===t.charCodeAt(Qt)?(c=S,Qt++):(c=e,0===rn&&sn(k)),c!==e?a=o=[o,c]:(Qt=a,a=e)):(Qt=a,a=e),a===e&&(a=zn()),a!==e&&(o=En())!==e&&(c=vn())!==e?u=a=I(r,c):(Qt=u,u=e);i!==e?n=r=E(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function vn(){var n;return(n=function(){var n,r,i,u,a,o,c,s;return n=Qt,(r=dn())!==e&&En()!==e?(58===t.charCodeAt(Qt)?(i=z,Qt++):(i=e,0===rn&&sn(j)),i!==e&&En()!==e&&(u=dn())!==e?(a=Qt,(o=En())!==e?(58===t.charCodeAt(Qt)?(c=z,Qt++):(c=e,0===rn&&sn(j)),c!==e&&En()!==e&&(s=dn())!==e?(o=O(r,u,s),a=o):(Qt=a,a=e)):(Qt=a,a=e),a===e&&(a=null),a!==e?(r=M(r,u,a),n=r):(Qt=n,n=e)):(Qt=n,n=e)):(Qt=n,n=e),n===e&&(n=dn()),n}())===e&&(n=An())===e&&(n=Cn()),n}function dn(){var n,r,i,u,a,o;if(n=Qt,(r=gn())!==e){for(i=[],u=Qt,En()!==e?(124===t.charCodeAt(Qt)?(a=T,Qt++):(a=e,0===rn&&sn($)),a!==e&&En()!==e&&(o=gn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(124===t.charCodeAt(Qt)?(a=T,Qt++):(a=e,0===rn&&sn($)),a!==e&&En()!==e&&(o=gn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=L(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function gn(){var n,r,i,u,a,o;if(n=Qt,(r=_n())!==e){for(i=[],u=Qt,En()!==e?(38===t.charCodeAt(Qt)?(a=V,Qt++):(a=e,0===rn&&sn(N)),a!==e&&En()!==e&&(o=_n())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(38===t.charCodeAt(Qt)?(a=V,Qt++):(a=e,0===rn&&sn(N)),a!==e&&En()!==e&&(o=_n())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=F(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function _n(){var n,r,i,u,a,o;if(n=Qt,(r=yn())!==e){for(i=[],u=Qt,En()!==e?(t.substr(Qt,2)===D?(a=D,Qt+=2):(a=e,0===rn&&sn(W)),a===e&&(t.substr(Qt,2)===U?(a=U,Qt+=2):(a=e,0===rn&&sn(B))),a!==e&&En()!==e&&(o=yn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(t.substr(Qt,2)===D?(a=D,Qt+=2):(a=e,0===rn&&sn(W)),a===e&&(t.substr(Qt,2)===U?(a=U,Qt+=2):(a=e,0===rn&&sn(B))),a!==e&&En()!==e&&(o=yn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=P(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function yn(){var n,r,i,u,a,o;if(n=Qt,(r=mn())!==e){for(i=[],u=Qt,En()!==e?(t.substr(Qt,2)===H?(a=H,Qt+=2):(a=e,0===rn&&sn(q)),a===e&&(60===t.charCodeAt(Qt)?(a=G,Qt++):(a=e,0===rn&&sn(Z)),a===e&&(t.substr(Qt,2)===K?(a=K,Qt+=2):(a=e,0===rn&&sn(J)),a===e&&(62===t.charCodeAt(Qt)?(a=Y,Qt++):(a=e,0===rn&&sn(Q))))),a!==e&&En()!==e&&(o=mn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(t.substr(Qt,2)===H?(a=H,Qt+=2):(a=e,0===rn&&sn(q)),a===e&&(60===t.charCodeAt(Qt)?(a=G,Qt++):(a=e,0===rn&&sn(Z)),a===e&&(t.substr(Qt,2)===K?(a=K,Qt+=2):(a=e,0===rn&&sn(J)),a===e&&(62===t.charCodeAt(Qt)?(a=Y,Qt++):(a=e,0===rn&&sn(Q))))),a!==e&&En()!==e&&(o=mn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=X(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function mn(){var n,r,i,u,a,o;if(n=Qt,(r=bn())!==e){for(i=[],u=Qt,En()!==e?(43===t.charCodeAt(Qt)?(a=tt,Qt++):(a=e,0===rn&&sn(nt)),a===e&&(45===t.charCodeAt(Qt)?(a=rt,Qt++):(a=e,0===rn&&sn(et))),a!==e&&En()!==e&&(o=bn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(43===t.charCodeAt(Qt)?(a=tt,Qt++):(a=e,0===rn&&sn(nt)),a===e&&(45===t.charCodeAt(Qt)?(a=rt,Qt++):(a=e,0===rn&&sn(et))),a!==e&&En()!==e&&(o=bn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=it(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function bn(){var n,r,i,u,a,o;if(n=Qt,(r=wn())!==e){for(i=[],u=Qt,En()!==e?(42===t.charCodeAt(Qt)?(a=ut,Qt++):(a=e,0===rn&&sn(at)),a===e&&(47===t.charCodeAt(Qt)?(a=ot,Qt++):(a=e,0===rn&&sn(ct)),a===e&&(94===t.charCodeAt(Qt)?(a=st,Qt++):(a=e,0===rn&&sn(ft)),a===e&&(t.substr(Qt,2)===lt?(a=lt,Qt+=2):(a=e,0===rn&&sn(ht)),a===e&&(t.substr(Qt,2)===pt?(a=pt,Qt+=2):(a=e,0===rn&&sn(vt)),a===e&&(t.substr(Qt,2)===dt?(a=dt,Qt+=2):(a=e,0===rn&&sn(gt))))))),a!==e&&En()!==e&&(o=wn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(42===t.charCodeAt(Qt)?(a=ut,Qt++):(a=e,0===rn&&sn(at)),a===e&&(47===t.charCodeAt(Qt)?(a=ot,Qt++):(a=e,0===rn&&sn(ct)),a===e&&(94===t.charCodeAt(Qt)?(a=st,Qt++):(a=e,0===rn&&sn(ft)),a===e&&(t.substr(Qt,2)===lt?(a=lt,Qt+=2):(a=e,0===rn&&sn(ht)),a===e&&(t.substr(Qt,2)===pt?(a=pt,Qt+=2):(a=e,0===rn&&sn(vt)),a===e&&(t.substr(Qt,2)===dt?(a=dt,Qt+=2):(a=e,0===rn&&sn(gt))))))),a!==e&&En()!==e&&(o=wn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=_t(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function wn(){var n,r,i;return(n=xn())===e&&(n=Qt,43===t.charCodeAt(Qt)?(r=tt,Qt++):(r=e,0===rn&&sn(nt)),r===e&&(45===t.charCodeAt(Qt)?(r=rt,Qt++):(r=e,0===rn&&sn(et)),r===e&&(126===t.charCodeAt(Qt)?(r=yt,Qt++):(r=e,0===rn&&sn(mt)))),r!==e&&En()!==e&&(i=xn())!==e?n=r=bt(r,i):(Qt=n,n=e)),n}function xn(){var n,r,i,u;if(n=Qt,(r=Cn())===e&&(r=An()),r!==e)if(En()!==e){if(i=[],39===t.charCodeAt(Qt)?(u=wt,Qt++):(u=e,0===rn&&sn(xt)),u!==e)for(;u!==e;)i.push(u),39===t.charCodeAt(Qt)?(u=wt,Qt++):(u=e,0===rn&&sn(xt));else i=e;i!==e?n=r=At(r,i):(Qt=n,n=e)}else Qt=n,n=e;else Qt=n,n=e;return n===e&&(n=An())===e&&(n=Cn()),n}function An(){var n,r,i,u,a,o,c,s,f;if(n=Qt,(r=kn())!==e)if(En()!==e)if(40===t.charCodeAt(Qt)?(i=Ct,Qt++):(i=e,0===rn&&sn(St)),i!==e)if(En()!==e)if((u=Sn())!==e){for(a=[],o=Qt,(c=En())!==e?(44===t.charCodeAt(Qt)?(s=S,Qt++):(s=e,0===rn&&sn(k)),s!==e&&En()!==e&&(f=Sn())!==e?o=c=kt(r,u,f):(Qt=o,o=e)):(Qt=o,o=e);o!==e;)a.push(o),o=Qt,(c=En())!==e?(44===t.charCodeAt(Qt)?(s=S,Qt++):(s=e,0===rn&&sn(k)),s!==e&&En()!==e&&(f=Sn())!==e?o=c=kt(r,u,f):(Qt=o,o=e)):(Qt=o,o=e);a!==e&&(o=En())!==e?(41===t.charCodeAt(Qt)?(c=It,Qt++):(c=e,0===rn&&sn(Et)),c!==e?n=r=zt(r,u,a):(Qt=n,n=e)):(Qt=n,n=e)}else Qt=n,n=e;else Qt=n,n=e;else Qt=n,n=e;else Qt=n,n=e;else Qt=n,n=e;return n}function Cn(){var n,r,i,u;return(n=function(){var n,r,i,u,a,s,f,l,h;if(n=Qt,91===t.charCodeAt(Qt)?(r=_,Qt++):(r=e,0===rn&&sn(y)),r!==e)if(En()!==e)if((i=pn())!==e){if(u=[],a=Qt,(s=En())!==e){if(f=[],59===t.charCodeAt(Qt)?(l=o,Qt++):(l=e,0===rn&&sn(c)),l===e&&(m.test(t.charAt(Qt))?(l=t.charAt(Qt),Qt++):(l=e,0===rn&&sn(b))),l!==e)for(;l!==e;)f.push(l),59===t.charCodeAt(Qt)?(l=o,Qt++):(l=e,0===rn&&sn(c)),l===e&&(m.test(t.charAt(Qt))?(l=t.charAt(Qt),Qt++):(l=e,0===rn&&sn(b)));else f=e;f!==e&&(l=En())!==e&&(h=pn())!==e?a=s=w(i,h):(Qt=a,a=e)}else Qt=a,a=e;for(;a!==e;)if(u.push(a),a=Qt,(s=En())!==e){if(f=[],59===t.charCodeAt(Qt)?(l=o,Qt++):(l=e,0===rn&&sn(c)),l===e&&(m.test(t.charAt(Qt))?(l=t.charAt(Qt),Qt++):(l=e,0===rn&&sn(b))),l!==e)for(;l!==e;)f.push(l),59===t.charCodeAt(Qt)?(l=o,Qt++):(l=e,0===rn&&sn(c)),l===e&&(m.test(t.charAt(Qt))?(l=t.charAt(Qt),Qt++):(l=e,0===rn&&sn(b)));else f=e;f!==e&&(l=En())!==e&&(h=pn())!==e?a=s=w(i,h):(Qt=a,a=e)}else Qt=a,a=e;u!==e&&(a=En())!==e?(93===t.charCodeAt(Qt)?(s=x,Qt++):(s=e,0===rn&&sn(A)),s!==e?n=r=C(i,u):(Qt=n,n=e)):(Qt=n,n=e)}else Qt=n,n=e;else Qt=n,n=e;else Qt=n,n=e;return n}())===e&&(n=Qt,t.substr(Qt,3)===jt?(r=jt,Qt+=3):(r=e,0===rn&&sn(Ot)),r!==e&&(r=Mt()),(n=r)===e&&(n=kn())===e&&(n=function(){var n;return(n=function(){var n,r,i,u;if(n=Qt,45===t.charCodeAt(Qt)?(r=rt,Qt++):(r=e,0===rn&&sn(et)),r===e&&(r=null),r!==e){if(i=[],Rt.test(t.charAt(Qt))?(u=t.charAt(Qt),Qt++):(u=e,0===rn&&sn(Lt)),u!==e)for(;u!==e;)i.push(u),Rt.test(t.charAt(Qt))?(u=t.charAt(Qt),Qt++):(u=e,0===rn&&sn(Lt));else i=e;i!==e&&(u=(u=Vt(r,i))?void 0:e)!==e?(r=Nt(r,i),n=r):(Qt=n,n=e)}else Qt=n,n=e;return n}())===e&&(n=function(){var n,r,i,u;if(rn++,n=Qt,45===t.charCodeAt(Qt)?(r=rt,Qt++):(r=e,0===rn&&sn(et)),r===e&&(r=null),r!==e){if(i=[],Dt.test(t.charAt(Qt))?(u=t.charAt(Qt),Qt++):(u=e,0===rn&&sn(Wt)),u!==e)for(;u!==e;)i.push(u),Dt.test(t.charAt(Qt))?(u=t.charAt(Qt),Qt++):(u=e,0===rn&&sn(Wt));else i=e;i!==e?(r=Ut(r,i),n=r):(Qt=n,n=e)}else Qt=n,n=e;return rn--,n===e&&(r=e,0===rn&&sn(Ft)),n}()),n}())===e&&(n=Qt,40===t.charCodeAt(Qt)?(r=Ct,Qt++):(r=e,0===rn&&sn(St)),r!==e&&En()!==e&&(i=vn())!==e&&En()!==e?(41===t.charCodeAt(Qt)?(u=It,Qt++):(u=e,0===rn&&sn(Et)),u!==e?n=r=Tt(i):(Qt=n,n=e)):(Qt=n,n=e))),n}function Sn(){var n,r;return n=Qt,58===t.charCodeAt(Qt)?(r=z,Qt++):(r=e,0===rn&&sn(j)),r!==e&&(r=$t()),(n=r)===e&&(n=vn()),n}function kn(){var n,r,i,u;if(rn++,n=Qt,(r=function(){var n;return Gt.test(t.charAt(Qt))?(n=t.charAt(Qt),Qt++):(n=e,0===rn&&sn(Zt)),n}())!==e){for(i=[],u=In();u!==e;)i.push(u),u=In();i!==e?n=r=Pt(r,i):(Qt=n,n=e)}else Qt=n,n=e;return rn--,n===e&&(r=e,0===rn&&sn(Bt)),n}function In(){var n;return Ht.test(t.charAt(Qt))?(n=t.charAt(Qt),Qt++):(n=e,0===rn&&sn(qt)),n}function En(){var n,r;for(rn++,n=[],Jt.test(t.charAt(Qt))?(r=t.charAt(Qt),Qt++):(r=e,0===rn&&sn(Yt));r!==e;)n.push(r),Jt.test(t.charAt(Qt))?(r=t.charAt(Qt),Qt++):(r=e,0===rn&&sn(Yt));return rn--,n===e&&(r=e,0===rn&&sn(Kt)),n}function zn(){var n,r;if(rn++,n=[],Jt.test(t.charAt(Qt))?(r=t.charAt(Qt),Qt++):(r=e,0===rn&&sn(Yt)),r!==e)for(;r!==e;)n.push(r),Jt.test(t.charAt(Qt))?(r=t.charAt(Qt),Qt++):(r=e,0===rn&&sn(Yt));else n=e;return rn--,n===e&&(r=e,0===rn&&sn(Kt)),n}function jn(t,n,r,e){if(r=r||"left",e=e||"binaryOp",!n||0===n.length)return t;if("left"===r){var i=n.pop();return{what:e,op:i[0],left:jn(t,n,r,e),right:i[1],associativity:r}}var u=n.shift();return{what:e,op:u[0],left:t,right:jn(u[1],n,r,e),associativity:r}}if((r=a())!==e&&Qt===t.length)return r;throw r!==e&&Qt<t.length&&sn({type:"end"}),fn(nn,tn<t.length?t.charAt(tn):null,tn<t.length?cn(tn,tn+1):cn(tn,tn))}},function(t,n,r){"use strict";var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});Object.defineProperty(n,"__esModule",{value:!0}),n.IdentifierExpression=n.LiteralExpression=n.TransposeExpression=n.UnaryOperatorExpression=n.StatementGroup=n.Assignment=n.Expression=n.allSuccess=n.CodeConstruct=n.Environment=n.MatlabFunction=n.Variable=n.Matrix=n.MatlabError=void 0;var u=r(0),a=r(3),o=function(){return function(t,n){this.message=n,this.construct=t}}();n.MatlabError=o;var c=function(){function t(t,n,r,e){this.numDims=2,this.rows=t,this.cols=n,this.height=t,this.width=n,this.numel=t*n,this.data=u.cloneArray(r),this.dataType=e,this.isScalar=1===t&&1===n,this.isVector=1===t||1===n,this.color=u.Color.toColor([this.rows,this.height,this.data],u.Color.LIGHT_LETTERS)}return t.formatNumber=function(t){return Math.trunc(t)==t?t.toString():t.toPrecision(2)},t.scalar=function(n,r){return new t(1,1,[n],r)},t.createSized=function(n,r,e){return new t(n,r,new Array(n*r),e)},t.prototype.toString=function(){return"Rows: "+this.rows+" Cols: "+this.cols+"\nData: "+JSON.stringify(this.data)},t.prototype.clone=function(){return new t(this.rows,this.cols,this.data.slice(),this.dataType)},t.prototype.equals=function(t){return this.width===t.width&&this.height===t.height&&this.data.every(function(n,r){return n===t.data[r]})},t.prototype.linearIndex=function(t,n){return t-=1,(n-=1)*this.rows+t+1},t.prototype.atLinear=function(t){return this.data[t-1]},t.prototype.setLinear=function(t,n){return this.data[t-1]=n,this},t.prototype.at=function(t,n){return t-=1,n-=1,this.data[n*this.rows+t]},t.prototype.setAt=function(t,n,r){return t-=1,n-=1,this.data[n*this.rows+t]=r,this},t.prototype.fill=function(t){for(var n=0;n<this.data.length;++n)this.data[n]=t;return this},t.prototype.setAll=function(t){u.assert(this.data.length===t.length,"new data must have same number of elements");for(var n=0;n<this.data.length;++n)this.data[n]=t[n];return this},t.prototype.operateAll=function(t){this.setAll(this.data.map(t))},t.prototype.length=function(t){return 1===t?this.rows:this.cols},t.prototype.scalarValue=function(){return this.data[0]},t.prototype.contains=function(t){return-1!==this.data.indexOf(t)},t.prototype.colData=function(t){return this.data.slice((t-1)*this.rows,t*this.rows)},t.prototype.setColData=function(t,n){for(var r=1,e=0;r<=this.rows;++r)this.setAt(r,t,n[e++])},t.prototype.rowData=function(t){var n=this;return a.range(1,this.cols+1).map(function(r){return n.at(t,r)})},t.prototype.setRowData=function(t,n){for(var r=1,e=0;r<=this.cols;++r)this.setAt(t,r,n[e++])},t.prototype.accumulateCols=function(n){var r=this;return new t(1,this.cols,a.range(1,this.cols+1).map(function(t){return r.colData(t).reduce(n)}),"double")},t.prototype.accumulateRows=function(n){var r=this;return new t(this.rows,1,a.range(1,this.rows+1).map(function(t){return r.rowData(t).reduce(n)}),"double")},t.prototype.visualize_html=function(n){var r=$("<table></table>");r.addClass("matlab-table"),"logical"!==this.dataType&&r.css("background-color",this.color);for(var e=1;e<=this.rows;++e){var i=$("<tr></tr>");r.append(i);for(var u=1;u<=this.cols;++u){var a=$("<td></td>"),o=$("<div></div>");o.addClass("matlab-scalar"),"logical"===this.dataType&&a.addClass(this.at(e,u)?"logical-1":"logical-0");var c=$("<span></span>");c.html(t.formatNumber(this.at(e,u))),o.append(c),a.append(o),i.append(a)}}return r[0].outerHTML},t}();n.Matrix=c;var s=function(){return function(){}}(),f=function(t){function n(n,r){var e=t.call(this)||this;return e.rowIndexer=n,e.colIndexer=r,e}return i(n,t),n.create=function(t,r){return new n(l.create(1,t),l.create(2,r))},n.prototype.visualize_selection=function(t){var n=$("<table></table>");n.addClass("matlab-index"),n.css("background-color",t.color);for(var r=new Set(this.rowIndexer.getSelectedIndices(t)),e=new Set(this.colIndexer.getSelectedIndices(t)),i=1;i<=t.rows;++i){var u=$("<tr></tr>");n.append(u);for(var a=1;a<=t.cols;++a){var o=$("<td><div class='highlight'></div></td>");r.has(i)&&e.has(a)&&o.addClass("selected");var c=$("<div></div>");c.addClass("matlab-raw-index"),c.html(""+t.linearIndex(i,a)),o.append(c);var s=$("<div></div>");s.addClass("matlab-scalar");var f=$("<span></span>");f.html(""+t.at(i,a)),s.append(f),o.append(s),u.append(o)}}return n[0].outerHTML},n.prototype.readValue=function(t){var n=[],r=this.rowIndexer.getSelectedIndices(t),e=this.colIndexer.getSelectedIndices(t);return e.forEach(function(e){r.forEach(function(r){n.push(t.at(r,e))})}),new c(r.length,e.length,n,t.dataType)},n.prototype.assign=function(t,n){var r=this.rowIndexer.getSelectedIndices(t),e=this.colIndexer.getSelectedIndices(t),i=r.length,u=e.length,a=i*u;if(n.isScalar)e.forEach(function(e,i){r.forEach(function(r,i){t.setAt(r,e,n.scalarValue())})});else{if(!(i===n.rows&&u===n.cols||(1===i||1===u)&&n.isVector&&a==n.numel))throw"Subscripted assignment dimension mismatch. The left hand side indexing expression selects a "+i+"x"+u+" while the right hand side is a "+n.rows+"x"+n.cols+".";var o=1;e.forEach(function(e,i){r.forEach(function(r,i){t.setAt(r,e,n.atLinear(o++))})})}},n.prototype.verify=function(t){this.rowIndexer.verify(t),this.colIndexer.verify(t)},n}(s),l=function(){function t(t){this.dimension=t}return t.create=function(t,n){return":"===n?new p(t):"logical"===n.dataType?new v(t,n):new h(t,n)},t.DIMENSION_NAMES=["","row","column"],t}(),h=function(t){function n(n,r){var e=t.call(this,n)||this;return e.selectedIndices=r.data,e}return i(n,t),n.prototype.getSelectedIndices=function(t){return this.selectedIndices},n.prototype.verify=function(t){var n=this,r=t.length(this.dimension);this.selectedIndices.forEach(function(t){if(t<1||r<t)throw l.DIMENSION_NAMES[n.dimension]+" index "+t+" is out of bounds for the source matrix."})},n}(l),p=function(t){function n(n){return t.call(this,n)||this}return i(n,t),n.prototype.getSelectedIndices=function(t){return u.MatlabMath.range(1,t.length(this.dimension))},n.prototype.verify=function(t){},n}(l),v=function(t){function n(n,r){var e=t.call(this,n)||this,i=[];return r.data.forEach(function(t,n){return t&&i.push(n+1)}),e.selectedIndices=i,e.logicalSelection=r,e}return i(n,t),n.prototype.getSelectedIndices=function(t){return this.selectedIndices},n.prototype.verify=function(t){var n=this.logicalSelection.numel,r=t.length(this.dimension);if(n>r)throw"Logical index matrix to select "+l.DIMENSION_NAMES[this.dimension]+"s has "+n+" elements, but source matrix only has "+r+l.DIMENSION_NAMES[this.dimension]+"s."},n}(l),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.create=function(t){return":"===t?new _:"logical"===t.dataType?new y(t):new g(t)},n}(s),g=function(t){function n(n){var r=t.call(this)||this;return r.selectedIndices=n,r}return i(n,t),n.prototype.verify=function(t){this.selectedIndices.data.forEach(function(n){if(n<1||t.numel<n)throw"Index "+n+" is out of bounds for the source matrix."})},n.prototype.readValue=function(t){return new c(this.selectedIndices.rows,this.selectedIndices.cols,this.selectedIndices.data.map(function(n){return t.atLinear(n)}),t.dataType)},n.prototype.assign=function(t,n){if(n.isScalar){var r=n.scalarValue();this.selectedIndices.data.forEach(function(n){t.setLinear(n,r)})}else{if(this.selectedIndices.numel!=n.numel)throw"The length of the RHS matrix ("+n.numel+") does not match the number of indices selected from the matrix on the LHS ("+this.selectedIndices.numel+").";this.selectedIndices.data.forEach(function(r,e){t.setLinear(r,n.atLinear(e))})}},n.prototype.visualize_selection=function(t){var n=$("<table></table>");n.addClass("matlab-index"),n.css("background-color",t.color);for(var r=new Set(this.selectedIndices.data),e=1;e<=t.rows;++e){var i=$("<tr></tr>");n.append(i);for(var u=1;u<=t.cols;++u){var a=$("<td><div class='highlight'></div></td>");r.has(t.linearIndex(e,u))&&a.addClass("selected");var o=$("<div></div>");o.addClass("matlab-raw-index"),o.html(""+t.linearIndex(e,u)),a.append(o);var c=$("<div></div>");c.addClass("matlab-scalar");var s=$("<span></span>");s.html(""+t.at(e,u)),c.append(s),a.append(c),i.append(a)}}return n[0].outerHTML},n}(d),_=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.verify=function(t){},n.prototype.readValue=function(t){return new c(t.numel,1,t.data,t.dataType)},n.prototype.assign=function(t,n){if(n.isScalar)t.fill(n.scalarValue());else{if(t.numel!=n.numel)throw"The length of the RHS matrix ("+n.numel+") does not match the number of indices selected from the matrix on the LHS ("+t.numel+").";t.setAll(n.data)}},n.prototype.visualize_selection=function(t){var n=$("<table></table>");n.addClass("matlab-index"),n.css("background-color",t.color);for(var r=1;r<=t.rows;++r){var e=$("<tr></tr>");n.append(e);for(var i=1;i<=t.cols;++i){var u=$("<td><div class='highlight'></div></td>");u.addClass("selected");var a=$("<div></div>");a.addClass("matlab-raw-index"),a.html(""+t.linearIndex(r,i)),u.append(a);var o=$("<div></div>");o.addClass("matlab-scalar");var c=$("<span></span>");c.html(""+t.at(r,i)),o.append(c),u.append(o),e.append(u)}}return n[0].outerHTML},n}(d),y=function(t){function n(n){var r=t.call(this)||this;r.logicalSelection=n,u.assert("logical"===n.dataType);var e=[];return n.data.forEach(function(t,n){return t&&e.push(n+1)}),r.selectedIndices=e,r}return i(n,t),n.prototype.verify=function(t){var n=this.logicalSelection.numel,r=t.numel;if(n>r)throw"Logical index matrix has "+n+" elements, but source matrix only has "+r+" elements."},n.prototype.readValue=function(t){var n=this.selectedIndices.map(function(n){return t.atLinear(n)});return 1===this.logicalSelection.rows?new c(1,n.length,n,t.dataType):new c(n.length,1,n,t.dataType)},n.prototype.assign=function(t,n){if(n.isScalar){var r=n.scalarValue();this.selectedIndices.forEach(function(n){return t.setLinear(n,r)})}else{if(this.selectedIndices.length!==n.numel)throw"The number of elements in the RHS matrix ("+n.numel+") does not match the number of selected elements in the logically indexed matrix on the LHS ("+this.selectedIndices.length+").";this.selectedIndices.forEach(function(r,e){return t.setLinear(r,n.data[e])})}},n.prototype.visualize_selection=function(t){var n=$("<table></table>");n.addClass("matlab-index"),n.css("background-color",t.color);for(var r=new Set(this.selectedIndices),e=1;e<=t.rows;++e){var i=$("<tr></tr>");n.append(i);for(var u=1;u<=t.cols;++u){var a=$("<td><div class='highlight'></div></td>"),o=r.has(t.linearIndex(e,u));o&&a.addClass("selected");var c=$("<div></div>");c.addClass("matlab-raw-index"),c.html(o?"1":"0"),a.append(c);var s=$("<div></div>");s.addClass("matlab-scalar");var f=$("<span></span>");f.html(""+t.at(e,u)),s.append(f),a.append(s),i.append(a)}}return n[0].outerHTML},n}(d),m=function(){function t(t,n){this.name=t,this.value=n,this.elem=$('<li class="list-group-item"><span class="badge matlab-var-badge">'+t+"</span></li>").prepend(this.valueElem=$('<span class="matlab-var-holder"></span>')),this.refresh()}return t.prototype.refresh=function(){var t=this.elem.find(".matlab-var-holder");t.empty(),t.html(this.value.visualize_html())},t.prototype.setValue=function(t){this.value=t.clone(),this.refresh()},t.prototype.visualize_html=function(t){return this.value.visualize_html(t)},t}();n.Variable=m;var b=function(){function t(t,n){this.numArgs=t,this.func=n}return t.prototype.operate=function(t,n){try{return M(this.func(n,t))}catch(n){return T(new o(t,n))}},t.prototype.isValidNumberOfArgs=function(n){return Array.isArray(this.numArgs)?this.numArgs[0]<=n&&(n<=this.numArgs[1]||this.numArgs[1]===t.ARGS_INF):n===this.numArgs},t.ARGS_INF=-1,t}();function w(t){if(0===t.length)return new c(1,1,[0],"double");if(1===t.length){var n=t[0];if(n.isScalar){var r=n.scalarValue();return new c(r,r,new Array(r*r),"double")}if(1!==n.rows)throw"The one-argument version of this function requires a numeric row vector as an input.";return new c(n.atLinear(1),n.atLinear(2),new Array(n.atLinear(1)*n.atLinear(2)),"double")}if(2===t.length){var e=t[0],i=t[1];if(!e.isScalar)throw"The argument for the number of rows must be a scalar.";if(!i.isScalar)throw"The argument for the number of columns must be a scalar.";return new c(e.scalarValue(),i.scalarValue(),new Array(e.scalarValue()*i.scalarValue()),"double")}throw"Sorry, MatCrab does not support matrices with more than two dimensions."}function x(t,n,r){var e=1;if(n){if(!n.isScalar||n.scalarValue()<1||!Number.isInteger(n.scalarValue()))throw"The second argument specifying the operation dimension must be a positive integer scalar.";e=n.scalarValue()}return t.isVector?new c(1,1,[t.data.reduce(r)],"double"):1===e?t.accumulateCols(r):2===e?t.accumulateRows(r):t.clone()}function A(t,n){return(t=t.clone()).operateAll(n),t}function C(t){for(var n=t[0],r=n.clone(),e=1;e<=n.cols;++e)for(var i=1,u=r.rows;i<=n.rows;++i,--u)r.setAt(u,e,n.at(i,e));return r}function S(t){for(var n=t[0],r=n.clone(),e=1;e<=n.rows;++e)for(var i=1,u=r.cols;i<=n.cols;++i,--u)r.setAt(e,u,n.at(e,i));return r}n.MatlabFunction=b;var k,I={fliplr:new b(1,S),flipud:new b(1,C),flip:new b([1,2],function(t){if(1===t.length)return C(t);var n=t[1];if(!n.isScalar||n.scalarValue()<1||!Number.isInteger(n.scalarValue()))throw"The second argument specifying the flip dimension must be a positive integer scalar.";var r=n.scalarValue();return 1===r?C(t):2===r?S(t):t[0].clone()}),rot90:new b(1,function(t){for(var n=t[0],r=c.createSized(n.cols,n.rows,"double"),e=n.cols,i=1;e>=1;--e,++i)r.setRowData(i,n.colData(e));return r}),zeros:new b([0,b.ARGS_INF],function(t){return w(t).fill(0)}),ones:new b([0,b.ARGS_INF],function(t){return w(t).fill(1)}),eye:new b([0,b.ARGS_INF],function(t){for(var n=w(t).fill(0),r=Math.min(n.rows,n.cols),e=1;e<=r;++e)n.setAt(e,e,1);return n}),magic:new b(1,function(t){var n=w(t),r=n.rows;if(r%2!=0)for(var e=1,i=0,u=Math.floor(r/2),a=0;a<r;++a){for(var o=0;o<r;++o)n.setAt(i+1,u+1,e++),i=(i-1+r)%r,u=(u+1+r)%r;i=(i+2+r)%r,u=(u-1+r)%r}else if(2===r)n.setAll([1,4,3,2]);else if(4===r)n.setAll([16,5,9,4,2,11,7,14,3,10,6,15,13,8,12,1]);else if(6===r)n.setAll([35,3,31,8,30,4,1,32,9,28,5,36,6,7,2,33,34,29,26,21,22,17,12,13,19,23,27,10,14,18,24,25,20,15,16,11]);else if(8===r)n.setAll([64,9,17,40,32,41,49,8,2,55,47,26,34,23,15,58,3,54,46,27,35,22,14,59,61,12,20,37,29,44,52,5,60,13,21,36,28,45,53,4,6,51,43,30,38,19,11,62,7,50,42,31,39,18,10,63,57,16,24,33,25,48,56,1]);else{if(10!==r)throw"Sorry, MatCrab does not support magic matrices of even size greater than size 10.";n.setAll([92,98,4,85,86,17,23,79,10,11,99,80,81,87,93,24,5,6,12,18,1,7,88,19,25,76,82,13,94,100,8,14,20,21,2,83,89,95,96,77,15,16,22,3,9,90,91,97,78,84,67,73,54,60,61,42,48,29,35,36,74,55,56,62,68,49,30,31,37,43,51,57,63,69,75,26,32,38,44,50,58,64,70,71,52,33,39,45,46,27,40,41,47,28,34,65,66,72,53,59])}return n}),numel:new b(1,function(t){return c.scalar(t[0].numel,"double")}),length:new b(1,function(t){return c.scalar(Math.max(t[0].rows,t[0].cols),"double")}),size:new b(1,function(t){return new c(1,2,[t[0].rows,t[0].cols],"double")}),sum:new b([1,2],function(t){return x(t[0],t[1],function(t,n){return t+n})}),prod:new b([1,2],function(t){return x(t[0],t[1],function(t,n){return t*n})}),min:new b([1,2],function(t){return x(t[0],t[1],function(t,n){return Math.min(t,n)})}),max:new b([1,2],function(t){return x(t[0],t[1],function(t,n){return Math.max(t,n)})}),sqrt:new b(1,function(t){return A(t[0],function(t){return Math.sqrt(t)})}),sin:new b(1,function(t){return A(t[0],function(t){return Math.sin(t)})}),cos:new b(1,function(t){return A(t[0],function(t){return Math.cos(t)})}),tan:new b(1,function(t){return A(t[0],function(t){return Math.tan(t)})}),asin:new b(1,function(t){return A(t[0],function(t){return Math.asin(t)})}),acos:new b(1,function(t){return A(t[0],function(t){return Math.acos(t)})}),atan:new b(1,function(t){return A(t[0],function(t){return Math.atan(t)})}),sinh:new b(1,function(t){return A(t[0],function(t){return Math.sinh(t)})}),cosh:new b(1,function(t){return A(t[0],function(t){return Math.cosh(t)})}),tanh:new b(1,function(t){return A(t[0],function(t){return Math.tanh(t)})}),asinh:new b(1,function(t){return A(t[0],function(t){return Math.asinh(t)})}),acosh:new b(1,function(t){return A(t[0],function(t){return Math.acosh(t)})}),atanh:new b(1,function(t){return A(t[0],function(t){return Math.atanh(t)})}),display:new b([1,b.ARGS_INF],(k="display",function(t){throw"Sorry, MatCrab does not support the "+k+" function."})),imshow:new b(1,function(t,n){return new c(1,1,[1],"double")})},E=function(){function t(t){for(var n in this.vars={},this.functions={},this.endValueStack=[],this.listeners=[],this.elem=t,I)this.setFunction(n,I[n])}return t.setGlobalEnvironment=function(n){var r=new t(n);u.asMutable(t).global=r},t.prototype.hasVar=function(t){return this.vars.hasOwnProperty(t)},t.prototype.lookup=function(t){var n=this.vars[t];return n||this.functions[t]},t.prototype.varLookup=function(t){return this.vars[t]},t.prototype.functionLookup=function(t){return this.functions[t]},t.prototype.setVar=function(t,n){var r=this.vars[t];r?r.setValue(n):(r=new m(t,n),this.elem&&("ans"!==t?this.elem.append(r.elem):this.elem.prepend(r.elem)),this.vars[t]=r),this.listeners.forEach(function(t){return t.onVariableSet(r)})},t.prototype.setFunction=function(t,n){this.functions[t]=n},t.prototype.pushEndValue=function(t){this.endValueStack.push(t)},t.prototype.popEndValue=function(){this.endValueStack.pop()},t.prototype.addListener=function(t){this.listeners.push(t)},t}();n.Environment=E;var z=function(){function t(t,n){this.ast=t,this.env=n}return t.createRedX=function(){return $('<svg class="matlab-error-svg"><line x1="-20" y1="80%" x2="100%" y2="20%" style="stroke:rgba(255,0,0, 0.3);stroke-width:5" transform="translate(10,0)"></line><line style="stroke:rgba(255,0,0, 0.3);stroke-width:5" y2="80%" x2="100%" y1="20%" x1="-20" transform="translate(10,0)"></line></svg>')},t.create=function(t,n){return"statement_group"===t.what?new N(t,n):"assignment"===t.what?new L(t,n):"indexed_assignment"===t.what?new V(t,n):R.create(t,n)},t}();n.CodeConstruct=z;var j={kind:"unexecuted"};function O(t){return t.every(function(t){return"success"===t.kind})}function M(t){return{kind:"success",value:t}}function T(t){return{kind:"error",error:t}}n.allSuccess=O;var R=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.result=j,n}return i(n,t),n.create=function(t,n){return this.grammarToSubclass[t.what](t,n)},n.prototype.setResult=function(t){this.result=t},n.prototype.execute=function(){var t=this.evaluate();return this.setResult(t),t},n.prototype.visualize_html=function(t){var n=$("<div></div>"),r=$('<div class="matlab-exp">'+this.visualize_expr(t)+"</div>").appendTo(n);if("error"===this.result.kind&&this.result.error.construct===this){r.append(z.createRedX());var e=$('\n            <div class="matlab-exp-bottom">\n                <div class="matlab-exp-error">\n                    '+this.result.error.message+"\n                </div>\n            </div>");n.append(e)}return n[0].outerHTML},n.grammarToSubclass={matrix_exp:function(t,n){return new F(t,n)},row_exp:function(t,n){return new D(t,n)},range_exp:function(t,n){return new W(t,n)},or_exp:function(t,n){return new H(t,n)},and_exp:function(t,n){return new q(t,n)},eq_exp:function(t,n){return new G(t,n)},rel_exp:function(t,n){return new Z(t,n)},add_exp:function(t,n){return new B(t,n)},mult_exp:function(t,n){return new P(t,n)},unary_exp:function(t,n){return new K(t,n)},transpose_exp:function(t,n){return new J(t,n)},call_exp:function(t,n){return new Y(t,n)},colon_exp:function(t,n){return new Q(t,n)},integer:function(t,n){return new tt(t,n)},float:function(t,n){return new tt(t,n)},identifier:function(t,n){return new nt(t,n)}},n}(z);n.Expression=R;var L=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.lhs=R.create(n.identifier,r),e.rhs=R.create(n.exp,r),e}return i(n,t),n.prototype.execute=function(){var t=this.rhs.execute();if("success"!==t.kind)return t;var n=this.env,r=this.lhs.name;return n.setVar(r,t.value),this.updatedValue=t.value,t},n.prototype.visualize_html=function(){var t=$("<div></div>"),n='<div class="matlab-assignment">\n            '+this.lhs.name+"\n            &nbsp;=&nbsp;\n            "+this.rhs.visualize_html()+"\n        </div>";if(t.append(n),this.updatedValue){var r='<div class="matlab-assignment-result">\n                '+this.lhs.name+" is now "+this.updatedValue.visualize_html()+"\n            </div>";t.append(r)}return t[0].outerHTML},n}(z);n.Assignment=L;var V=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.targetName=n.lhs.target,e.indicies=n.lhs.args.map(function(t){return R.create(t,r)}),e.rhs=R.create(n.rhs,r),e}return i(n,t),n.prototype.evaluate=function(){var t=this,n=this.env.lookup(this.targetName);if(!n||n instanceof b)return T(new o(this,"Sorry, I can't find a variable named "+this.targetName));var r=n.value;if(this.originalMatrix=r.clone(),this.indicies.length>2)return T(new o(this,"Sorry, indexing in more that two dimensions is not currently supported."));var e=this.rhs.execute();if("success"!==e.kind)return e;var i=this.indicies.map(function(n,e){t.env.pushEndValue(r.length(e+1));var i=n.execute();return t.env.popEndValue(),i});if(!O(i))return i.find(function(t){return"success"!==t.kind});1===i.length?this.subarrayResult=d.create(this.indicies[0]instanceof Q?":":i[0].value):this.subarrayResult=f.create(this.indicies[0]instanceof Q?":":i[0].value,this.indicies[1]instanceof Q?":":i[1].value);try{return this.subarrayResult.verify(n.value),this.subarrayResult.assign(n.value,e.value),n.refresh(),this.updatedMatrix=n.value.clone(),M(this.updatedMatrix)}catch(t){return T(new o(this,t))}},n.prototype.visualize_expr=function(t){return"<div>\n            "+('<div class="matlab-assignment">\n            <div>\n                <div class="matlab-exp-index">\n                    '+(this.originalMatrix&&this.subarrayResult?this.subarrayResult.visualize_selection(this.originalMatrix):"")+'\n                    <div class="matlab-identifier-name">\n                        '+this.targetName+"\n                    </div>\n                </div>\n                \n            </div>\n            &nbsp;=&nbsp;\n            "+this.rhs.visualize_html()+"\n        </div>")+"\n            "+(this.updatedMatrix?'\n            <div class="matlab-assignment-result">\n                '+this.targetName+" is now "+this.updatedMatrix.visualize_html()+"\n            </div>":"")+"\n        </div>"},n}(R),N=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.statements=n.statements.map(function(t){return z.create(t,r)}),u.assert(e.statements.length>0),e}return i(n,t),n.prototype.execute=function(){for(var t,n=0;n<this.statements.length;++n){var r=this.statements[n];if(this.lastStatementExecuted=r,"success"!==(t=r.execute()).kind)return t}return t},n.prototype.visualize_html=function(){return this.lastStatementExecuted.visualize_html()},n}(z);n.StatementGroup=N;var F=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.rows=n.rows.map(function(t){return R.create(t,r)}),e}return i(n,t),n.prototype.evaluate=function(){var t=this.rows.map(function(t){return t.execute()});return O(t)?this.append_rows(t.map(function(t){return t.value})):t.find(function(t){return"success"!==t.kind})},n.prototype.append_rows=function(t){for(var n=[],r=t[0].cols,e=0,i=0;i<r;++i)n.push([]);for(i=0;i<t.length;++i){var u=t[i];if(e+=u.rows,u.cols!==r)return T(new o(this,"Mismatched matrix number of columns."));for(var a=0;a<r;++a)for(var s=0;s<u.rows;++s)n[a].push(u.at(s+1,a+1))}var f=[].concat.apply([],n);return M(new c(e,r,f,t.some(function(t){return"double"===t.dataType})?"double":t[0].dataType))},n.prototype.visualize_expr=function(){var t=$("<table></table>");t.addClass("matlab-table");var n=u.Color.WHITE;"success"===this.result.kind&&(n=this.result.value.color),t.css("background-color",n);for(var r=this.rows,e=0;e<r.length;++e){var i=$("<tr></tr>");t.append(i);var a=$("<td></td>");i.append(a),a.html(r[e].visualize_html({contained:!0}))}return t[0].outerHTML},n}(R),D=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.cols=n.cols.map(function(t){return R.create(t,r)}),e}return i(n,t),n.prototype.evaluate=function(){var t=this.cols.map(function(t){return t.execute()});return O(t)?this.append_cols(t.map(function(t){return t.value})):t.find(function(t){return"success"!==t.kind})},n.prototype.append_cols=function(t){var n=t[0].rows;return t.some(function(t){return t.rows!=n})?T(new o(this,"Mismatched matrix number of rows.")):M(new c(t[0].rows,t.reduce(function(t,n){return t+n.cols},0),t.reduce(function(t,n){return t=t.concat(n.data)},[]),t.some(function(t){return"double"===t.dataType})?"double":t[0].dataType))},n.prototype.visualize_expr=function(){var t=this.cols;if(1==t.length)return t[0].visualize_html();var n=$("<table></table>");n.addClass("matlab-table");var r=u.Color.WHITE;"success"===this.result.kind&&(r=this.result.value.color),n.css("background-color",r);var e=$("<tr></tr>");n.append(e);for(var i=0;i<t.length;++i){var a=$("<td></td>");e.append(a);t[i];a.html(t[i].visualize_html({contained:!0}))}return n[0].outerHTML},n}(R),W=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.start=R.create(n.start,r),e.end=R.create(n.end,r),e.step=n.step?R.create(n.step,r):null,e}return i(n,t),n.prototype.evaluate=function(){var t=this.start.execute(),n=this.end.execute(),r=this.step&&this.step.execute();if("success"!==t.kind)return t;if("success"!==n.kind)return n;if(r&&"success"!==r.kind)return r;var e=t.value.scalarValue(),i=n.value.scalarValue(),u=r?r.value.scalarValue():1,a=[];if(u>0){if(e<=i)for(;e<=i;)a.push(e),e+=u}else if(i<=e)for(;i<=e;)a.push(e),e+=u;return M(new c(1,a.length,a,"double"))},n.prototype.visualize_expr=function(){var t=void 0;if("success"===this.result.kind){for(var n=this.result.value,r="",e=1;e<=n.numel;++e)r+="<td>\n                    "+X(n.atLinear(e))+"\n                </td>";t='\n            <div class="matlab-range-result">\n                <table class="matlab-table" style="background-color: '+u.Color.toColor(n,u.Color.LIGHT_LETTERS)+'">\n                    <svg class="matlab-range-svg">\n                        <defs>\n                            <marker id="arrow" markerWidth="10" markerHeight="10" refx="9" refy="3" orient="auto" markerUnits="strokeWidth">\n                                <path d="M0,0 L0,6 L9,3 z" fill="#000" />\n                            </marker>\n                        </defs>\n                        <g transform="translate(-10,0)">\n                            <line x1="22" y1="25" x2="100%" y2="25" stroke="#000" stroke-width="1" marker-end="url(#arrow)" />\n                        </g>\n                    </svg>\n                    <tr>'+r+"</tr>\n                </table>\n            </div>"}return'<div class="matlab-range">\n            <div class="matlab-range-header">\n                <table class="matlab-table">\n                    <tr>\n                        <th>start</th>\n                        '+(this.step?"<th>step</th>":"")+"\n                        <th>end</th>\n                    </tr>\n                    <tr>\n                        <td>"+this.start.visualize_html()+"</td>\n                        "+(this.step?"<td>"+this.step.visualize_html()+"</td>":"")+"\n                        <td>"+this.end.visualize_html()+"</td>\n                    </tr>\n                </table>\n            </div>\n            "+t+"\n        </div>"},n}(R),U=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.op=n.op,e.left=R.create(n.left,r),e.right=R.create(n.right,r),e}return i(n,t),n.prototype.evaluate=function(){var t=this.left.execute(),n=this.right.execute();if("success"!==t.kind)return t;if("success"!==n.kind)return n;var r=this.checkOperands(t,n);return r||this.binaryOp(t.value,n.value,this.op,this.operators[this.op],this.dataType)},n.prototype.checkOperands=function(t,n){return null},n.prototype.binaryOp=function(t,n,r,e,i){var u,a,s=[];if(t.rows===n.rows&&t.cols===n.cols){for(var f=1;f<=t.numel;++f)s.push(e(t.atLinear(f),n.atLinear(f)));u=t.rows,a=t.cols}else if(t.isScalar){var l=t.scalarValue();for(f=1;f<=n.numel;++f)s.push(e(l,n.atLinear(f)));u=n.rows,a=n.cols}else{if(!n.isScalar)return T(new o(this,"Mismatched dimensions for operator "+r+". LHS is a "+t.rows+"x"+t.cols+" and RHS is a "+n.rows+"x"+n.cols+"."));var h=n.scalarValue();for(f=1;f<=t.numel;++f)s.push(e(t.atLinear(f),h));u=t.rows,a=t.cols}return M(new c(u,a,s,i))},n.prototype.visualize_expr=function(){return'<div class="matlab-exp-binaryOp">\n            <div>'+this.left.visualize_html()+"</div>\n            <div>&nbsp;"+this.op+"&nbsp;</div>\n            <div>"+this.right.visualize_html()+"</div>\n        </div>"},n}(R),B=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="double",n.operators={"+":function(t,n){return t+n},"-":function(t,n){return t-n}},n}return i(n,t),n}(U),P=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="double",n.operators={"*":function(t,n){return t*n},"/":function(t,n){return t/n},".*":function(t,n){return t*n},"./":function(t,n){return t/n},".^":function(t,n){return Math.pow(t,n)}},n}return i(n,t),n.prototype.checkOperands=function(t,n){return"*"!==this.op&&"/"!==this.op&&"^"!==this.op||t.value.isScalar||n.value.isScalar?null:T(new o(this,"Sorry, matrix multiplication, division, and exponentiation are not supported. You may use the element-wise versions (i.e. .*, ./, .^)."))},n}(U),H=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="logical",n.operators={"|":function(t,n){return t||n?1:0}},n}return i(n,t),n}(U),q=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="logical",n.operators={"&":function(t,n){return t&&n?1:0}},n}return i(n,t),n}(U),G=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="logical",n.operators={"==":function(t,n){return t===n?1:0},"~=":function(t,n){return t!==n?1:0}},n}return i(n,t),n}(U),Z=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="logical",n.operators={"<":function(t,n){return t<n?1:0},"<=":function(t,n){return t<=n?1:0},">":function(t,n){return t>n?1:0},">=":function(t,n){return t>=n?1:0}},n}return i(n,t),n}(U),K=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.operators={"+":function(t){return t},"-":function(t){return-t},"~":function(t){return t?0:1}},e.operatorDataTypes={"+":"double","-":"double","~":"logical"},e.op=n.op,e.operand=R.create(n.sub,r),e}return i(n,t),n.prototype.evaluate=function(){var t=this.operand.execute();if("success"!==t.kind)return t;var n=this.checkOperand(t);return n||this.unaryOp(t.value,this.operators[this.op],this.operatorDataTypes[this.op])},n.prototype.checkOperand=function(t){return null},n.prototype.unaryOp=function(t,n,r){return M(new c(t.rows,t.cols,t.data.map(n),r))},n.prototype.visualize_expr=function(){return'<div class="matlab-exp-unaryOp">\n            <div>'+this.op+"&nbsp;</div>\n            <div>"+this.operand.visualize_html()+"</div>\n        </div>"},n}(R);n.UnaryOperatorExpression=K;var J=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.numTransposes=n.transposes.length,e.operand=R.create(n.sub,r),e}return i(n,t),n.prototype.evaluate=function(){var t=this.operand.execute();if("success"!==t.kind)return t;for(var n=t.value,r=[],e=1;e<=n.rows;++e)for(var i=1;i<=n.cols;++i)r.push(n.at(e,i));return M(new c(n.cols,n.rows,r,n.dataType))},n.prototype.visualize_expr=function(){return'<div class="matlab-exp-unaryOp">\n            <div>transpose&nbsp;</div>\n            <div>'+this.operand.visualize_html()+"</div>\n        </div>"},n}(R);n.TransposeExpression=J;var Y=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.targetName=n.target,e.indiciesOrArgs=n.args.map(function(t){return R.create(t,r)}),e}return i(n,t),n.prototype.evaluate=function(){var t=this,n=this.env.lookup(this.targetName);if(!n)return T(new o(this,"Sorry, I can't find a variable or function named "+this.targetName));if(!(n instanceof m)){var r=this.executedFunction=n;if(!r.isValidNumberOfArgs(this.indiciesOrArgs.length))return T(new o(this,"Invalid number of arguments for the "+this.targetName+" function."));var e=this.indiciesOrArgs.map(function(t){return t.execute()});return O(e)?r.operate(this,e.map(function(t){return t.value})):e.find(function(t){return"success"!==t.kind})}var i=n.value;if(this.originalMatrix=i.clone(),this.indiciesOrArgs.length>2)return T(new o(this,"Sorry, indexing in more that two dimensions is not currently supported."));var u=this.indiciesOrArgs.map(function(n,r){t.env.pushEndValue(i.length(r+1));var e=n.execute();return t.env.popEndValue(),e});if(!O(u))return u.find(function(t){return"success"!==t.kind});1===u.length?this.subarrayResult=d.create(this.indiciesOrArgs[0]instanceof Q?":":u[0].value):this.subarrayResult=f.create(this.indiciesOrArgs[0]instanceof Q?":":u[0].value,this.indiciesOrArgs[1]instanceof Q?":":u[1].value);try{return this.subarrayResult.verify(i),M(this.subarrayResult.readValue(i))}catch(t){return T(new o(this,t))}},n.prototype.visualize_expr=function(t){return $("<div></div>").addClass("matlab-exp-index"),this.originalMatrix&&this.subarrayResult?'<div class="matlab-exp-index">\n                '+this.subarrayResult.visualize_selection(this.originalMatrix)+'\n                <div class="matlab-identifier-name">'+this.targetName+"</div>\n            </div>":this.executedFunction?'<div class="matlab-exp-call">\n                '+this.targetName+"(\n                    "+this.indiciesOrArgs.map(function(t){return'<div class="matlab-call-arg">'+t.visualize_html()+"</div>"}).join(",")+"\n                )</div>":""},n}(R),Q=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.evaluate=function(){return M(new c(1,1,[1],"double"))},n.prototype.visualize_expr=function(){return"<span>:</span>"},n}(R);function X(t){var n=c.formatNumber(t);return'<div class="matlab-scalar'+(n.length>3?" double":"")+'">\n        <span>'+n+"</span>\n    </div>"}var tt=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.literalValue=c.scalar(e.ast.value,"double"),e}return i(n,t),n.prototype.evaluate=function(){return M(this.literalValue)},n.prototype.visualize_expr=function(t){return t&&t.contained?X(this.literalValue.scalarValue()):this.literalValue.visualize_html()},n}(R);n.LiteralExpression=tt;var nt=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.name=n.identifier,e}return i(n,t),n.prototype.evaluate=function(){var t=this.env.lookup(this.name);return!t||t instanceof b?T(new o(this,"Cannot find variable "+this.name)):M(t.value)},n.prototype.visualize_expr=function(){return'<div class="matlab-identifier">\n            '+("success"===this.result.kind?this.result.value.visualize_html():"")+'\n            <div class="matlab-identifier-name">'+this.name+"</div>\n        </div>"},n}(R);n.IdentifierExpression=nt},function(t,n,r){(function(t,e){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var u,a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",s="__lodash_hash_undefined__",f=500,l="__lodash_placeholder__",h=1,p=2,v=4,d=1,g=2,_=1,y=2,m=4,b=8,w=16,x=32,A=64,C=128,S=256,k=512,I=30,E="...",z=800,j=16,O=1,M=2,T=1/0,$=9007199254740991,R=1.7976931348623157e308,L=NaN,V=4294967295,N=V-1,F=V>>>1,D=[["ary",C],["bind",_],["bindKey",y],["curry",b],["curryRight",w],["flip",k],["partial",x],["partialRight",A],["rearg",S]],W="[object Arguments]",U="[object Array]",B="[object AsyncFunction]",P="[object Boolean]",H="[object Date]",q="[object DOMException]",G="[object Error]",Z="[object Function]",K="[object GeneratorFunction]",J="[object Map]",Y="[object Number]",Q="[object Null]",X="[object Object]",tt="[object Proxy]",nt="[object RegExp]",rt="[object Set]",et="[object String]",it="[object Symbol]",ut="[object Undefined]",at="[object WeakMap]",ot="[object WeakSet]",ct="[object ArrayBuffer]",st="[object DataView]",ft="[object Float32Array]",lt="[object Float64Array]",ht="[object Int8Array]",pt="[object Int16Array]",vt="[object Int32Array]",dt="[object Uint8Array]",gt="[object Uint8ClampedArray]",_t="[object Uint16Array]",yt="[object Uint32Array]",mt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,At=/[&<>"']/g,Ct=RegExp(xt.source),St=RegExp(At.source),kt=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,Et=/<%=([\s\S]+?)%>/g,zt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jt=/^\w*$/,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/[\\^$.*+?()[\]{}|]/g,Tt=RegExp(Mt.source),$t=/^\s+|\s+$/g,Rt=/^\s+/,Lt=/\s+$/,Vt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ft=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bt=/\w*$/,Pt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="[\\ud800-\\udfff]",nn="["+Xt+"]",rn="["+Qt+"]",en="\\d+",un="[\\u2700-\\u27bf]",an="[a-z\\xdf-\\xf6\\xf8-\\xff]",on="[^\\ud800-\\udfff"+Xt+en+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",cn="\\ud83c[\\udffb-\\udfff]",sn="[^\\ud800-\\udfff]",fn="(?:\\ud83c[\\udde6-\\uddff]){2}",ln="[\\ud800-\\udbff][\\udc00-\\udfff]",hn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",pn="(?:"+an+"|"+on+")",vn="(?:"+hn+"|"+on+")",dn="(?:"+rn+"|"+cn+")"+"?",gn="[\\ufe0e\\ufe0f]?"+dn+("(?:\\u200d(?:"+[sn,fn,ln].join("|")+")[\\ufe0e\\ufe0f]?"+dn+")*"),_n="(?:"+[un,fn,ln].join("|")+")"+gn,yn="(?:"+[sn+rn+"?",rn,fn,ln,tn].join("|")+")",mn=RegExp("['’]","g"),bn=RegExp(rn,"g"),wn=RegExp(cn+"(?="+cn+")|"+yn+gn,"g"),xn=RegExp([hn+"?"+an+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[nn,hn,"$"].join("|")+")",vn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[nn,hn+pn,"$"].join("|")+")",hn+"?"+pn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",hn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",en,_n].join("|"),"g"),An=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),Cn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],kn=-1,In={};In[ft]=In[lt]=In[ht]=In[pt]=In[vt]=In[dt]=In[gt]=In[_t]=In[yt]=!0,In[W]=In[U]=In[ct]=In[P]=In[st]=In[H]=In[G]=In[Z]=In[J]=In[Y]=In[X]=In[nt]=In[rt]=In[et]=In[at]=!1;var En={};En[W]=En[U]=En[ct]=En[st]=En[P]=En[H]=En[ft]=En[lt]=En[ht]=En[pt]=En[vt]=En[J]=En[Y]=En[X]=En[nt]=En[rt]=En[et]=En[it]=En[dt]=En[gt]=En[_t]=En[yt]=!0,En[G]=En[Z]=En[at]=!1;var zn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jn=parseFloat,On=parseInt,Mn="object"==typeof t&&t&&t.Object===Object&&t,Tn="object"==typeof self&&self&&self.Object===Object&&self,$n=Mn||Tn||Function("return this")(),Rn=n&&!n.nodeType&&n,Ln=Rn&&"object"==typeof e&&e&&!e.nodeType&&e,Vn=Ln&&Ln.exports===Rn,Nn=Vn&&Mn.process,Fn=function(){try{var t=Ln&&Ln.require&&Ln.require("util").types;return t||Nn&&Nn.binding&&Nn.binding("util")}catch(t){}}(),Dn=Fn&&Fn.isArrayBuffer,Wn=Fn&&Fn.isDate,Un=Fn&&Fn.isMap,Bn=Fn&&Fn.isRegExp,Pn=Fn&&Fn.isSet,Hn=Fn&&Fn.isTypedArray;function qn(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}function Gn(t,n,r,e){for(var i=-1,u=null==t?0:t.length;++i<u;){var a=t[i];n(e,a,r(a),t)}return e}function Zn(t,n){for(var r=-1,e=null==t?0:t.length;++r<e&&!1!==n(t[r],r,t););return t}function Kn(t,n){for(var r=null==t?0:t.length;r--&&!1!==n(t[r],r,t););return t}function Jn(t,n){for(var r=-1,e=null==t?0:t.length;++r<e;)if(!n(t[r],r,t))return!1;return!0}function Yn(t,n){for(var r=-1,e=null==t?0:t.length,i=0,u=[];++r<e;){var a=t[r];n(a,r,t)&&(u[i++]=a)}return u}function Qn(t,n){return!!(null==t?0:t.length)&&cr(t,n,0)>-1}function Xn(t,n,r){for(var e=-1,i=null==t?0:t.length;++e<i;)if(r(n,t[e]))return!0;return!1}function tr(t,n){for(var r=-1,e=null==t?0:t.length,i=Array(e);++r<e;)i[r]=n(t[r],r,t);return i}function nr(t,n){for(var r=-1,e=n.length,i=t.length;++r<e;)t[i+r]=n[r];return t}function rr(t,n,r,e){var i=-1,u=null==t?0:t.length;for(e&&u&&(r=t[++i]);++i<u;)r=n(r,t[i],i,t);return r}function er(t,n,r,e){var i=null==t?0:t.length;for(e&&i&&(r=t[--i]);i--;)r=n(r,t[i],i,t);return r}function ir(t,n){for(var r=-1,e=null==t?0:t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}var ur=hr("length");function ar(t,n,r){var e;return r(t,function(t,r,i){if(n(t,r,i))return e=r,!1}),e}function or(t,n,r,e){for(var i=t.length,u=r+(e?1:-1);e?u--:++u<i;)if(n(t[u],u,t))return u;return-1}function cr(t,n,r){return n==n?function(t,n,r){var e=r-1,i=t.length;for(;++e<i;)if(t[e]===n)return e;return-1}(t,n,r):or(t,fr,r)}function sr(t,n,r,e){for(var i=r-1,u=t.length;++i<u;)if(e(t[i],n))return i;return-1}function fr(t){return t!=t}function lr(t,n){var r=null==t?0:t.length;return r?dr(t,n)/r:L}function hr(t){return function(n){return null==n?u:n[t]}}function pr(t){return function(n){return null==t?u:t[n]}}function vr(t,n,r,e,i){return i(t,function(t,i,u){r=e?(e=!1,t):n(r,t,i,u)}),r}function dr(t,n){for(var r,e=-1,i=t.length;++e<i;){var a=n(t[e]);a!==u&&(r=r===u?a:r+a)}return r}function gr(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}function _r(t){return function(n){return t(n)}}function yr(t,n){return tr(n,function(n){return t[n]})}function mr(t,n){return t.has(n)}function br(t,n){for(var r=-1,e=t.length;++r<e&&cr(n,t[r],0)>-1;);return r}function wr(t,n){for(var r=t.length;r--&&cr(n,t[r],0)>-1;);return r}var xr=pr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ar=pr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cr(t){return"\\"+zn[t]}function Sr(t){return An.test(t)}function kr(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function Ir(t,n){return function(r){return t(n(r))}}function Er(t,n){for(var r=-1,e=t.length,i=0,u=[];++r<e;){var a=t[r];a!==n&&a!==l||(t[r]=l,u[i++]=r)}return u}function zr(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=t}),r}function jr(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=[t,t]}),r}function Or(t){return Sr(t)?function(t){var n=wn.lastIndex=0;for(;wn.test(t);)++n;return n}(t):ur(t)}function Mr(t){return Sr(t)?function(t){return t.match(wn)||[]}(t):function(t){return t.split("")}(t)}var Tr=pr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $r=function t(n){var r,e=(n=null==n?$n:$r.defaults($n.Object(),n,$r.pick($n,Sn))).Array,i=n.Date,Qt=n.Error,Xt=n.Function,tn=n.Math,nn=n.Object,rn=n.RegExp,en=n.String,un=n.TypeError,an=e.prototype,on=Xt.prototype,cn=nn.prototype,sn=n["__core-js_shared__"],fn=on.toString,ln=cn.hasOwnProperty,hn=0,pn=(r=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",vn=cn.toString,dn=fn.call(nn),gn=$n._,_n=rn("^"+fn.call(ln).replace(Mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yn=Vn?n.Buffer:u,wn=n.Symbol,An=n.Uint8Array,zn=yn?yn.allocUnsafe:u,Mn=Ir(nn.getPrototypeOf,nn),Tn=nn.create,Rn=cn.propertyIsEnumerable,Ln=an.splice,Nn=wn?wn.isConcatSpreadable:u,Fn=wn?wn.iterator:u,ur=wn?wn.toStringTag:u,pr=function(){try{var t=Nu(nn,"defineProperty");return t({},"",{}),t}catch(t){}}(),Rr=n.clearTimeout!==$n.clearTimeout&&n.clearTimeout,Lr=i&&i.now!==$n.Date.now&&i.now,Vr=n.setTimeout!==$n.setTimeout&&n.setTimeout,Nr=tn.ceil,Fr=tn.floor,Dr=nn.getOwnPropertySymbols,Wr=yn?yn.isBuffer:u,Ur=n.isFinite,Br=an.join,Pr=Ir(nn.keys,nn),Hr=tn.max,qr=tn.min,Gr=i.now,Zr=n.parseInt,Kr=tn.random,Jr=an.reverse,Yr=Nu(n,"DataView"),Qr=Nu(n,"Map"),Xr=Nu(n,"Promise"),te=Nu(n,"Set"),ne=Nu(n,"WeakMap"),re=Nu(nn,"create"),ee=ne&&new ne,ie={},ue=fa(Yr),ae=fa(Qr),oe=fa(Xr),ce=fa(te),se=fa(ne),fe=wn?wn.prototype:u,le=fe?fe.valueOf:u,he=fe?fe.toString:u;function pe(t){if(Eo(t)&&!_o(t)&&!(t instanceof _e)){if(t instanceof ge)return t;if(ln.call(t,"__wrapped__"))return la(t)}return new ge(t)}var ve=function(){function t(){}return function(n){if(!Io(n))return{};if(Tn)return Tn(n);t.prototype=n;var r=new t;return t.prototype=u,r}}();function de(){}function ge(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=u}function _e(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function ye(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function me(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function be(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function we(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new be;++n<r;)this.add(t[n])}function xe(t){var n=this.__data__=new me(t);this.size=n.size}function Ae(t,n){var r=_o(t),e=!r&&go(t),i=!r&&!e&&wo(t),u=!r&&!e&&!i&&Lo(t),a=r||e||i||u,o=a?gr(t.length,en):[],c=o.length;for(var s in t)!n&&!ln.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||u&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Hu(s,c))||o.push(s);return o}function Ce(t){var n=t.length;return n?t[wi(0,n-1)]:u}function Se(t,n){return oa(ru(t),$e(n,0,t.length))}function ke(t){return oa(ru(t))}function Ie(t,n,r){(r===u||ho(t[n],r))&&(r!==u||n in t)||Me(t,n,r)}function Ee(t,n,r){var e=t[n];ln.call(t,n)&&ho(e,r)&&(r!==u||n in t)||Me(t,n,r)}function ze(t,n){for(var r=t.length;r--;)if(ho(t[r][0],n))return r;return-1}function je(t,n,r,e){return Fe(t,function(t,i,u){n(e,t,r(t),u)}),e}function Oe(t,n){return t&&eu(n,ic(n),t)}function Me(t,n,r){"__proto__"==n&&pr?pr(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}function Te(t,n){for(var r=-1,i=n.length,a=e(i),o=null==t;++r<i;)a[r]=o?u:Xo(t,n[r]);return a}function $e(t,n,r){return t==t&&(r!==u&&(t=t<=r?t:r),n!==u&&(t=t>=n?t:n)),t}function Re(t,n,r,e,i,a){var o,c=n&h,s=n&p,f=n&v;if(r&&(o=i?r(t,e,i,a):r(t)),o!==u)return o;if(!Io(t))return t;var l=_o(t);if(l){if(o=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&ln.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return ru(t,o)}else{var d=Wu(t),g=d==Z||d==K;if(wo(t))return Ji(t,c);if(d==X||d==W||g&&!i){if(o=s||g?{}:Bu(t),!c)return s?function(t,n){return eu(t,Du(t),n)}(t,function(t,n){return t&&eu(n,uc(n),t)}(o,t)):function(t,n){return eu(t,Fu(t),n)}(t,Oe(o,t))}else{if(!En[d])return i?t:{};o=function(t,n,r){var e,i=t.constructor;switch(n){case ct:return Yi(t);case P:case H:return new i(+t);case st:return function(t,n){var r=n?Yi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case ft:case lt:case ht:case pt:case vt:case dt:case gt:case _t:case yt:return Qi(t,r);case J:return new i;case Y:case et:return new i(t);case nt:return function(t){var n=new t.constructor(t.source,Bt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case rt:return new i;case it:return e=t,le?nn(le.call(e)):{}}}(t,d,c)}}a||(a=new xe);var _=a.get(t);if(_)return _;if(a.set(t,o),To(t))return t.forEach(function(e){o.add(Re(e,n,r,e,t,a))}),o;if(zo(t))return t.forEach(function(e,i){o.set(i,Re(e,n,r,i,t,a))}),o;var y=l?u:(f?s?Ou:ju:s?uc:ic)(t);return Zn(y||t,function(e,i){y&&(e=t[i=e]),Ee(o,i,Re(e,n,r,i,t,a))}),o}function Le(t,n,r){var e=r.length;if(null==t)return!e;for(t=nn(t);e--;){var i=r[e],a=n[i],o=t[i];if(o===u&&!(i in t)||!a(o))return!1}return!0}function Ve(t,n,r){if("function"!=typeof t)throw new un(c);return ea(function(){t.apply(u,r)},n)}function Ne(t,n,r,e){var i=-1,u=Qn,o=!0,c=t.length,s=[],f=n.length;if(!c)return s;r&&(n=tr(n,_r(r))),e?(u=Xn,o=!1):n.length>=a&&(u=mr,o=!1,n=new we(n));t:for(;++i<c;){var l=t[i],h=null==r?l:r(l);if(l=e||0!==l?l:0,o&&h==h){for(var p=f;p--;)if(n[p]===h)continue t;s.push(l)}else u(n,h,e)||s.push(l)}return s}pe.templateSettings={escape:kt,evaluate:It,interpolate:Et,variable:"",imports:{_:pe}},pe.prototype=de.prototype,pe.prototype.constructor=pe,ge.prototype=ve(de.prototype),ge.prototype.constructor=ge,_e.prototype=ve(de.prototype),_e.prototype.constructor=_e,ye.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},ye.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},ye.prototype.get=function(t){var n=this.__data__;if(re){var r=n[t];return r===s?u:r}return ln.call(n,t)?n[t]:u},ye.prototype.has=function(t){var n=this.__data__;return re?n[t]!==u:ln.call(n,t)},ye.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=re&&n===u?s:n,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(t){var n=this.__data__,r=ze(n,t);return!(r<0||(r==n.length-1?n.pop():Ln.call(n,r,1),--this.size,0))},me.prototype.get=function(t){var n=this.__data__,r=ze(n,t);return r<0?u:n[r][1]},me.prototype.has=function(t){return ze(this.__data__,t)>-1},me.prototype.set=function(t,n){var r=this.__data__,e=ze(r,t);return e<0?(++this.size,r.push([t,n])):r[e][1]=n,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new ye,map:new(Qr||me),string:new ye}},be.prototype.delete=function(t){var n=Lu(this,t).delete(t);return this.size-=n?1:0,n},be.prototype.get=function(t){return Lu(this,t).get(t)},be.prototype.has=function(t){return Lu(this,t).has(t)},be.prototype.set=function(t,n){var r=Lu(this,t),e=r.size;return r.set(t,n),this.size+=r.size==e?0:1,this},we.prototype.add=we.prototype.push=function(t){return this.__data__.set(t,s),this},we.prototype.has=function(t){return this.__data__.has(t)},xe.prototype.clear=function(){this.__data__=new me,this.size=0},xe.prototype.delete=function(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r},xe.prototype.get=function(t){return this.__data__.get(t)},xe.prototype.has=function(t){return this.__data__.has(t)},xe.prototype.set=function(t,n){var r=this.__data__;if(r instanceof me){var e=r.__data__;if(!Qr||e.length<a-1)return e.push([t,n]),this.size=++r.size,this;r=this.__data__=new be(e)}return r.set(t,n),this.size=r.size,this};var Fe=au(Ge),De=au(Ze,!0);function We(t,n){var r=!0;return Fe(t,function(t,e,i){return r=!!n(t,e,i)}),r}function Ue(t,n,r){for(var e=-1,i=t.length;++e<i;){var a=t[e],o=n(a);if(null!=o&&(c===u?o==o&&!Ro(o):r(o,c)))var c=o,s=a}return s}function Be(t,n){var r=[];return Fe(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r}function Pe(t,n,r,e,i){var u=-1,a=t.length;for(r||(r=Pu),i||(i=[]);++u<a;){var o=t[u];n>0&&r(o)?n>1?Pe(o,n-1,r,e,i):nr(i,o):e||(i[i.length]=o)}return i}var He=ou(),qe=ou(!0);function Ge(t,n){return t&&He(t,n,ic)}function Ze(t,n){return t&&qe(t,n,ic)}function Ke(t,n){return Yn(n,function(n){return Co(t[n])})}function Je(t,n){for(var r=0,e=(n=qi(n,t)).length;null!=t&&r<e;)t=t[sa(n[r++])];return r&&r==e?t:u}function Ye(t,n,r){var e=n(t);return _o(t)?e:nr(e,r(t))}function Qe(t){return null==t?t===u?ut:Q:ur&&ur in nn(t)?function(t){var n=ln.call(t,ur),r=t[ur];try{t[ur]=u;var e=!0}catch(t){}var i=vn.call(t);return e&&(n?t[ur]=r:delete t[ur]),i}(t):function(t){return vn.call(t)}(t)}function Xe(t,n){return t>n}function ti(t,n){return null!=t&&ln.call(t,n)}function ni(t,n){return null!=t&&n in nn(t)}function ri(t,n,r){for(var i=r?Xn:Qn,a=t[0].length,o=t.length,c=o,s=e(o),f=1/0,l=[];c--;){var h=t[c];c&&n&&(h=tr(h,_r(n))),f=qr(h.length,f),s[c]=!r&&(n||a>=120&&h.length>=120)?new we(c&&h):u}h=t[0];var p=-1,v=s[0];t:for(;++p<a&&l.length<f;){var d=h[p],g=n?n(d):d;if(d=r||0!==d?d:0,!(v?mr(v,g):i(l,g,r))){for(c=o;--c;){var _=s[c];if(!(_?mr(_,g):i(t[c],g,r)))continue t}v&&v.push(g),l.push(d)}}return l}function ei(t,n,r){var e=null==(t=ta(t,n=qi(n,t)))?t:t[sa(xa(n))];return null==e?u:qn(e,t,r)}function ii(t){return Eo(t)&&Qe(t)==W}function ui(t,n,r,e,i){return t===n||(null==t||null==n||!Eo(t)&&!Eo(n)?t!=t&&n!=n:function(t,n,r,e,i,a){var o=_o(t),c=_o(n),s=o?U:Wu(t),f=c?U:Wu(n),l=(s=s==W?X:s)==X,h=(f=f==W?X:f)==X,p=s==f;if(p&&wo(t)){if(!wo(n))return!1;o=!0,l=!1}if(p&&!l)return a||(a=new xe),o||Lo(t)?Eu(t,n,r,e,i,a):function(t,n,r,e,i,u,a){switch(r){case st:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ct:return!(t.byteLength!=n.byteLength||!u(new An(t),new An(n)));case P:case H:case Y:return ho(+t,+n);case G:return t.name==n.name&&t.message==n.message;case nt:case et:return t==n+"";case J:var o=kr;case rt:var c=e&d;if(o||(o=zr),t.size!=n.size&&!c)return!1;var s=a.get(t);if(s)return s==n;e|=g,a.set(t,n);var f=Eu(o(t),o(n),e,i,u,a);return a.delete(t),f;case it:if(le)return le.call(t)==le.call(n)}return!1}(t,n,s,r,e,i,a);if(!(r&d)){var v=l&&ln.call(t,"__wrapped__"),_=h&&ln.call(n,"__wrapped__");if(v||_){var y=v?t.value():t,m=_?n.value():n;return a||(a=new xe),i(y,m,r,e,a)}}return!!p&&(a||(a=new xe),function(t,n,r,e,i,a){var o=r&d,c=ju(t),s=c.length,f=ju(n).length;if(s!=f&&!o)return!1;for(var l=s;l--;){var h=c[l];if(!(o?h in n:ln.call(n,h)))return!1}var p=a.get(t);if(p&&a.get(n))return p==n;var v=!0;a.set(t,n),a.set(n,t);for(var g=o;++l<s;){h=c[l];var _=t[h],y=n[h];if(e)var m=o?e(y,_,h,n,t,a):e(_,y,h,t,n,a);if(!(m===u?_===y||i(_,y,r,e,a):m)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var b=t.constructor,w=n.constructor;b!=w&&"constructor"in t&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(v=!1)}return a.delete(t),a.delete(n),v}(t,n,r,e,i,a))}(t,n,r,e,ui,i))}function ai(t,n,r,e){var i=r.length,a=i,o=!e;if(null==t)return!a;for(t=nn(t);i--;){var c=r[i];if(o&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){var s=(c=r[i])[0],f=t[s],l=c[1];if(o&&c[2]){if(f===u&&!(s in t))return!1}else{var h=new xe;if(e)var p=e(f,l,s,t,n,h);if(!(p===u?ui(l,f,d|g,e,h):p))return!1}}return!0}function oi(t){return!(!Io(t)||(n=t,pn&&pn in n))&&(Co(t)?_n:qt).test(fa(t));var n}function ci(t){return"function"==typeof t?t:null==t?jc:"object"==typeof t?_o(t)?vi(t[0],t[1]):pi(t):Fc(t)}function si(t){if(!Ju(t))return Pr(t);var n=[];for(var r in nn(t))ln.call(t,r)&&"constructor"!=r&&n.push(r);return n}function fi(t){if(!Io(t))return function(t){var n=[];if(null!=t)for(var r in nn(t))n.push(r);return n}(t);var n=Ju(t),r=[];for(var e in t)("constructor"!=e||!n&&ln.call(t,e))&&r.push(e);return r}function li(t,n){return t<n}function hi(t,n){var r=-1,i=mo(t)?e(t.length):[];return Fe(t,function(t,e,u){i[++r]=n(t,e,u)}),i}function pi(t){var n=Vu(t);return 1==n.length&&n[0][2]?Qu(n[0][0],n[0][1]):function(r){return r===t||ai(r,t,n)}}function vi(t,n){return Gu(t)&&Yu(n)?Qu(sa(t),n):function(r){var e=Xo(r,t);return e===u&&e===n?tc(r,t):ui(n,e,d|g)}}function di(t,n,r,e,i){t!==n&&He(n,function(a,o){if(Io(a))i||(i=new xe),function(t,n,r,e,i,a,o){var c=na(t,r),s=na(n,r),f=o.get(s);if(f)Ie(t,r,f);else{var l=a?a(c,s,r+"",t,n,o):u,h=l===u;if(h){var p=_o(s),v=!p&&wo(s),d=!p&&!v&&Lo(s);l=s,p||v||d?_o(c)?l=c:bo(c)?l=ru(c):v?(h=!1,l=Ji(s,!0)):d?(h=!1,l=Qi(s,!0)):l=[]:Oo(s)||go(s)?(l=c,go(c)?l=Po(c):Io(c)&&!Co(c)||(l=Bu(s))):h=!1}h&&(o.set(s,l),i(l,s,e,a,o),o.delete(s)),Ie(t,r,l)}}(t,n,o,r,di,e,i);else{var c=e?e(na(t,o),a,o+"",t,n,i):u;c===u&&(c=a),Ie(t,o,c)}},uc)}function gi(t,n){var r=t.length;if(r)return Hu(n+=n<0?r:0,r)?t[n]:u}function _i(t,n,r){var e=-1;return n=tr(n.length?n:[jc],_r(Ru())),function(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}(hi(t,function(t,r,i){return{criteria:tr(n,function(n){return n(t)}),index:++e,value:t}}),function(t,n){return function(t,n,r){for(var e=-1,i=t.criteria,u=n.criteria,a=i.length,o=r.length;++e<a;){var c=Xi(i[e],u[e]);if(c){if(e>=o)return c;var s=r[e];return c*("desc"==s?-1:1)}}return t.index-n.index}(t,n,r)})}function yi(t,n,r){for(var e=-1,i=n.length,u={};++e<i;){var a=n[e],o=Je(t,a);r(o,a)&&ki(u,qi(a,t),o)}return u}function mi(t,n,r,e){var i=e?sr:cr,u=-1,a=n.length,o=t;for(t===n&&(n=ru(n)),r&&(o=tr(t,_r(r)));++u<a;)for(var c=0,s=n[u],f=r?r(s):s;(c=i(o,f,c,e))>-1;)o!==t&&Ln.call(o,c,1),Ln.call(t,c,1);return t}function bi(t,n){for(var r=t?n.length:0,e=r-1;r--;){var i=n[r];if(r==e||i!==u){var u=i;Hu(i)?Ln.call(t,i,1):Ni(t,i)}}return t}function wi(t,n){return t+Fr(Kr()*(n-t+1))}function xi(t,n){var r="";if(!t||n<1||n>$)return r;do{n%2&&(r+=t),(n=Fr(n/2))&&(t+=t)}while(n);return r}function Ai(t,n){return ia(Xu(t,n,jc),t+"")}function Ci(t){return Ce(pc(t))}function Si(t,n){var r=pc(t);return oa(r,$e(n,0,r.length))}function ki(t,n,r,e){if(!Io(t))return t;for(var i=-1,a=(n=qi(n,t)).length,o=a-1,c=t;null!=c&&++i<a;){var s=sa(n[i]),f=r;if(i!=o){var l=c[s];(f=e?e(l,s,c):u)===u&&(f=Io(l)?l:Hu(n[i+1])?[]:{})}Ee(c,s,f),c=c[s]}return t}var Ii=ee?function(t,n){return ee.set(t,n),t}:jc,Ei=pr?function(t,n){return pr(t,"toString",{configurable:!0,enumerable:!1,value:Ic(n),writable:!0})}:jc;function zi(t){return oa(pc(t))}function ji(t,n,r){var i=-1,u=t.length;n<0&&(n=-n>u?0:u+n),(r=r>u?u:r)<0&&(r+=u),u=n>r?0:r-n>>>0,n>>>=0;for(var a=e(u);++i<u;)a[i]=t[i+n];return a}function Oi(t,n){var r;return Fe(t,function(t,e,i){return!(r=n(t,e,i))}),!!r}function Mi(t,n,r){var e=0,i=null==t?e:t.length;if("number"==typeof n&&n==n&&i<=F){for(;e<i;){var u=e+i>>>1,a=t[u];null!==a&&!Ro(a)&&(r?a<=n:a<n)?e=u+1:i=u}return i}return Ti(t,n,jc,r)}function Ti(t,n,r,e){n=r(n);for(var i=0,a=null==t?0:t.length,o=n!=n,c=null===n,s=Ro(n),f=n===u;i<a;){var l=Fr((i+a)/2),h=r(t[l]),p=h!==u,v=null===h,d=h==h,g=Ro(h);if(o)var _=e||d;else _=f?d&&(e||p):c?d&&p&&(e||!v):s?d&&p&&!v&&(e||!g):!v&&!g&&(e?h<=n:h<n);_?i=l+1:a=l}return qr(a,N)}function $i(t,n){for(var r=-1,e=t.length,i=0,u=[];++r<e;){var a=t[r],o=n?n(a):a;if(!r||!ho(o,c)){var c=o;u[i++]=0===a?0:a}}return u}function Ri(t){return"number"==typeof t?t:Ro(t)?L:+t}function Li(t){if("string"==typeof t)return t;if(_o(t))return tr(t,Li)+"";if(Ro(t))return he?he.call(t):"";var n=t+"";return"0"==n&&1/t==-T?"-0":n}function Vi(t,n,r){var e=-1,i=Qn,u=t.length,o=!0,c=[],s=c;if(r)o=!1,i=Xn;else if(u>=a){var f=n?null:xu(t);if(f)return zr(f);o=!1,i=mr,s=new we}else s=n?[]:c;t:for(;++e<u;){var l=t[e],h=n?n(l):l;if(l=r||0!==l?l:0,o&&h==h){for(var p=s.length;p--;)if(s[p]===h)continue t;n&&s.push(h),c.push(l)}else i(s,h,r)||(s!==c&&s.push(h),c.push(l))}return c}function Ni(t,n){return null==(t=ta(t,n=qi(n,t)))||delete t[sa(xa(n))]}function Fi(t,n,r,e){return ki(t,n,r(Je(t,n)),e)}function Di(t,n,r,e){for(var i=t.length,u=e?i:-1;(e?u--:++u<i)&&n(t[u],u,t););return r?ji(t,e?0:u,e?u+1:i):ji(t,e?u+1:0,e?i:u)}function Wi(t,n){var r=t;return r instanceof _e&&(r=r.value()),rr(n,function(t,n){return n.func.apply(n.thisArg,nr([t],n.args))},r)}function Ui(t,n,r){var i=t.length;if(i<2)return i?Vi(t[0]):[];for(var u=-1,a=e(i);++u<i;)for(var o=t[u],c=-1;++c<i;)c!=u&&(a[u]=Ne(a[u]||o,t[c],n,r));return Vi(Pe(a,1),n,r)}function Bi(t,n,r){for(var e=-1,i=t.length,a=n.length,o={};++e<i;){var c=e<a?n[e]:u;r(o,t[e],c)}return o}function Pi(t){return bo(t)?t:[]}function Hi(t){return"function"==typeof t?t:jc}function qi(t,n){return _o(t)?t:Gu(t,n)?[t]:ca(Ho(t))}var Gi=Ai;function Zi(t,n,r){var e=t.length;return r=r===u?e:r,!n&&r>=e?t:ji(t,n,r)}var Ki=Rr||function(t){return $n.clearTimeout(t)};function Ji(t,n){if(n)return t.slice();var r=t.length,e=zn?zn(r):new t.constructor(r);return t.copy(e),e}function Yi(t){var n=new t.constructor(t.byteLength);return new An(n).set(new An(t)),n}function Qi(t,n){var r=n?Yi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Xi(t,n){if(t!==n){var r=t!==u,e=null===t,i=t==t,a=Ro(t),o=n!==u,c=null===n,s=n==n,f=Ro(n);if(!c&&!f&&!a&&t>n||a&&o&&s&&!c&&!f||e&&o&&s||!r&&s||!i)return 1;if(!e&&!a&&!f&&t<n||f&&r&&i&&!e&&!a||c&&r&&i||!o&&i||!s)return-1}return 0}function tu(t,n,r,i){for(var u=-1,a=t.length,o=r.length,c=-1,s=n.length,f=Hr(a-o,0),l=e(s+f),h=!i;++c<s;)l[c]=n[c];for(;++u<o;)(h||u<a)&&(l[r[u]]=t[u]);for(;f--;)l[c++]=t[u++];return l}function nu(t,n,r,i){for(var u=-1,a=t.length,o=-1,c=r.length,s=-1,f=n.length,l=Hr(a-c,0),h=e(l+f),p=!i;++u<l;)h[u]=t[u];for(var v=u;++s<f;)h[v+s]=n[s];for(;++o<c;)(p||u<a)&&(h[v+r[o]]=t[u++]);return h}function ru(t,n){var r=-1,i=t.length;for(n||(n=e(i));++r<i;)n[r]=t[r];return n}function eu(t,n,r,e){var i=!r;r||(r={});for(var a=-1,o=n.length;++a<o;){var c=n[a],s=e?e(r[c],t[c],c,r,t):u;s===u&&(s=t[c]),i?Me(r,c,s):Ee(r,c,s)}return r}function iu(t,n){return function(r,e){var i=_o(r)?Gn:je,u=n?n():{};return i(r,t,Ru(e,2),u)}}function uu(t){return Ai(function(n,r){var e=-1,i=r.length,a=i>1?r[i-1]:u,o=i>2?r[2]:u;for(a=t.length>3&&"function"==typeof a?(i--,a):u,o&&qu(r[0],r[1],o)&&(a=i<3?u:a,i=1),n=nn(n);++e<i;){var c=r[e];c&&t(n,c,e,a)}return n})}function au(t,n){return function(r,e){if(null==r)return r;if(!mo(r))return t(r,e);for(var i=r.length,u=n?i:-1,a=nn(r);(n?u--:++u<i)&&!1!==e(a[u],u,a););return r}}function ou(t){return function(n,r,e){for(var i=-1,u=nn(n),a=e(n),o=a.length;o--;){var c=a[t?o:++i];if(!1===r(u[c],c,u))break}return n}}function cu(t){return function(n){var r=Sr(n=Ho(n))?Mr(n):u,e=r?r[0]:n.charAt(0),i=r?Zi(r,1).join(""):n.slice(1);return e[t]()+i}}function su(t){return function(n){return rr(Cc(gc(n).replace(mn,"")),t,"")}}function fu(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=ve(t.prototype),e=t.apply(r,n);return Io(e)?e:r}}function lu(t){return function(n,r,e){var i=nn(n);if(!mo(n)){var a=Ru(r,3);n=ic(n),r=function(t){return a(i[t],t,i)}}var o=t(n,r,e);return o>-1?i[a?n[o]:o]:u}}function hu(t){return zu(function(n){var r=n.length,e=r,i=ge.prototype.thru;for(t&&n.reverse();e--;){var a=n[e];if("function"!=typeof a)throw new un(c);if(i&&!o&&"wrapper"==Tu(a))var o=new ge([],!0)}for(e=o?e:r;++e<r;){var s=Tu(a=n[e]),f="wrapper"==s?Mu(a):u;o=f&&Zu(f[0])&&f[1]==(C|b|x|S)&&!f[4].length&&1==f[9]?o[Tu(f[0])].apply(o,f[3]):1==a.length&&Zu(a)?o[s]():o.thru(a)}return function(){var t=arguments,e=t[0];if(o&&1==t.length&&_o(e))return o.plant(e).value();for(var i=0,u=r?n[i].apply(this,t):e;++i<r;)u=n[i].call(this,u);return u}})}function pu(t,n,r,i,a,o,c,s,f,l){var h=n&C,p=n&_,v=n&y,d=n&(b|w),g=n&k,m=v?u:fu(t);return function _(){for(var y=arguments.length,b=e(y),w=y;w--;)b[w]=arguments[w];if(d)var x=$u(_),A=function(t,n){for(var r=t.length,e=0;r--;)t[r]===n&&++e;return e}(b,x);if(i&&(b=tu(b,i,a,d)),o&&(b=nu(b,o,c,d)),y-=A,d&&y<l){var C=Er(b,x);return bu(t,n,pu,_.placeholder,r,b,C,s,f,l-y)}var S=p?r:this,k=v?S[t]:t;return y=b.length,s?b=function(t,n){for(var r=t.length,e=qr(n.length,r),i=ru(t);e--;){var a=n[e];t[e]=Hu(a,r)?i[a]:u}return t}(b,s):g&&y>1&&b.reverse(),h&&f<y&&(b.length=f),this&&this!==$n&&this instanceof _&&(k=m||fu(k)),k.apply(S,b)}}function vu(t,n){return function(r,e){return function(t,n,r,e){return Ge(t,function(t,i,u){n(e,r(t),i,u)}),e}(r,t,n(e),{})}}function du(t,n){return function(r,e){var i;if(r===u&&e===u)return n;if(r!==u&&(i=r),e!==u){if(i===u)return e;"string"==typeof r||"string"==typeof e?(r=Li(r),e=Li(e)):(r=Ri(r),e=Ri(e)),i=t(r,e)}return i}}function gu(t){return zu(function(n){return n=tr(n,_r(Ru())),Ai(function(r){var e=this;return t(n,function(t){return qn(t,e,r)})})})}function _u(t,n){var r=(n=n===u?" ":Li(n)).length;if(r<2)return r?xi(n,t):n;var e=xi(n,Nr(t/Or(n)));return Sr(n)?Zi(Mr(e),0,t).join(""):e.slice(0,t)}function yu(t){return function(n,r,i){return i&&"number"!=typeof i&&qu(n,r,i)&&(r=i=u),n=Do(n),r===u?(r=n,n=0):r=Do(r),function(t,n,r,i){for(var u=-1,a=Hr(Nr((n-t)/(r||1)),0),o=e(a);a--;)o[i?a:++u]=t,t+=r;return o}(n,r,i=i===u?n<r?1:-1:Do(i),t)}}function mu(t){return function(n,r){return"string"==typeof n&&"string"==typeof r||(n=Bo(n),r=Bo(r)),t(n,r)}}function bu(t,n,r,e,i,a,o,c,s,f){var l=n&b;n|=l?x:A,(n&=~(l?A:x))&m||(n&=~(_|y));var h=[t,n,i,l?a:u,l?o:u,l?u:a,l?u:o,c,s,f],p=r.apply(u,h);return Zu(t)&&ra(p,h),p.placeholder=e,ua(p,t,n)}function wu(t){var n=tn[t];return function(t,r){if(t=Bo(t),r=null==r?0:qr(Wo(r),292)){var e=(Ho(t)+"e").split("e");return+((e=(Ho(n(e[0]+"e"+(+e[1]+r)))+"e").split("e"))[0]+"e"+(+e[1]-r))}return n(t)}}var xu=te&&1/zr(new te([,-0]))[1]==T?function(t){return new te(t)}:Rc;function Au(t){return function(n){var r=Wu(n);return r==J?kr(n):r==rt?jr(n):function(t,n){return tr(n,function(n){return[n,t[n]]})}(n,t(n))}}function Cu(t,n,r,i,a,o,s,f){var h=n&y;if(!h&&"function"!=typeof t)throw new un(c);var p=i?i.length:0;if(p||(n&=~(x|A),i=a=u),s=s===u?s:Hr(Wo(s),0),f=f===u?f:Wo(f),p-=a?a.length:0,n&A){var v=i,d=a;i=a=u}var g=h?u:Mu(t),k=[t,n,r,i,a,v,d,o,s,f];if(g&&function(t,n){var r=t[1],e=n[1],i=r|e,u=i<(_|y|C),a=e==C&&r==b||e==C&&r==S&&t[7].length<=n[8]||e==(C|S)&&n[7].length<=n[8]&&r==b;if(!u&&!a)return t;e&_&&(t[2]=n[2],i|=r&_?0:m);var o=n[3];if(o){var c=t[3];t[3]=c?tu(c,o,n[4]):o,t[4]=c?Er(t[3],l):n[4]}(o=n[5])&&(c=t[5],t[5]=c?nu(c,o,n[6]):o,t[6]=c?Er(t[5],l):n[6]),(o=n[7])&&(t[7]=o),e&C&&(t[8]=null==t[8]?n[8]:qr(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i}(k,g),t=k[0],n=k[1],r=k[2],i=k[3],a=k[4],!(f=k[9]=k[9]===u?h?0:t.length:Hr(k[9]-p,0))&&n&(b|w)&&(n&=~(b|w)),n&&n!=_)I=n==b||n==w?function(t,n,r){var i=fu(t);return function a(){for(var o=arguments.length,c=e(o),s=o,f=$u(a);s--;)c[s]=arguments[s];var l=o<3&&c[0]!==f&&c[o-1]!==f?[]:Er(c,f);return(o-=l.length)<r?bu(t,n,pu,a.placeholder,u,c,l,u,u,r-o):qn(this&&this!==$n&&this instanceof a?i:t,this,c)}}(t,n,f):n!=x&&n!=(_|x)||a.length?pu.apply(u,k):function(t,n,r,i){var u=n&_,a=fu(t);return function n(){for(var o=-1,c=arguments.length,s=-1,f=i.length,l=e(f+c),h=this&&this!==$n&&this instanceof n?a:t;++s<f;)l[s]=i[s];for(;c--;)l[s++]=arguments[++o];return qn(h,u?r:this,l)}}(t,n,r,i);else var I=function(t,n,r){var e=n&_,i=fu(t);return function n(){return(this&&this!==$n&&this instanceof n?i:t).apply(e?r:this,arguments)}}(t,n,r);return ua((g?Ii:ra)(I,k),t,n)}function Su(t,n,r,e){return t===u||ho(t,cn[r])&&!ln.call(e,r)?n:t}function ku(t,n,r,e,i,a){return Io(t)&&Io(n)&&(a.set(n,t),di(t,n,u,ku,a),a.delete(n)),t}function Iu(t){return Oo(t)?u:t}function Eu(t,n,r,e,i,a){var o=r&d,c=t.length,s=n.length;if(c!=s&&!(o&&s>c))return!1;var f=a.get(t);if(f&&a.get(n))return f==n;var l=-1,h=!0,p=r&g?new we:u;for(a.set(t,n),a.set(n,t);++l<c;){var v=t[l],_=n[l];if(e)var y=o?e(_,v,l,n,t,a):e(v,_,l,t,n,a);if(y!==u){if(y)continue;h=!1;break}if(p){if(!ir(n,function(t,n){if(!mr(p,n)&&(v===t||i(v,t,r,e,a)))return p.push(n)})){h=!1;break}}else if(v!==_&&!i(v,_,r,e,a)){h=!1;break}}return a.delete(t),a.delete(n),h}function zu(t){return ia(Xu(t,u,_a),t+"")}function ju(t){return Ye(t,ic,Fu)}function Ou(t){return Ye(t,uc,Du)}var Mu=ee?function(t){return ee.get(t)}:Rc;function Tu(t){for(var n=t.name+"",r=ie[n],e=ln.call(ie,n)?r.length:0;e--;){var i=r[e],u=i.func;if(null==u||u==t)return i.name}return n}function $u(t){return(ln.call(pe,"placeholder")?pe:t).placeholder}function Ru(){var t=pe.iteratee||Oc;return t=t===Oc?ci:t,arguments.length?t(arguments[0],arguments[1]):t}function Lu(t,n){var r,e,i=t.__data__;return("string"==(e=typeof(r=n))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?i["string"==typeof n?"string":"hash"]:i.map}function Vu(t){for(var n=ic(t),r=n.length;r--;){var e=n[r],i=t[e];n[r]=[e,i,Yu(i)]}return n}function Nu(t,n){var r=function(t,n){return null==t?u:t[n]}(t,n);return oi(r)?r:u}var Fu=Dr?function(t){return null==t?[]:(t=nn(t),Yn(Dr(t),function(n){return Rn.call(t,n)}))}:Uc,Du=Dr?function(t){for(var n=[];t;)nr(n,Fu(t)),t=Mn(t);return n}:Uc,Wu=Qe;function Uu(t,n,r){for(var e=-1,i=(n=qi(n,t)).length,u=!1;++e<i;){var a=sa(n[e]);if(!(u=null!=t&&r(t,a)))break;t=t[a]}return u||++e!=i?u:!!(i=null==t?0:t.length)&&ko(i)&&Hu(a,i)&&(_o(t)||go(t))}function Bu(t){return"function"!=typeof t.constructor||Ju(t)?{}:ve(Mn(t))}function Pu(t){return _o(t)||go(t)||!!(Nn&&t&&t[Nn])}function Hu(t,n){var r=typeof t;return!!(n=null==n?$:n)&&("number"==r||"symbol"!=r&&Zt.test(t))&&t>-1&&t%1==0&&t<n}function qu(t,n,r){if(!Io(r))return!1;var e=typeof n;return!!("number"==e?mo(r)&&Hu(n,r.length):"string"==e&&n in r)&&ho(r[n],t)}function Gu(t,n){if(_o(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Ro(t))||jt.test(t)||!zt.test(t)||null!=n&&t in nn(n)}function Zu(t){var n=Tu(t),r=pe[n];if("function"!=typeof r||!(n in _e.prototype))return!1;if(t===r)return!0;var e=Mu(r);return!!e&&t===e[0]}(Yr&&Wu(new Yr(new ArrayBuffer(1)))!=st||Qr&&Wu(new Qr)!=J||Xr&&"[object Promise]"!=Wu(Xr.resolve())||te&&Wu(new te)!=rt||ne&&Wu(new ne)!=at)&&(Wu=function(t){var n=Qe(t),r=n==X?t.constructor:u,e=r?fa(r):"";if(e)switch(e){case ue:return st;case ae:return J;case oe:return"[object Promise]";case ce:return rt;case se:return at}return n});var Ku=sn?Co:Bc;function Ju(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||cn)}function Yu(t){return t==t&&!Io(t)}function Qu(t,n){return function(r){return null!=r&&r[t]===n&&(n!==u||t in nn(r))}}function Xu(t,n,r){return n=Hr(n===u?t.length-1:n,0),function(){for(var i=arguments,u=-1,a=Hr(i.length-n,0),o=e(a);++u<a;)o[u]=i[n+u];u=-1;for(var c=e(n+1);++u<n;)c[u]=i[u];return c[n]=r(o),qn(t,this,c)}}function ta(t,n){return n.length<2?t:Je(t,ji(n,0,-1))}function na(t,n){if("__proto__"!=n)return t[n]}var ra=aa(Ii),ea=Vr||function(t,n){return $n.setTimeout(t,n)},ia=aa(Ei);function ua(t,n,r){var e=n+"";return ia(t,function(t,n){var r=n.length;if(!r)return t;var e=r-1;return n[e]=(r>1?"& ":"")+n[e],n=n.join(r>2?", ":" "),t.replace(Vt,"{\n/* [wrapped with "+n+"] */\n")}(e,function(t,n){return Zn(D,function(r){var e="_."+r[0];n&r[1]&&!Qn(t,e)&&t.push(e)}),t.sort()}(function(t){var n=t.match(Nt);return n?n[1].split(Ft):[]}(e),r)))}function aa(t){var n=0,r=0;return function(){var e=Gr(),i=j-(e-r);if(r=e,i>0){if(++n>=z)return arguments[0]}else n=0;return t.apply(u,arguments)}}function oa(t,n){var r=-1,e=t.length,i=e-1;for(n=n===u?e:n;++r<n;){var a=wi(r,i),o=t[a];t[a]=t[r],t[r]=o}return t.length=n,t}var ca=function(t){var n=ao(t,function(t){return r.size===f&&r.clear(),t}),r=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Ot,function(t,r,e,i){n.push(e?i.replace(Wt,"$1"):r||t)}),n});function sa(t){if("string"==typeof t||Ro(t))return t;var n=t+"";return"0"==n&&1/t==-T?"-0":n}function fa(t){if(null!=t){try{return fn.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function la(t){if(t instanceof _e)return t.clone();var n=new ge(t.__wrapped__,t.__chain__);return n.__actions__=ru(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var ha=Ai(function(t,n){return bo(t)?Ne(t,Pe(n,1,bo,!0)):[]}),pa=Ai(function(t,n){var r=xa(n);return bo(r)&&(r=u),bo(t)?Ne(t,Pe(n,1,bo,!0),Ru(r,2)):[]}),va=Ai(function(t,n){var r=xa(n);return bo(r)&&(r=u),bo(t)?Ne(t,Pe(n,1,bo,!0),u,r):[]});function da(t,n,r){var e=null==t?0:t.length;if(!e)return-1;var i=null==r?0:Wo(r);return i<0&&(i=Hr(e+i,0)),or(t,Ru(n,3),i)}function ga(t,n,r){var e=null==t?0:t.length;if(!e)return-1;var i=e-1;return r!==u&&(i=Wo(r),i=r<0?Hr(e+i,0):qr(i,e-1)),or(t,Ru(n,3),i,!0)}function _a(t){return null!=t&&t.length?Pe(t,1):[]}function ya(t){return t&&t.length?t[0]:u}var ma=Ai(function(t){var n=tr(t,Pi);return n.length&&n[0]===t[0]?ri(n):[]}),ba=Ai(function(t){var n=xa(t),r=tr(t,Pi);return n===xa(r)?n=u:r.pop(),r.length&&r[0]===t[0]?ri(r,Ru(n,2)):[]}),wa=Ai(function(t){var n=xa(t),r=tr(t,Pi);return(n="function"==typeof n?n:u)&&r.pop(),r.length&&r[0]===t[0]?ri(r,u,n):[]});function xa(t){var n=null==t?0:t.length;return n?t[n-1]:u}var Aa=Ai(Ca);function Ca(t,n){return t&&t.length&&n&&n.length?mi(t,n):t}var Sa=zu(function(t,n){var r=null==t?0:t.length,e=Te(t,n);return bi(t,tr(n,function(t){return Hu(t,r)?+t:t}).sort(Xi)),e});function ka(t){return null==t?t:Jr.call(t)}var Ia=Ai(function(t){return Vi(Pe(t,1,bo,!0))}),Ea=Ai(function(t){var n=xa(t);return bo(n)&&(n=u),Vi(Pe(t,1,bo,!0),Ru(n,2))}),za=Ai(function(t){var n=xa(t);return n="function"==typeof n?n:u,Vi(Pe(t,1,bo,!0),u,n)});function ja(t){if(!t||!t.length)return[];var n=0;return t=Yn(t,function(t){if(bo(t))return n=Hr(t.length,n),!0}),gr(n,function(n){return tr(t,hr(n))})}function Oa(t,n){if(!t||!t.length)return[];var r=ja(t);return null==n?r:tr(r,function(t){return qn(n,u,t)})}var Ma=Ai(function(t,n){return bo(t)?Ne(t,n):[]}),Ta=Ai(function(t){return Ui(Yn(t,bo))}),$a=Ai(function(t){var n=xa(t);return bo(n)&&(n=u),Ui(Yn(t,bo),Ru(n,2))}),Ra=Ai(function(t){var n=xa(t);return n="function"==typeof n?n:u,Ui(Yn(t,bo),u,n)}),La=Ai(ja);var Va=Ai(function(t){var n=t.length,r=n>1?t[n-1]:u;return r="function"==typeof r?(t.pop(),r):u,Oa(t,r)});function Na(t){var n=pe(t);return n.__chain__=!0,n}function Fa(t,n){return n(t)}var Da=zu(function(t){var n=t.length,r=n?t[0]:0,e=this.__wrapped__,i=function(n){return Te(n,t)};return!(n>1||this.__actions__.length)&&e instanceof _e&&Hu(r)?((e=e.slice(r,+r+(n?1:0))).__actions__.push({func:Fa,args:[i],thisArg:u}),new ge(e,this.__chain__).thru(function(t){return n&&!t.length&&t.push(u),t})):this.thru(i)});var Wa=iu(function(t,n,r){ln.call(t,r)?++t[r]:Me(t,r,1)});var Ua=lu(da),Ba=lu(ga);function Pa(t,n){return(_o(t)?Zn:Fe)(t,Ru(n,3))}function Ha(t,n){return(_o(t)?Kn:De)(t,Ru(n,3))}var qa=iu(function(t,n,r){ln.call(t,r)?t[r].push(n):Me(t,r,[n])});var Ga=Ai(function(t,n,r){var i=-1,u="function"==typeof n,a=mo(t)?e(t.length):[];return Fe(t,function(t){a[++i]=u?qn(n,t,r):ei(t,n,r)}),a}),Za=iu(function(t,n,r){Me(t,r,n)});function Ka(t,n){return(_o(t)?tr:hi)(t,Ru(n,3))}var Ja=iu(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]});var Ya=Ai(function(t,n){if(null==t)return[];var r=n.length;return r>1&&qu(t,n[0],n[1])?n=[]:r>2&&qu(n[0],n[1],n[2])&&(n=[n[0]]),_i(t,Pe(n,1),[])}),Qa=Lr||function(){return $n.Date.now()};function Xa(t,n,r){return n=r?u:n,n=t&&null==n?t.length:n,Cu(t,C,u,u,u,u,n)}function to(t,n){var r;if("function"!=typeof n)throw new un(c);return t=Wo(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=u),r}}var no=Ai(function(t,n,r){var e=_;if(r.length){var i=Er(r,$u(no));e|=x}return Cu(t,e,n,r,i)}),ro=Ai(function(t,n,r){var e=_|y;if(r.length){var i=Er(r,$u(ro));e|=x}return Cu(n,e,t,r,i)});function eo(t,n,r){var e,i,a,o,s,f,l=0,h=!1,p=!1,v=!0;if("function"!=typeof t)throw new un(c);function d(n){var r=e,a=i;return e=i=u,l=n,o=t.apply(a,r)}function g(t){var r=t-f;return f===u||r>=n||r<0||p&&t-l>=a}function _(){var t=Qa();if(g(t))return y(t);s=ea(_,function(t){var r=n-(t-f);return p?qr(r,a-(t-l)):r}(t))}function y(t){return s=u,v&&e?d(t):(e=i=u,o)}function m(){var t=Qa(),r=g(t);if(e=arguments,i=this,f=t,r){if(s===u)return function(t){return l=t,s=ea(_,n),h?d(t):o}(f);if(p)return s=ea(_,n),d(f)}return s===u&&(s=ea(_,n)),o}return n=Bo(n)||0,Io(r)&&(h=!!r.leading,a=(p="maxWait"in r)?Hr(Bo(r.maxWait)||0,n):a,v="trailing"in r?!!r.trailing:v),m.cancel=function(){s!==u&&Ki(s),l=0,e=f=i=s=u},m.flush=function(){return s===u?o:y(Qa())},m}var io=Ai(function(t,n){return Ve(t,1,n)}),uo=Ai(function(t,n,r){return Ve(t,Bo(n)||0,r)});function ao(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new un(c);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],u=r.cache;if(u.has(i))return u.get(i);var a=t.apply(this,e);return r.cache=u.set(i,a)||u,a};return r.cache=new(ao.Cache||be),r}function oo(t){if("function"!=typeof t)throw new un(c);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}ao.Cache=be;var co=Gi(function(t,n){var r=(n=1==n.length&&_o(n[0])?tr(n[0],_r(Ru())):tr(Pe(n,1),_r(Ru()))).length;return Ai(function(e){for(var i=-1,u=qr(e.length,r);++i<u;)e[i]=n[i].call(this,e[i]);return qn(t,this,e)})}),so=Ai(function(t,n){var r=Er(n,$u(so));return Cu(t,x,u,n,r)}),fo=Ai(function(t,n){var r=Er(n,$u(fo));return Cu(t,A,u,n,r)}),lo=zu(function(t,n){return Cu(t,S,u,u,u,n)});function ho(t,n){return t===n||t!=t&&n!=n}var po=mu(Xe),vo=mu(function(t,n){return t>=n}),go=ii(function(){return arguments}())?ii:function(t){return Eo(t)&&ln.call(t,"callee")&&!Rn.call(t,"callee")},_o=e.isArray,yo=Dn?_r(Dn):function(t){return Eo(t)&&Qe(t)==ct};function mo(t){return null!=t&&ko(t.length)&&!Co(t)}function bo(t){return Eo(t)&&mo(t)}var wo=Wr||Bc,xo=Wn?_r(Wn):function(t){return Eo(t)&&Qe(t)==H};function Ao(t){if(!Eo(t))return!1;var n=Qe(t);return n==G||n==q||"string"==typeof t.message&&"string"==typeof t.name&&!Oo(t)}function Co(t){if(!Io(t))return!1;var n=Qe(t);return n==Z||n==K||n==B||n==tt}function So(t){return"number"==typeof t&&t==Wo(t)}function ko(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$}function Io(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Eo(t){return null!=t&&"object"==typeof t}var zo=Un?_r(Un):function(t){return Eo(t)&&Wu(t)==J};function jo(t){return"number"==typeof t||Eo(t)&&Qe(t)==Y}function Oo(t){if(!Eo(t)||Qe(t)!=X)return!1;var n=Mn(t);if(null===n)return!0;var r=ln.call(n,"constructor")&&n.constructor;return"function"==typeof r&&r instanceof r&&fn.call(r)==dn}var Mo=Bn?_r(Bn):function(t){return Eo(t)&&Qe(t)==nt};var To=Pn?_r(Pn):function(t){return Eo(t)&&Wu(t)==rt};function $o(t){return"string"==typeof t||!_o(t)&&Eo(t)&&Qe(t)==et}function Ro(t){return"symbol"==typeof t||Eo(t)&&Qe(t)==it}var Lo=Hn?_r(Hn):function(t){return Eo(t)&&ko(t.length)&&!!In[Qe(t)]};var Vo=mu(li),No=mu(function(t,n){return t<=n});function Fo(t){if(!t)return[];if(mo(t))return $o(t)?Mr(t):ru(t);if(Fn&&t[Fn])return function(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}(t[Fn]());var n=Wu(t);return(n==J?kr:n==rt?zr:pc)(t)}function Do(t){return t?(t=Bo(t))===T||t===-T?(t<0?-1:1)*R:t==t?t:0:0===t?t:0}function Wo(t){var n=Do(t),r=n%1;return n==n?r?n-r:n:0}function Uo(t){return t?$e(Wo(t),0,V):0}function Bo(t){if("number"==typeof t)return t;if(Ro(t))return L;if(Io(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Io(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($t,"");var r=Ht.test(t);return r||Gt.test(t)?On(t.slice(2),r?2:8):Pt.test(t)?L:+t}function Po(t){return eu(t,uc(t))}function Ho(t){return null==t?"":Li(t)}var qo=uu(function(t,n){if(Ju(n)||mo(n))eu(n,ic(n),t);else for(var r in n)ln.call(n,r)&&Ee(t,r,n[r])}),Go=uu(function(t,n){eu(n,uc(n),t)}),Zo=uu(function(t,n,r,e){eu(n,uc(n),t,e)}),Ko=uu(function(t,n,r,e){eu(n,ic(n),t,e)}),Jo=zu(Te);var Yo=Ai(function(t,n){t=nn(t);var r=-1,e=n.length,i=e>2?n[2]:u;for(i&&qu(n[0],n[1],i)&&(e=1);++r<e;)for(var a=n[r],o=uc(a),c=-1,s=o.length;++c<s;){var f=o[c],l=t[f];(l===u||ho(l,cn[f])&&!ln.call(t,f))&&(t[f]=a[f])}return t}),Qo=Ai(function(t){return t.push(u,ku),qn(oc,u,t)});function Xo(t,n,r){var e=null==t?u:Je(t,n);return e===u?r:e}function tc(t,n){return null!=t&&Uu(t,n,ni)}var nc=vu(function(t,n,r){null!=n&&"function"!=typeof n.toString&&(n=vn.call(n)),t[n]=r},Ic(jc)),rc=vu(function(t,n,r){null!=n&&"function"!=typeof n.toString&&(n=vn.call(n)),ln.call(t,n)?t[n].push(r):t[n]=[r]},Ru),ec=Ai(ei);function ic(t){return mo(t)?Ae(t):si(t)}function uc(t){return mo(t)?Ae(t,!0):fi(t)}var ac=uu(function(t,n,r){di(t,n,r)}),oc=uu(function(t,n,r,e){di(t,n,r,e)}),cc=zu(function(t,n){var r={};if(null==t)return r;var e=!1;n=tr(n,function(n){return n=qi(n,t),e||(e=n.length>1),n}),eu(t,Ou(t),r),e&&(r=Re(r,h|p|v,Iu));for(var i=n.length;i--;)Ni(r,n[i]);return r});var sc=zu(function(t,n){return null==t?{}:function(t,n){return yi(t,n,function(n,r){return tc(t,r)})}(t,n)});function fc(t,n){if(null==t)return{};var r=tr(Ou(t),function(t){return[t]});return n=Ru(n),yi(t,r,function(t,r){return n(t,r[0])})}var lc=Au(ic),hc=Au(uc);function pc(t){return null==t?[]:yr(t,ic(t))}var vc=su(function(t,n,r){return n=n.toLowerCase(),t+(r?dc(n):n)});function dc(t){return Ac(Ho(t).toLowerCase())}function gc(t){return(t=Ho(t))&&t.replace(Kt,xr).replace(bn,"")}var _c=su(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()}),yc=su(function(t,n,r){return t+(r?" ":"")+n.toLowerCase()}),mc=cu("toLowerCase");var bc=su(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()});var wc=su(function(t,n,r){return t+(r?" ":"")+Ac(n)});var xc=su(function(t,n,r){return t+(r?" ":"")+n.toUpperCase()}),Ac=cu("toUpperCase");function Cc(t,n,r){return t=Ho(t),(n=r?u:n)===u?function(t){return Cn.test(t)}(t)?function(t){return t.match(xn)||[]}(t):function(t){return t.match(Dt)||[]}(t):t.match(n)||[]}var Sc=Ai(function(t,n){try{return qn(t,u,n)}catch(t){return Ao(t)?t:new Qt(t)}}),kc=zu(function(t,n){return Zn(n,function(n){n=sa(n),Me(t,n,no(t[n],t))}),t});function Ic(t){return function(){return t}}var Ec=hu(),zc=hu(!0);function jc(t){return t}function Oc(t){return ci("function"==typeof t?t:Re(t,h))}var Mc=Ai(function(t,n){return function(r){return ei(r,t,n)}}),Tc=Ai(function(t,n){return function(r){return ei(t,r,n)}});function $c(t,n,r){var e=ic(n),i=Ke(n,e);null!=r||Io(n)&&(i.length||!e.length)||(r=n,n=t,t=this,i=Ke(n,ic(n)));var u=!(Io(r)&&"chain"in r&&!r.chain),a=Co(t);return Zn(i,function(r){var e=n[r];t[r]=e,a&&(t.prototype[r]=function(){var n=this.__chain__;if(u||n){var r=t(this.__wrapped__);return(r.__actions__=ru(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,nr([this.value()],arguments))})}),t}function Rc(){}var Lc=gu(tr),Vc=gu(Jn),Nc=gu(ir);function Fc(t){return Gu(t)?hr(sa(t)):function(t){return function(n){return Je(n,t)}}(t)}var Dc=yu(),Wc=yu(!0);function Uc(){return[]}function Bc(){return!1}var Pc=du(function(t,n){return t+n},0),Hc=wu("ceil"),qc=du(function(t,n){return t/n},1),Gc=wu("floor");var Zc,Kc=du(function(t,n){return t*n},1),Jc=wu("round"),Yc=du(function(t,n){return t-n},0);return pe.after=function(t,n){if("function"!=typeof n)throw new un(c);return t=Wo(t),function(){if(--t<1)return n.apply(this,arguments)}},pe.ary=Xa,pe.assign=qo,pe.assignIn=Go,pe.assignInWith=Zo,pe.assignWith=Ko,pe.at=Jo,pe.before=to,pe.bind=no,pe.bindAll=kc,pe.bindKey=ro,pe.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return _o(t)?t:[t]},pe.chain=Na,pe.chunk=function(t,n,r){n=(r?qu(t,n,r):n===u)?1:Hr(Wo(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var a=0,o=0,c=e(Nr(i/n));a<i;)c[o++]=ji(t,a,a+=n);return c},pe.compact=function(t){for(var n=-1,r=null==t?0:t.length,e=0,i=[];++n<r;){var u=t[n];u&&(i[e++]=u)}return i},pe.concat=function(){var t=arguments.length;if(!t)return[];for(var n=e(t-1),r=arguments[0],i=t;i--;)n[i-1]=arguments[i];return nr(_o(r)?ru(r):[r],Pe(n,1))},pe.cond=function(t){var n=null==t?0:t.length,r=Ru();return t=n?tr(t,function(t){if("function"!=typeof t[1])throw new un(c);return[r(t[0]),t[1]]}):[],Ai(function(r){for(var e=-1;++e<n;){var i=t[e];if(qn(i[0],this,r))return qn(i[1],this,r)}})},pe.conforms=function(t){return function(t){var n=ic(t);return function(r){return Le(r,t,n)}}(Re(t,h))},pe.constant=Ic,pe.countBy=Wa,pe.create=function(t,n){var r=ve(t);return null==n?r:Oe(r,n)},pe.curry=function t(n,r,e){var i=Cu(n,b,u,u,u,u,u,r=e?u:r);return i.placeholder=t.placeholder,i},pe.curryRight=function t(n,r,e){var i=Cu(n,w,u,u,u,u,u,r=e?u:r);return i.placeholder=t.placeholder,i},pe.debounce=eo,pe.defaults=Yo,pe.defaultsDeep=Qo,pe.defer=io,pe.delay=uo,pe.difference=ha,pe.differenceBy=pa,pe.differenceWith=va,pe.drop=function(t,n,r){var e=null==t?0:t.length;return e?ji(t,(n=r||n===u?1:Wo(n))<0?0:n,e):[]},pe.dropRight=function(t,n,r){var e=null==t?0:t.length;return e?ji(t,0,(n=e-(n=r||n===u?1:Wo(n)))<0?0:n):[]},pe.dropRightWhile=function(t,n){return t&&t.length?Di(t,Ru(n,3),!0,!0):[]},pe.dropWhile=function(t,n){return t&&t.length?Di(t,Ru(n,3),!0):[]},pe.fill=function(t,n,r,e){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&qu(t,n,r)&&(r=0,e=i),function(t,n,r,e){var i=t.length;for((r=Wo(r))<0&&(r=-r>i?0:i+r),(e=e===u||e>i?i:Wo(e))<0&&(e+=i),e=r>e?0:Uo(e);r<e;)t[r++]=n;return t}(t,n,r,e)):[]},pe.filter=function(t,n){return(_o(t)?Yn:Be)(t,Ru(n,3))},pe.flatMap=function(t,n){return Pe(Ka(t,n),1)},pe.flatMapDeep=function(t,n){return Pe(Ka(t,n),T)},pe.flatMapDepth=function(t,n,r){return r=r===u?1:Wo(r),Pe(Ka(t,n),r)},pe.flatten=_a,pe.flattenDeep=function(t){return null!=t&&t.length?Pe(t,T):[]},pe.flattenDepth=function(t,n){return null!=t&&t.length?Pe(t,n=n===u?1:Wo(n)):[]},pe.flip=function(t){return Cu(t,k)},pe.flow=Ec,pe.flowRight=zc,pe.fromPairs=function(t){for(var n=-1,r=null==t?0:t.length,e={};++n<r;){var i=t[n];e[i[0]]=i[1]}return e},pe.functions=function(t){return null==t?[]:Ke(t,ic(t))},pe.functionsIn=function(t){return null==t?[]:Ke(t,uc(t))},pe.groupBy=qa,pe.initial=function(t){return null!=t&&t.length?ji(t,0,-1):[]},pe.intersection=ma,pe.intersectionBy=ba,pe.intersectionWith=wa,pe.invert=nc,pe.invertBy=rc,pe.invokeMap=Ga,pe.iteratee=Oc,pe.keyBy=Za,pe.keys=ic,pe.keysIn=uc,pe.map=Ka,pe.mapKeys=function(t,n){var r={};return n=Ru(n,3),Ge(t,function(t,e,i){Me(r,n(t,e,i),t)}),r},pe.mapValues=function(t,n){var r={};return n=Ru(n,3),Ge(t,function(t,e,i){Me(r,e,n(t,e,i))}),r},pe.matches=function(t){return pi(Re(t,h))},pe.matchesProperty=function(t,n){return vi(t,Re(n,h))},pe.memoize=ao,pe.merge=ac,pe.mergeWith=oc,pe.method=Mc,pe.methodOf=Tc,pe.mixin=$c,pe.negate=oo,pe.nthArg=function(t){return t=Wo(t),Ai(function(n){return gi(n,t)})},pe.omit=cc,pe.omitBy=function(t,n){return fc(t,oo(Ru(n)))},pe.once=function(t){return to(2,t)},pe.orderBy=function(t,n,r,e){return null==t?[]:(_o(n)||(n=null==n?[]:[n]),_o(r=e?u:r)||(r=null==r?[]:[r]),_i(t,n,r))},pe.over=Lc,pe.overArgs=co,pe.overEvery=Vc,pe.overSome=Nc,pe.partial=so,pe.partialRight=fo,pe.partition=Ja,pe.pick=sc,pe.pickBy=fc,pe.property=Fc,pe.propertyOf=function(t){return function(n){return null==t?u:Je(t,n)}},pe.pull=Aa,pe.pullAll=Ca,pe.pullAllBy=function(t,n,r){return t&&t.length&&n&&n.length?mi(t,n,Ru(r,2)):t},pe.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?mi(t,n,u,r):t},pe.pullAt=Sa,pe.range=Dc,pe.rangeRight=Wc,pe.rearg=lo,pe.reject=function(t,n){return(_o(t)?Yn:Be)(t,oo(Ru(n,3)))},pe.remove=function(t,n){var r=[];if(!t||!t.length)return r;var e=-1,i=[],u=t.length;for(n=Ru(n,3);++e<u;){var a=t[e];n(a,e,t)&&(r.push(a),i.push(e))}return bi(t,i),r},pe.rest=function(t,n){if("function"!=typeof t)throw new un(c);return Ai(t,n=n===u?n:Wo(n))},pe.reverse=ka,pe.sampleSize=function(t,n,r){return n=(r?qu(t,n,r):n===u)?1:Wo(n),(_o(t)?Se:Si)(t,n)},pe.set=function(t,n,r){return null==t?t:ki(t,n,r)},pe.setWith=function(t,n,r,e){return e="function"==typeof e?e:u,null==t?t:ki(t,n,r,e)},pe.shuffle=function(t){return(_o(t)?ke:zi)(t)},pe.slice=function(t,n,r){var e=null==t?0:t.length;return e?(r&&"number"!=typeof r&&qu(t,n,r)?(n=0,r=e):(n=null==n?0:Wo(n),r=r===u?e:Wo(r)),ji(t,n,r)):[]},pe.sortBy=Ya,pe.sortedUniq=function(t){return t&&t.length?$i(t):[]},pe.sortedUniqBy=function(t,n){return t&&t.length?$i(t,Ru(n,2)):[]},pe.split=function(t,n,r){return r&&"number"!=typeof r&&qu(t,n,r)&&(n=r=u),(r=r===u?V:r>>>0)?(t=Ho(t))&&("string"==typeof n||null!=n&&!Mo(n))&&!(n=Li(n))&&Sr(t)?Zi(Mr(t),0,r):t.split(n,r):[]},pe.spread=function(t,n){if("function"!=typeof t)throw new un(c);return n=null==n?0:Hr(Wo(n),0),Ai(function(r){var e=r[n],i=Zi(r,0,n);return e&&nr(i,e),qn(t,this,i)})},pe.tail=function(t){var n=null==t?0:t.length;return n?ji(t,1,n):[]},pe.take=function(t,n,r){return t&&t.length?ji(t,0,(n=r||n===u?1:Wo(n))<0?0:n):[]},pe.takeRight=function(t,n,r){var e=null==t?0:t.length;return e?ji(t,(n=e-(n=r||n===u?1:Wo(n)))<0?0:n,e):[]},pe.takeRightWhile=function(t,n){return t&&t.length?Di(t,Ru(n,3),!1,!0):[]},pe.takeWhile=function(t,n){return t&&t.length?Di(t,Ru(n,3)):[]},pe.tap=function(t,n){return n(t),t},pe.throttle=function(t,n,r){var e=!0,i=!0;if("function"!=typeof t)throw new un(c);return Io(r)&&(e="leading"in r?!!r.leading:e,i="trailing"in r?!!r.trailing:i),eo(t,n,{leading:e,maxWait:n,trailing:i})},pe.thru=Fa,pe.toArray=Fo,pe.toPairs=lc,pe.toPairsIn=hc,pe.toPath=function(t){return _o(t)?tr(t,sa):Ro(t)?[t]:ru(ca(Ho(t)))},pe.toPlainObject=Po,pe.transform=function(t,n,r){var e=_o(t),i=e||wo(t)||Lo(t);if(n=Ru(n,4),null==r){var u=t&&t.constructor;r=i?e?new u:[]:Io(t)&&Co(u)?ve(Mn(t)):{}}return(i?Zn:Ge)(t,function(t,e,i){return n(r,t,e,i)}),r},pe.unary=function(t){return Xa(t,1)},pe.union=Ia,pe.unionBy=Ea,pe.unionWith=za,pe.uniq=function(t){return t&&t.length?Vi(t):[]},pe.uniqBy=function(t,n){return t&&t.length?Vi(t,Ru(n,2)):[]},pe.uniqWith=function(t,n){return n="function"==typeof n?n:u,t&&t.length?Vi(t,u,n):[]},pe.unset=function(t,n){return null==t||Ni(t,n)},pe.unzip=ja,pe.unzipWith=Oa,pe.update=function(t,n,r){return null==t?t:Fi(t,n,Hi(r))},pe.updateWith=function(t,n,r,e){return e="function"==typeof e?e:u,null==t?t:Fi(t,n,Hi(r),e)},pe.values=pc,pe.valuesIn=function(t){return null==t?[]:yr(t,uc(t))},pe.without=Ma,pe.words=Cc,pe.wrap=function(t,n){return so(Hi(n),t)},pe.xor=Ta,pe.xorBy=$a,pe.xorWith=Ra,pe.zip=La,pe.zipObject=function(t,n){return Bi(t||[],n||[],Ee)},pe.zipObjectDeep=function(t,n){return Bi(t||[],n||[],ki)},pe.zipWith=Va,pe.entries=lc,pe.entriesIn=hc,pe.extend=Go,pe.extendWith=Zo,$c(pe,pe),pe.add=Pc,pe.attempt=Sc,pe.camelCase=vc,pe.capitalize=dc,pe.ceil=Hc,pe.clamp=function(t,n,r){return r===u&&(r=n,n=u),r!==u&&(r=(r=Bo(r))==r?r:0),n!==u&&(n=(n=Bo(n))==n?n:0),$e(Bo(t),n,r)},pe.clone=function(t){return Re(t,v)},pe.cloneDeep=function(t){return Re(t,h|v)},pe.cloneDeepWith=function(t,n){return Re(t,h|v,n="function"==typeof n?n:u)},pe.cloneWith=function(t,n){return Re(t,v,n="function"==typeof n?n:u)},pe.conformsTo=function(t,n){return null==n||Le(t,n,ic(n))},pe.deburr=gc,pe.defaultTo=function(t,n){return null==t||t!=t?n:t},pe.divide=qc,pe.endsWith=function(t,n,r){t=Ho(t),n=Li(n);var e=t.length,i=r=r===u?e:$e(Wo(r),0,e);return(r-=n.length)>=0&&t.slice(r,i)==n},pe.eq=ho,pe.escape=function(t){return(t=Ho(t))&&St.test(t)?t.replace(At,Ar):t},pe.escapeRegExp=function(t){return(t=Ho(t))&&Tt.test(t)?t.replace(Mt,"\\$&"):t},pe.every=function(t,n,r){var e=_o(t)?Jn:We;return r&&qu(t,n,r)&&(n=u),e(t,Ru(n,3))},pe.find=Ua,pe.findIndex=da,pe.findKey=function(t,n){return ar(t,Ru(n,3),Ge)},pe.findLast=Ba,pe.findLastIndex=ga,pe.findLastKey=function(t,n){return ar(t,Ru(n,3),Ze)},pe.floor=Gc,pe.forEach=Pa,pe.forEachRight=Ha,pe.forIn=function(t,n){return null==t?t:He(t,Ru(n,3),uc)},pe.forInRight=function(t,n){return null==t?t:qe(t,Ru(n,3),uc)},pe.forOwn=function(t,n){return t&&Ge(t,Ru(n,3))},pe.forOwnRight=function(t,n){return t&&Ze(t,Ru(n,3))},pe.get=Xo,pe.gt=po,pe.gte=vo,pe.has=function(t,n){return null!=t&&Uu(t,n,ti)},pe.hasIn=tc,pe.head=ya,pe.identity=jc,pe.includes=function(t,n,r,e){t=mo(t)?t:pc(t),r=r&&!e?Wo(r):0;var i=t.length;return r<0&&(r=Hr(i+r,0)),$o(t)?r<=i&&t.indexOf(n,r)>-1:!!i&&cr(t,n,r)>-1},pe.indexOf=function(t,n,r){var e=null==t?0:t.length;if(!e)return-1;var i=null==r?0:Wo(r);return i<0&&(i=Hr(e+i,0)),cr(t,n,i)},pe.inRange=function(t,n,r){return n=Do(n),r===u?(r=n,n=0):r=Do(r),function(t,n,r){return t>=qr(n,r)&&t<Hr(n,r)}(t=Bo(t),n,r)},pe.invoke=ec,pe.isArguments=go,pe.isArray=_o,pe.isArrayBuffer=yo,pe.isArrayLike=mo,pe.isArrayLikeObject=bo,pe.isBoolean=function(t){return!0===t||!1===t||Eo(t)&&Qe(t)==P},pe.isBuffer=wo,pe.isDate=xo,pe.isElement=function(t){return Eo(t)&&1===t.nodeType&&!Oo(t)},pe.isEmpty=function(t){if(null==t)return!0;if(mo(t)&&(_o(t)||"string"==typeof t||"function"==typeof t.splice||wo(t)||Lo(t)||go(t)))return!t.length;var n=Wu(t);if(n==J||n==rt)return!t.size;if(Ju(t))return!si(t).length;for(var r in t)if(ln.call(t,r))return!1;return!0},pe.isEqual=function(t,n){return ui(t,n)},pe.isEqualWith=function(t,n,r){var e=(r="function"==typeof r?r:u)?r(t,n):u;return e===u?ui(t,n,u,r):!!e},pe.isError=Ao,pe.isFinite=function(t){return"number"==typeof t&&Ur(t)},pe.isFunction=Co,pe.isInteger=So,pe.isLength=ko,pe.isMap=zo,pe.isMatch=function(t,n){return t===n||ai(t,n,Vu(n))},pe.isMatchWith=function(t,n,r){return r="function"==typeof r?r:u,ai(t,n,Vu(n),r)},pe.isNaN=function(t){return jo(t)&&t!=+t},pe.isNative=function(t){if(Ku(t))throw new Qt(o);return oi(t)},pe.isNil=function(t){return null==t},pe.isNull=function(t){return null===t},pe.isNumber=jo,pe.isObject=Io,pe.isObjectLike=Eo,pe.isPlainObject=Oo,pe.isRegExp=Mo,pe.isSafeInteger=function(t){return So(t)&&t>=-$&&t<=$},pe.isSet=To,pe.isString=$o,pe.isSymbol=Ro,pe.isTypedArray=Lo,pe.isUndefined=function(t){return t===u},pe.isWeakMap=function(t){return Eo(t)&&Wu(t)==at},pe.isWeakSet=function(t){return Eo(t)&&Qe(t)==ot},pe.join=function(t,n){return null==t?"":Br.call(t,n)},pe.kebabCase=_c,pe.last=xa,pe.lastIndexOf=function(t,n,r){var e=null==t?0:t.length;if(!e)return-1;var i=e;return r!==u&&(i=(i=Wo(r))<0?Hr(e+i,0):qr(i,e-1)),n==n?function(t,n,r){for(var e=r+1;e--;)if(t[e]===n)return e;return e}(t,n,i):or(t,fr,i,!0)},pe.lowerCase=yc,pe.lowerFirst=mc,pe.lt=Vo,pe.lte=No,pe.max=function(t){return t&&t.length?Ue(t,jc,Xe):u},pe.maxBy=function(t,n){return t&&t.length?Ue(t,Ru(n,2),Xe):u},pe.mean=function(t){return lr(t,jc)},pe.meanBy=function(t,n){return lr(t,Ru(n,2))},pe.min=function(t){return t&&t.length?Ue(t,jc,li):u},pe.minBy=function(t,n){return t&&t.length?Ue(t,Ru(n,2),li):u},pe.stubArray=Uc,pe.stubFalse=Bc,pe.stubObject=function(){return{}},pe.stubString=function(){return""},pe.stubTrue=function(){return!0},pe.multiply=Kc,pe.nth=function(t,n){return t&&t.length?gi(t,Wo(n)):u},pe.noConflict=function(){return $n._===this&&($n._=gn),this},pe.noop=Rc,pe.now=Qa,pe.pad=function(t,n,r){t=Ho(t);var e=(n=Wo(n))?Or(t):0;if(!n||e>=n)return t;var i=(n-e)/2;return _u(Fr(i),r)+t+_u(Nr(i),r)},pe.padEnd=function(t,n,r){t=Ho(t);var e=(n=Wo(n))?Or(t):0;return n&&e<n?t+_u(n-e,r):t},pe.padStart=function(t,n,r){t=Ho(t);var e=(n=Wo(n))?Or(t):0;return n&&e<n?_u(n-e,r)+t:t},pe.parseInt=function(t,n,r){return r||null==n?n=0:n&&(n=+n),Zr(Ho(t).replace(Rt,""),n||0)},pe.random=function(t,n,r){if(r&&"boolean"!=typeof r&&qu(t,n,r)&&(n=r=u),r===u&&("boolean"==typeof n?(r=n,n=u):"boolean"==typeof t&&(r=t,t=u)),t===u&&n===u?(t=0,n=1):(t=Do(t),n===u?(n=t,t=0):n=Do(n)),t>n){var e=t;t=n,n=e}if(r||t%1||n%1){var i=Kr();return qr(t+i*(n-t+jn("1e-"+((i+"").length-1))),n)}return wi(t,n)},pe.reduce=function(t,n,r){var e=_o(t)?rr:vr,i=arguments.length<3;return e(t,Ru(n,4),r,i,Fe)},pe.reduceRight=function(t,n,r){var e=_o(t)?er:vr,i=arguments.length<3;return e(t,Ru(n,4),r,i,De)},pe.repeat=function(t,n,r){return n=(r?qu(t,n,r):n===u)?1:Wo(n),xi(Ho(t),n)},pe.replace=function(){var t=arguments,n=Ho(t[0]);return t.length<3?n:n.replace(t[1],t[2])},pe.result=function(t,n,r){var e=-1,i=(n=qi(n,t)).length;for(i||(i=1,t=u);++e<i;){var a=null==t?u:t[sa(n[e])];a===u&&(e=i,a=r),t=Co(a)?a.call(t):a}return t},pe.round=Jc,pe.runInContext=t,pe.sample=function(t){return(_o(t)?Ce:Ci)(t)},pe.size=function(t){if(null==t)return 0;if(mo(t))return $o(t)?Or(t):t.length;var n=Wu(t);return n==J||n==rt?t.size:si(t).length},pe.snakeCase=bc,pe.some=function(t,n,r){var e=_o(t)?ir:Oi;return r&&qu(t,n,r)&&(n=u),e(t,Ru(n,3))},pe.sortedIndex=function(t,n){return Mi(t,n)},pe.sortedIndexBy=function(t,n,r){return Ti(t,n,Ru(r,2))},pe.sortedIndexOf=function(t,n){var r=null==t?0:t.length;if(r){var e=Mi(t,n);if(e<r&&ho(t[e],n))return e}return-1},pe.sortedLastIndex=function(t,n){return Mi(t,n,!0)},pe.sortedLastIndexBy=function(t,n,r){return Ti(t,n,Ru(r,2),!0)},pe.sortedLastIndexOf=function(t,n){if(null!=t&&t.length){var r=Mi(t,n,!0)-1;if(ho(t[r],n))return r}return-1},pe.startCase=wc,pe.startsWith=function(t,n,r){return t=Ho(t),r=null==r?0:$e(Wo(r),0,t.length),n=Li(n),t.slice(r,r+n.length)==n},pe.subtract=Yc,pe.sum=function(t){return t&&t.length?dr(t,jc):0},pe.sumBy=function(t,n){return t&&t.length?dr(t,Ru(n,2)):0},pe.template=function(t,n,r){var e=pe.templateSettings;r&&qu(t,n,r)&&(n=u),t=Ho(t),n=Zo({},n,e,Su);var i,a,o=Zo({},n.imports,e.imports,Su),c=ic(o),s=yr(o,c),f=0,l=n.interpolate||Jt,h="__p += '",p=rn((n.escape||Jt).source+"|"+l.source+"|"+(l===Et?Ut:Jt).source+"|"+(n.evaluate||Jt).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++kn+"]")+"\n";t.replace(p,function(n,r,e,u,o,c){return e||(e=u),h+=t.slice(f,c).replace(Yt,Cr),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),o&&(a=!0,h+="';\n"+o+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),f=c+n.length,n}),h+="';\n";var d=n.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(mt,""):h).replace(bt,"$1").replace(wt,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Sc(function(){return Xt(c,v+"return "+h).apply(u,s)});if(g.source=h,Ao(g))throw g;return g},pe.times=function(t,n){if((t=Wo(t))<1||t>$)return[];var r=V,e=qr(t,V);n=Ru(n),t-=V;for(var i=gr(e,n);++r<t;)n(r);return i},pe.toFinite=Do,pe.toInteger=Wo,pe.toLength=Uo,pe.toLower=function(t){return Ho(t).toLowerCase()},pe.toNumber=Bo,pe.toSafeInteger=function(t){return t?$e(Wo(t),-$,$):0===t?t:0},pe.toString=Ho,pe.toUpper=function(t){return Ho(t).toUpperCase()},pe.trim=function(t,n,r){if((t=Ho(t))&&(r||n===u))return t.replace($t,"");if(!t||!(n=Li(n)))return t;var e=Mr(t),i=Mr(n);return Zi(e,br(e,i),wr(e,i)+1).join("")},pe.trimEnd=function(t,n,r){if((t=Ho(t))&&(r||n===u))return t.replace(Lt,"");if(!t||!(n=Li(n)))return t;var e=Mr(t);return Zi(e,0,wr(e,Mr(n))+1).join("")},pe.trimStart=function(t,n,r){if((t=Ho(t))&&(r||n===u))return t.replace(Rt,"");if(!t||!(n=Li(n)))return t;var e=Mr(t);return Zi(e,br(e,Mr(n))).join("")},pe.truncate=function(t,n){var r=I,e=E;if(Io(n)){var i="separator"in n?n.separator:i;r="length"in n?Wo(n.length):r,e="omission"in n?Li(n.omission):e}var a=(t=Ho(t)).length;if(Sr(t)){var o=Mr(t);a=o.length}if(r>=a)return t;var c=r-Or(e);if(c<1)return e;var s=o?Zi(o,0,c).join(""):t.slice(0,c);if(i===u)return s+e;if(o&&(c+=s.length-c),Mo(i)){if(t.slice(c).search(i)){var f,l=s;for(i.global||(i=rn(i.source,Ho(Bt.exec(i))+"g")),i.lastIndex=0;f=i.exec(l);)var h=f.index;s=s.slice(0,h===u?c:h)}}else if(t.indexOf(Li(i),c)!=c){var p=s.lastIndexOf(i);p>-1&&(s=s.slice(0,p))}return s+e},pe.unescape=function(t){return(t=Ho(t))&&Ct.test(t)?t.replace(xt,Tr):t},pe.uniqueId=function(t){var n=++hn;return Ho(t)+n},pe.upperCase=xc,pe.upperFirst=Ac,pe.each=Pa,pe.eachRight=Ha,pe.first=ya,$c(pe,(Zc={},Ge(pe,function(t,n){ln.call(pe.prototype,n)||(Zc[n]=t)}),Zc),{chain:!1}),pe.VERSION="4.17.11",Zn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pe[t].placeholder=pe}),Zn(["drop","take"],function(t,n){_e.prototype[t]=function(r){r=r===u?1:Hr(Wo(r),0);var e=this.__filtered__&&!n?new _e(this):this.clone();return e.__filtered__?e.__takeCount__=qr(r,e.__takeCount__):e.__views__.push({size:qr(r,V),type:t+(e.__dir__<0?"Right":"")}),e},_e.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),Zn(["filter","map","takeWhile"],function(t,n){var r=n+1,e=r==O||3==r;_e.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Ru(t,3),type:r}),n.__filtered__=n.__filtered__||e,n}}),Zn(["head","last"],function(t,n){var r="take"+(n?"Right":"");_e.prototype[t]=function(){return this[r](1).value()[0]}}),Zn(["initial","tail"],function(t,n){var r="drop"+(n?"":"Right");_e.prototype[t]=function(){return this.__filtered__?new _e(this):this[r](1)}}),_e.prototype.compact=function(){return this.filter(jc)},_e.prototype.find=function(t){return this.filter(t).head()},_e.prototype.findLast=function(t){return this.reverse().find(t)},_e.prototype.invokeMap=Ai(function(t,n){return"function"==typeof t?new _e(this):this.map(function(r){return ei(r,t,n)})}),_e.prototype.reject=function(t){return this.filter(oo(Ru(t)))},_e.prototype.slice=function(t,n){t=Wo(t);var r=this;return r.__filtered__&&(t>0||n<0)?new _e(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==u&&(r=(n=Wo(n))<0?r.dropRight(-n):r.take(n-t)),r)},_e.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_e.prototype.toArray=function(){return this.take(V)},Ge(_e.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),e=/^(?:head|last)$/.test(n),i=pe[e?"take"+("last"==n?"Right":""):n],a=e||/^find/.test(n);i&&(pe.prototype[n]=function(){var n=this.__wrapped__,o=e?[1]:arguments,c=n instanceof _e,s=o[0],f=c||_o(n),l=function(t){var n=i.apply(pe,nr([t],o));return e&&h?n[0]:n};f&&r&&"function"==typeof s&&1!=s.length&&(c=f=!1);var h=this.__chain__,p=!!this.__actions__.length,v=a&&!h,d=c&&!p;if(!a&&f){n=d?n:new _e(this);var g=t.apply(n,o);return g.__actions__.push({func:Fa,args:[l],thisArg:u}),new ge(g,h)}return v&&d?t.apply(this,o):(g=this.thru(l),v?e?g.value()[0]:g.value():g)})}),Zn(["pop","push","shift","sort","splice","unshift"],function(t){var n=an[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",e=/^(?:pop|shift)$/.test(t);pe.prototype[t]=function(){var t=arguments;if(e&&!this.__chain__){var i=this.value();return n.apply(_o(i)?i:[],t)}return this[r](function(r){return n.apply(_o(r)?r:[],t)})}}),Ge(_e.prototype,function(t,n){var r=pe[n];if(r){var e=r.name+"";(ie[e]||(ie[e]=[])).push({name:n,func:r})}}),ie[pu(u,y).name]=[{name:"wrapper",func:u}],_e.prototype.clone=function(){var t=new _e(this.__wrapped__);return t.__actions__=ru(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ru(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ru(this.__views__),t},_e.prototype.reverse=function(){if(this.__filtered__){var t=new _e(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},_e.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,r=_o(t),e=n<0,i=r?t.length:0,u=function(t,n,r){for(var e=-1,i=r.length;++e<i;){var u=r[e],a=u.size;switch(u.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=qr(n,t+a);break;case"takeRight":t=Hr(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=u.start,o=u.end,c=o-a,s=e?o:a-1,f=this.__iteratees__,l=f.length,h=0,p=qr(c,this.__takeCount__);if(!r||!e&&i==c&&p==c)return Wi(t,this.__actions__);var v=[];t:for(;c--&&h<p;){for(var d=-1,g=t[s+=n];++d<l;){var _=f[d],y=_.iteratee,m=_.type,b=y(g);if(m==M)g=b;else if(!b){if(m==O)continue t;break t}}v[h++]=g}return v},pe.prototype.at=Da,pe.prototype.chain=function(){return Na(this)},pe.prototype.commit=function(){return new ge(this.value(),this.__chain__)},pe.prototype.next=function(){this.__values__===u&&(this.__values__=Fo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?u:this.__values__[this.__index__++]}},pe.prototype.plant=function(t){for(var n,r=this;r instanceof de;){var e=la(r);e.__index__=0,e.__values__=u,n?i.__wrapped__=e:n=e;var i=e;r=r.__wrapped__}return i.__wrapped__=t,n},pe.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof _e){var n=t;return this.__actions__.length&&(n=new _e(this)),(n=n.reverse()).__actions__.push({func:Fa,args:[ka],thisArg:u}),new ge(n,this.__chain__)}return this.thru(ka)},pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=function(){return Wi(this.__wrapped__,this.__actions__)},pe.prototype.first=pe.prototype.head,Fn&&(pe.prototype[Fn]=function(){return this}),pe}();$n._=$r,(i=function(){return $r}.call(n,r,n,e))===u||(e.exports=i)}).call(this)}).call(this,r(4),r(5)(t))},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(2),i=r(0),u=r(1),a=function(){function t(t,n){this.variableName=t,this.targetValue=n}return t.prototype.check=function(t){var n=t.varLookup(this.variableName);return n&&n.value.equals(this.targetValue)},t.prototype.visualize_html=function(t){var n=this.check(t);return'\n            <div style="position: relative">\n                <span class="badge matlab-var-badge">'+this.variableName+'</span>\n                <div class="matcrab-visualization">'+this.targetValue.visualize_html()+'</div>\n                <div class="matcrab-variable-exercise-status">'+(n?'<span class="glyphicon glyphicon-ok matcrab-complete-glyphicon"></span>':'<span class="glyphicon glyphicon-option-horizontal matcrab-incomplete-glyphicon"></span>')+"</div>\n            </div>\n        "},t}(),o=function(){function t(t,n,r,e,i){this.elem=t,this.env=n,this.exercises=Object.keys(r).map(function(t){return new a(t,r[t])}),this.description=e,this.solutionMessage=i,n.addListener(this),this.elem.html(this.visualize_html())}return t.prototype.onVariableSet=function(t){var n=this;this.exercises.forEach(function(r){r.variableName===t.name&&n.elem.html(n.visualize_html())})},t.prototype.check=function(){var t=this;return this.exercises.every(function(n){return n.check(t.env)})},t.prototype.visualize_html=function(){var t=this;return"\n        "+(this.description?'<div style="text-align:center">'+this.description+"</div>":"")+"\n        <table>\n            <tr>\n                "+this.exercises.reduce(function(n,r){return n+"<td>"+r.visualize_html(t.env)+"</td>"},"")+"\n            </tr>\n        </table>\n        "+(this.solutionMessage&&this.check()?'<div class="alert alert-success" style="text-align:center">'+this.solutionMessage+"</div>":"")},t}();function c(t,n,r){try{if(t.length>0){var i=u.parse(t),a=e.CodeConstruct.create(i,n);a.execute();r.html(a.visualize_html())}}catch(t){if("SyntaxError"!==t.name)throw r.html("Sorry, an unexpected MatCrab error occurred. Please report to jjuett@umich.edu."),t;r.html("Syntax Error")}}function s(t,n,r){var e;t.keypress(function(i){if(13==(i.keyCode||i.which)&&!i.shiftKey){i.preventDefault();return clearTimeout(e),e=setTimeout(function(){if(void 0!==t.val()){var e=t.val().trim();n.empty(),c(e,r,n)}},500),!1}})}function f(t,n,r,e){var i;t.click(function(t){t.preventDefault();return clearTimeout(i),i=setTimeout(function(){if(void 0!==n.val()){var t=n.val().trim();r.empty(),c(t,e,r)}},500),!1})}function l(t){return t.trim().split("\n").map(function(t){return t.trim()}).join("\n")}function h(){$(".matcrab-variable-target-exercise").filter(function(){return!$(this).data("rendered")}).each(function(){var t,n,r={};$(this).find(".matcrab-variable-target").each(function(){var t=$(this),n=l(t.html()),a=u.parse(n),o=new e.Environment,c=e.CodeConstruct.create(a,o).execute();i.assert("success"===c.kind),r[t.data("name")]=c.value}).remove();var a=null!==(t=$(this).find(".matcrab-exercise-question").html())&&void 0!==t?t:"";a=a.trim(),$(this).find(".matcrab-exercise-question").remove();var c=null!==(n=$(this).find(".matcrab-exercise-complete").html())&&void 0!==n?n:"";c=c.trim(),$(this).find(".matcrab-exercise-complete").remove();var h=new e.Environment($(this).find(".matcrab-workspace"));$(this).find(".matcrab-setup").each(function(){var t=l($(this).html()),n=u.parse(t);e.CodeConstruct.create(n,h).execute()}).remove(),new o($(this).find(".matcrab-exercise-status"),h,r,a,c);$(this).find(".matcrab-reset");var p=$(this).find(".matcrab-run"),v=$(this).find(".matcrab-entry"),d=$(this).find(".matcrab-vis");s(v,d,h),f(p,v,d,h)}).data("rendered",!0),$(".matcrab-vis-exp").filter(function(){return!$(this).data("rendered")}).each(function(){var t=$(this).html();t=l(t),console.log(t);var n=u.parse(t),r=new e.Environment,i=e.CodeConstruct.create(n,r);i.execute(),$(this).html(i.visualize_html())}).data("rendered",!0),$(".matcrab-example").filter(function(){return!$(this).data("rendered")}).each(function(){var t=this,n=$(this).find(".matcrab-reset"),r=$(this).find(".matcrab-run"),i=$(this).find(".matcrab-entry"),a=$(this).find(".matcrab-vis"),o=new e.Environment($(this).find(".matcrab-workspace")),h=l($(this).find(".matcrab-setup").html()||""),p=u.parse(h);(!p.statements||p.statements.length>0)&&e.CodeConstruct.create(p,o).execute(),$(this).find(".matcrab-setup").remove();var v=i.val();"string"==typeof v&&i.val(l(v));var d="";void 0!==i.val()&&(d=i.val().trim(),a.empty(),c(d,o,a)),s(i,a,o),f(r,i,a,o),n.on("click",function(n){$(t).find(".matcrab-workspace").empty(),o=new e.Environment($(t).find(".matcrab-workspace")),(!p.statements||p.statements.length>0)&&e.CodeConstruct.create(p,o).execute(),i.val(d),a.empty(),c(d,o,a)})}).data("rendered",!0)}$(document).ready(h),setTimeout(h,1e3),setTimeout(h,2e3),setTimeout(h,5e3),setTimeout(h,1e4)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdW5kbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL3V0aWwvdXRpbC50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvbWF0bGFiX3BhcnNlci50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvbWF0bGFiLnRzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbG9kYXNoLmpzIiwid2VicGFjazovL0J1bmRsZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvZXhlcmNpc2VzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiTWF0bGFiTWF0aCIsImFzTXV0YWJsZSIsIm9iaiIsImFzc2VydCIsImNvbmRpdGlvbiIsIm1lc3NhZ2UiLCJFcnJvciIsImNsb25lQXJyYXkiLCJhcnIiLCJzbGljZSIsImdldFF1ZXJ5U3RyaW5nIiwicXVlcnlfc3RyaW5nIiwidmFycyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwic3BsaXQiLCJsZW5ndGgiLCJwYWlyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicHVzaCIsInNlZWQiLCJzZWVkZWRSYW5kb20iLCJtaW4iLCJtYXgiLCJybmQiLCJNYXRoIiwic2V0UmFuZG9tU2VlZCIsIm5ld1NlZWQiLCJyYW5kb20iLCJyYW5nZSIsInN0YXJ0IiwiZW5kIiwic3RlcCIsIkNvbG9yIiwiV0hJVEUiLCJMSUdIVF9MRVRURVJTIiwidG9Db2xvciIsImxldHRlcnMiLCJzdHIiLCJ0b1N0cmluZyIsImhhc2giLCJjaGFyQ29kZUF0IiwiY29sb3IiLCJmbG9vciIsInNlZWRlZFJhbmRvbUNvbG9yIiwiYWJzIiwicmFuZG9tQ29sb3IiLCJTeW50YXhFcnJvciIsIl9zdXBlciIsImV4cGVjdGVkIiwiZm91bmQiLCJfdGhpcyIsInRoaXMiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIl9fZXh0ZW5kcyIsImJ1aWxkTWVzc2FnZSIsImhleCIsImNoIiwidG9VcHBlckNhc2UiLCJsaXRlcmFsRXNjYXBlIiwicmVwbGFjZSIsImNsYXNzRXNjYXBlIiwiZGVzY3JpYmVFeHBlY3RhdGlvbiIsImV4cGVjdGF0aW9uIiwidHlwZSIsInRleHQiLCJlc2NhcGVkUGFydHMiLCJwYXJ0cyIsIm1hcCIsInBhcnQiLCJBcnJheSIsImlzQXJyYXkiLCJpbnZlcnRlZCIsImRlc2NyaXB0aW9uIiwiZXhwZWN0ZWQxIiwiaiIsImRlc2NyaXB0aW9ucyIsInNvcnQiLCJqb2luIiwiZGVzY3JpYmVFeHBlY3RlZCIsImZvdW5kMSIsInBhcnNlIiwiaW5wdXQiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwicGVnJHJlc3VsdCIsInBlZyRGQUlMRUQiLCJwZWckc3RhcnRSdWxlRnVuY3Rpb25zIiwicGVnJHBhcnNlc3RhcnQiLCJwZWckc3RhcnRSdWxlRnVuY3Rpb24iLCJwZWckYzAiLCJwZWckYzEiLCJwZWckbGl0ZXJhbEV4cGVjdGF0aW9uIiwicGVnJGMyIiwicGVnJGMzIiwicGVnJGNsYXNzRXhwZWN0YXRpb24iLCJwZWckYzQiLCJwZWckYzUiLCJzdGF0ZW1lbnRzIiwid2hhdCIsInBlZyRjNiIsInBlZyRjNyIsInBlZyRjOCIsImUiLCJsaHMiLCJyaHMiLCJwZWckYzkiLCJpZGVudGlmaWVyIiwiZXhwIiwicGVnJGMxMCIsInBlZyRjMTEiLCJwZWckYzEyIiwicGVnJGMxMyIsInBlZyRjMTQiLCJoZWFkIiwicGVnJGMxNSIsInBlZyRjMTYiLCJwZWckYzE3IiwidGFpbCIsInVuc2hpZnQiLCJyb3dzIiwicGVnJGMxOCIsInBlZyRjMTkiLCJwZWckYzIwIiwicGVnJGMyMSIsImNvbHMiLCJwZWckYzIyIiwicGVnJGMyMyIsInBlZyRjMjQiLCJlMSIsImUyIiwicGVnJGMyNSIsImUzIiwicGVnJGMyNiIsInBlZyRjMjciLCJwZWckYzI4Iiwib3AiLCJwZWckYzI5IiwiY29tcG9zZUJpbmFyeU9wIiwicGVnJGMzMCIsInBlZyRjMzEiLCJwZWckYzMyIiwicGVnJGMzMyIsInBlZyRjMzQiLCJwZWckYzM1IiwicGVnJGMzNiIsInBlZyRjMzciLCJwZWckYzM4IiwicGVnJGMzOSIsInBlZyRjNDAiLCJwZWckYzQxIiwicGVnJGM0MiIsInBlZyRjNDMiLCJwZWckYzQ0IiwicGVnJGM0NSIsInBlZyRjNDYiLCJwZWckYzQ3IiwicGVnJGM0OCIsInBlZyRjNDkiLCJwZWckYzUwIiwicGVnJGM1MSIsInBlZyRjNTIiLCJwZWckYzUzIiwicGVnJGM1NCIsInBlZyRjNTUiLCJwZWckYzU2IiwicGVnJGM1NyIsInBlZyRjNTgiLCJwZWckYzU5IiwicGVnJGM2MCIsInBlZyRjNjEiLCJwZWckYzYyIiwicGVnJGM2MyIsInBlZyRjNjQiLCJwZWckYzY1IiwicGVnJGM2NiIsInBlZyRjNjciLCJzdWIiLCJwZWckYzY4IiwicGVnJGM2OSIsInBlZyRjNzAiLCJ0cmFucyIsInRyYW5zcG9zZXMiLCJwZWckYzcxIiwicGVnJGM3MiIsInBlZyRjNzMiLCJ0YXJnZXQiLCJhIiwicGVnJGM3NCIsInBlZyRjNzUiLCJwZWckYzc2IiwiYXJncyIsInBlZyRjNzciLCJwZWckYzc4IiwicGVnJGM3OSIsInBlZyRjODAiLCJwZWckYzgxIiwicGVnJGM4MiIsInBlZyRjODMiLCJwZWckYzg0IiwibmVnIiwiZGlnaXRzIiwiaW5kZXhPZiIsImxhc3RJbmRleE9mIiwicGVnJGM4NSIsInBhcnNlRmxvYXQiLCJwZWckYzg2IiwicGVnJG90aGVyRXhwZWN0YXRpb24iLCJwZWckYzg3IiwicGVnJGM4OCIsInBlZyRjODkiLCJwYXJzZUludCIsInBlZyRjOTAiLCJwZWckYzkxIiwiZmlyc3QiLCJyZXN0IiwicGVnJGM5MiIsInBlZyRjOTMiLCJwZWckYzk0IiwicGVnJGM5NSIsInBlZyRjOTYiLCJwZWckYzk3IiwicGVnJGM5OCIsInBlZyRjdXJyUG9zIiwicGVnJHBvc0RldGFpbHNDYWNoZSIsImxpbmUiLCJjb2x1bW4iLCJwZWckbWF4RmFpbFBvcyIsInBlZyRtYXhGYWlsRXhwZWN0ZWQiLCJwZWckc2lsZW50RmFpbHMiLCJzdGFydFJ1bGUiLCJ0ZXh0MSIsImlnbm9yZUNhc2UiLCJwZWckY29tcHV0ZVBvc0RldGFpbHMiLCJwb3MiLCJkZXRhaWxzIiwicGVnJGNvbXB1dGVMb2NhdGlvbiIsInN0YXJ0UG9zIiwiZW5kUG9zIiwic3RhcnRQb3NEZXRhaWxzIiwiZW5kUG9zRGV0YWlscyIsIm9mZnNldCIsInBlZyRmYWlsIiwicGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yIiwibG9jYXRpb24xIiwiczAiLCJzMSIsInMyIiwiczMiLCJzNCIsInM1IiwiczYiLCJwZWckcGFyc2VfIiwicGVnJHBhcnNlU3RhdGVtZW50IiwidGVzdCIsImNoYXJBdCIsInBlZyRwYXJzZV9fIiwicGVnJHBhcnNlU3RhdGVtZW50R3JvdXAiLCJwZWckcGFyc2VDYWxsRXhwIiwicGVnJHBhcnNlRXhwIiwicGVnJHBhcnNlSWRlbnRpZmllciIsInBlZyRwYXJzZUFzc2lnbm1lbnRTdGF0ZW1lbnQiLCJwZWckcGFyc2VSb3dFeHAiLCJzNyIsInM4IiwiczEwIiwicGVnJHBhcnNlT3JFeHAiLCJwZWckcGFyc2VSYW5nZUV4cCIsInBlZyRwYXJzZVByaW1hcnlFeHAiLCJwZWckcGFyc2VBbmRFeHAiLCJwZWckcGFyc2VFcUV4cCIsInBlZyRwYXJzZVJlbEV4cCIsInN1YnN0ciIsInBlZyRwYXJzZUFkZEV4cCIsInBlZyRwYXJzZU11bHRFeHAiLCJwZWckcGFyc2VVbmFyeUV4cCIsInBlZyRwYXJzZVBvc3RmaXhFeHAiLCJzOSIsInMxMSIsInBlZyRwYXJzZUluZGV4RXhwIiwicGVnJHBhcnNlTWF0cml4RXhwIiwicGVnJHBhcnNlRmxvYXQiLCJwZWckcGFyc2VJbnRlZ2VyIiwicGVnJHBhcnNlTnVtYmVyIiwicGVnJHBhcnNlSWRlbnRpZmllckZpcnN0Q2hhciIsInBlZyRwYXJzZUlkZW50aWZpZXJDaGFyIiwiYXNzb2MiLCJleHByVHlwZSIsInJpZ2h0IiwicG9wIiwibGVmdCIsImFzc29jaWF0aXZpdHkiLCJzaGlmdCIsInV0aWxfMSIsImxvZGFzaF8xIiwiTWF0bGFiRXJyb3IiLCJjb25zdHJ1Y3QiLCJNYXRyaXgiLCJkYXRhIiwiZGF0YVR5cGUiLCJudW1EaW1zIiwiaGVpZ2h0Iiwid2lkdGgiLCJudW1lbCIsImlzU2NhbGFyIiwiaXNWZWN0b3IiLCJmb3JtYXROdW1iZXIiLCJudW0iLCJ0cnVuYyIsInRvUHJlY2lzaW9uIiwic2NhbGFyIiwiY3JlYXRlU2l6ZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiY2xvbmUiLCJlcXVhbHMiLCJvdGhlciIsImV2ZXJ5IiwibGluZWFySW5kZXgiLCJyb3ciLCJjb2wiLCJhdExpbmVhciIsImluZGV4Iiwic2V0TGluZWFyIiwiYXQiLCJzZXRBdCIsImZpbGwiLCJzZXRBbGwiLCJvcGVyYXRlQWxsIiwib3BlcmF0ZSIsImRpbWVuc2lvbiIsInNjYWxhclZhbHVlIiwiY29udGFpbnMiLCJjb2xEYXRhIiwic2V0Q29sRGF0YSIsIm5ld0RhdGEiLCJyb3dEYXRhIiwic2V0Um93RGF0YSIsImFjY3VtdWxhdGVDb2xzIiwicmVkdWNlIiwiYWNjdW11bGF0ZVJvd3MiLCJ2aXN1YWxpemVfaHRtbCIsInRhYmxlIiwiJCIsImFkZENsYXNzIiwiY3NzIiwidHIiLCJhcHBlbmQiLCJ0ZCIsInRlbXAiLCJ0ZW1wU3BhbiIsImh0bWwiLCJvdXRlckhUTUwiLCJTdWJhcnJheSIsIkNvb3JkaW5hdGVTdWJhcnJheSIsInJvd0luZGV4ZXIiLCJjb2xJbmRleGVyIiwicm93SW5kaWNlcyIsImNvbEluZGljZXMiLCJDb29yZGluYXRlSW5kZXhlciIsInZpc3VhbGl6ZV9zZWxlY3Rpb24iLCJtYXRyaXgiLCJyb3dJbmRpY2VzU2V0IiwiU2V0IiwiZ2V0U2VsZWN0ZWRJbmRpY2VzIiwiY29sSW5kaWNlc1NldCIsImhhcyIsInJhd0luZGV4RWxlbSIsInJlYWRWYWx1ZSIsInNvdXJjZSIsImZvckVhY2giLCJzZWxlY3RlZENvbCIsInNlbGVjdGVkUm93IiwiYXNzaWduIiwic2VsZWN0aW9uUm93cyIsInNlbGVjdGlvbkNvbHMiLCJzZWxlY3Rpb25OdW1lbCIsImlfMSIsInZlcmlmeSIsIm1hdCIsInNlbGVjdGVkSW5kaWNlcyIsIkFsbENvb3JkaW5hdGVJbmRleGVyIiwiTG9naWNhbENvb3JkaW5hdGVJbmRleGVyIiwiUmVndWxhckNvb3JkaW5hdGVJbmRleGVyIiwiRElNRU5TSU9OX05BTUVTIiwiZGltTGVuIiwibG9naWNhbFNlbGVjdGlvbiIsImxvZ2ljYWxWYWx1ZSIsImxvZ2ljYWxMZW5ndGgiLCJMaW5lYXJTdWJhcnJheSIsImluZGljZXMiLCJBbGxMaW5lYXJTdWJhcnJheSIsIkxvZ2ljYWxMaW5lYXJTdWJhcnJheSIsIlJlZ3VsYXJMaW5lYXJTdWJhcnJheSIsInNfMSIsInZhbHVlSW5kZXgiLCJpbmRpY2VzU2V0IiwibWF0TGVuZ3RoIiwic2VsZWN0ZWREYXRhIiwic2NhbGFyVmFsdWVfMSIsInNlbGVjdGVkSW5kZXgiLCJpc1NlbGVjdGVkIiwibG9naWNhbEluZGV4RWxlbSIsIlZhcmlhYmxlIiwiZWxlbSIsInByZXBlbmQiLCJ2YWx1ZUVsZW0iLCJyZWZyZXNoIiwiaG9sZGVyIiwiZmluZCIsImVtcHR5Iiwic2V0VmFsdWUiLCJNYXRsYWJGdW5jdGlvbiIsIm51bUFyZ3MiLCJmdW5jIiwic3VjY2Vzc1Jlc3VsdCIsIm1zZyIsImVycm9yUmVzdWx0IiwiaXNWYWxpZE51bWJlck9mQXJncyIsIkFSR1NfSU5GIiwiY3JlYXRlU2l6ZWRNYXRyaXgiLCJhcmciLCJzaXplIiwibnVtUm93cyIsIm51bUNvbHMiLCJtYXRyaXhBY2N1bXVsYXRpb24iLCJkaW0iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJtYXRyaXhVbmFyeUZ1bmN0aW9uIiwibWF0cml4RmxpcHVkIiwib3JpZyIsIm5ld01hdCIsInJfb3JpZyIsInJfbmV3IiwibWF0cml4RmxpcGxyIiwiY19vcmlnIiwiY19uZXciLCJNQVRMQUJfRlVOQ1RJT05TIiwiZmxpcGxyIiwiZmxpcHVkIiwiZmxpcCIsInJvdDkwIiwiemVyb3MiLCJvbmVzIiwiZXllIiwiZGlhZ19sZW4iLCJtYWdpYyIsInZhbCIsInN1bSIsImIiLCJwcm9kIiwic3FydCIsInNpbiIsImNvcyIsInRhbiIsImFzaW4iLCJhY29zIiwiYXRhbiIsInNpbmgiLCJjb3NoIiwidGFuaCIsImFzaW5oIiwiYWNvc2giLCJhdGFuaCIsImRpc3BsYXkiLCJpbXNob3ciLCJFbnZpcm9ubWVudCIsImZ1bmN0aW9uTmFtZSIsImZ1bmN0aW9ucyIsImVuZFZhbHVlU3RhY2siLCJsaXN0ZW5lcnMiLCJzZXRGdW5jdGlvbiIsInNldEdsb2JhbEVudmlyb25tZW50IiwiZ2xvYmFsIiwiaGFzVmFyIiwibG9va3VwIiwidmFyaSIsInZhckxvb2t1cCIsImZ1bmN0aW9uTG9va3VwIiwic2V0VmFyIiwib25WYXJpYWJsZVNldCIsInB1c2hFbmRWYWx1ZSIsInBvcEVuZFZhbHVlIiwiYWRkTGlzdGVuZXIiLCJsaXN0ZW5lciIsIkNvZGVDb25zdHJ1Y3QiLCJhc3QiLCJlbnYiLCJjcmVhdGVSZWRYIiwiU3RhdGVtZW50R3JvdXAiLCJBc3NpZ25tZW50IiwiSW5kZXhlZEFzc2lnbm1lbnQiLCJFeHByZXNzaW9uIiwiVU5FWEVDVVRFRCIsImtpbmQiLCJhbGxTdWNjZXNzIiwicmVzdWx0cyIsImVycm9yIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJyZXN1bHQiLCJncmFtbWFyVG9TdWJjbGFzcyIsInNldFJlc3VsdCIsImV4ZWN1dGUiLCJyZXMiLCJldmFsdWF0ZSIsImV4cHIiLCJ2aXN1YWxpemVfZXhwciIsImFwcGVuZFRvIiwiYm90dG9tIiwibWF0cml4X2V4cCIsIk1hdHJpeEV4cHJlc3Npb24iLCJyb3dfZXhwIiwiUm93RXhwcmVzc2lvbiIsInJhbmdlX2V4cCIsIlJhbmdlRXhwcmVzc2lvbiIsIm9yX2V4cCIsIk1hdHJpeE9yRXhwcmVzc2lvbiIsImFuZF9leHAiLCJNYXRyaXhBbmRFeHByZXNzaW9uIiwiZXFfZXhwIiwiRXF1YWxpdHlFeHByZXNzaW9uIiwicmVsX2V4cCIsIlJlbGF0aW9uYWxFeHByZXNzaW9uIiwiYWRkX2V4cCIsIkFkZEV4cHJlc3Npb24iLCJtdWx0X2V4cCIsIk11bHRFeHByZXNzaW9uIiwidW5hcnlfZXhwIiwiVW5hcnlPcGVyYXRvckV4cHJlc3Npb24iLCJ0cmFuc3Bvc2VfZXhwIiwiVHJhbnNwb3NlRXhwcmVzc2lvbiIsImNhbGxfZXhwIiwiSW5kZXhPckNhbGxFeHByZXNzaW9uIiwiY29sb25fZXhwIiwiQ29sb25FeHByZXNzaW9uIiwiaW50ZWdlciIsIkxpdGVyYWxFeHByZXNzaW9uIiwiZmxvYXQiLCJJZGVudGlmaWVyRXhwcmVzc2lvbiIsInJoc1Jlc3VsdCIsInVwZGF0ZWRWYWx1ZSIsInRvcCIsInRhcmdldE5hbWUiLCJpbmRpY2llcyIsIm9yaWdpbmFsTWF0cml4IiwiaW5kaWNlc1Jlc3VsdHMiLCJzdWJhcnJheVJlc3VsdCIsInVwZGF0ZWRNYXRyaXgiLCJzQXN0Iiwic3RhdGVtZW50IiwibGFzdFN0YXRlbWVudEV4ZWN1dGVkIiwicm93UmVzdWx0cyIsImFwcGVuZF9yb3dzIiwibWF0cyIsIm5ld0NvbHMiLCJuZXdSb3dzIiwiY29uY2F0Iiwic29tZSIsImNvbnRhaW5lZCIsImNvbFJlc3VsdHMiLCJhcHBlbmRfY29scyIsInByZXYiLCJjdXJyZW50Iiwic3RhcnRSZXN1bHQiLCJlbmRSZXN1bHQiLCJzdGVwUmVzdWx0IiwieCIsInJlc3VsdEh0bWwiLCJyb3dIdG1sIiwic2NhbGFySHRtbCIsIkJpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbiIsImxlZnRSZXN1bHQiLCJyaWdodFJlc3VsdCIsIm9wZXJhbmRFcnJvciIsImNoZWNrT3BlcmFuZHMiLCJiaW5hcnlPcCIsIm9wZXJhdG9ycyIsImxlZnRNYXQiLCJyaWdodE1hdCIsImxlZnRTY2FsYXIiLCJyaWdodFNjYWxhciIsIisiLCItIiwiKiIsIi8iLCIuKiIsIi4vIiwiLl4iLCJwb3ciLCJ8IiwiJiIsIj09Iiwifj0iLCI8IiwiPD0iLCI+IiwiPj0iLCJ+Iiwib3BlcmF0b3JEYXRhVHlwZXMiLCJvcGVyYW5kIiwib3BlcmFuZFJlc3VsdCIsImNoZWNrT3BlcmFuZCIsInVuYXJ5T3AiLCJudW1UcmFuc3Bvc2VzIiwib2xkTWF0IiwiaW5kaWNpZXNPckFyZ3MiLCJleGVjdXRlZEZ1bmN0aW9uIiwiYXJnUmVzdWx0cyIsImFyZ1JlcyIsInRhcmdldF8xIiwibnVtU3RyIiwibGl0ZXJhbFZhbHVlIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJMQVJHRV9BUlJBWV9TSVpFIiwiQ09SRV9FUlJPUl9URVhUIiwiRlVOQ19FUlJPUl9URVhUIiwiSEFTSF9VTkRFRklORUQiLCJNQVhfTUVNT0laRV9TSVpFIiwiUExBQ0VIT0xERVIiLCJDTE9ORV9ERUVQX0ZMQUciLCJDTE9ORV9GTEFUX0ZMQUciLCJDTE9ORV9TWU1CT0xTX0ZMQUciLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsIkNPTVBBUkVfVU5PUkRFUkVEX0ZMQUciLCJXUkFQX0JJTkRfRkxBRyIsIldSQVBfQklORF9LRVlfRkxBRyIsIldSQVBfQ1VSUllfQk9VTkRfRkxBRyIsIldSQVBfQ1VSUllfRkxBRyIsIldSQVBfQ1VSUllfUklHSFRfRkxBRyIsIldSQVBfUEFSVElBTF9GTEFHIiwiV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUciLCJXUkFQX0FSWV9GTEFHIiwiV1JBUF9SRUFSR19GTEFHIiwiV1JBUF9GTElQX0ZMQUciLCJERUZBVUxUX1RSVU5DX0xFTkdUSCIsIkRFRkFVTFRfVFJVTkNfT01JU1NJT04iLCJIT1RfQ09VTlQiLCJIT1RfU1BBTiIsIkxBWllfRklMVEVSX0ZMQUciLCJMQVpZX01BUF9GTEFHIiwiSU5GSU5JVFkiLCJNQVhfU0FGRV9JTlRFR0VSIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJNQVhfQVJSQVlfTEVOR1RIIiwiTUFYX0FSUkFZX0lOREVYIiwiSEFMRl9NQVhfQVJSQVlfTEVOR1RIIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYXN5bmNUYWciLCJib29sVGFnIiwiZGF0ZVRhZyIsImRvbUV4Y1RhZyIsImVycm9yVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm51bGxUYWciLCJvYmplY3RUYWciLCJwcm94eVRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsInVuZGVmaW5lZFRhZyIsIndlYWtNYXBUYWciLCJ3ZWFrU2V0VGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQ4Q2xhbXBlZFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwiUmVnRXhwIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltIiwicmVUcmltU3RhcnQiLCJyZVRyaW1FbmQiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQ29tYm9SYW5nZSIsInJzQ29tYm9NYXJrc1JhbmdlIiwicnNCcmVha1JhbmdlIiwicnNNYXRoT3BSYW5nZSIsInJzQXN0cmFsIiwicnNCcmVhayIsInJzQ29tYm8iLCJyc0RpZ2l0cyIsInJzRGluZ2JhdCIsInJzTG93ZXIiLCJyc01pc2MiLCJyc0ZpdHoiLCJyc05vbkFzdHJhbCIsInJzUmVnaW9uYWwiLCJyc1N1cnJQYWlyIiwicnNVcHBlciIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyZU9wdE1vZCIsInJzU2VxIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImNvbnRleHRQcm9wcyIsInRlbXBsYXRlQ291bnRlciIsInR5cGVkQXJyYXlUYWdzIiwiY2xvbmVhYmxlVGFncyIsInN0cmluZ0VzY2FwZXMiLCJcXCIsIiciLCJcbiIsIlxyIiwi4oCoIiwi4oCpIiwiZnJlZVBhcnNlRmxvYXQiLCJmcmVlUGFyc2VJbnQiLCJmcmVlR2xvYmFsIiwiZnJlZVNlbGYiLCJzZWxmIiwicm9vdCIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJ0eXBlcyIsInJlcXVpcmUiLCJiaW5kaW5nIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwiaXNSZWdFeHAiLCJub2RlSXNTZXQiLCJpc1NldCIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJ0aGlzQXJnIiwiYXJyYXlBZ2dyZWdhdG9yIiwiYXJyYXkiLCJzZXR0ZXIiLCJpdGVyYXRlZSIsImFjY3VtdWxhdG9yIiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwiYXJyYXlGaWx0ZXIiLCJyZXNJbmRleCIsImFycmF5SW5jbHVkZXMiLCJiYXNlSW5kZXhPZiIsImFycmF5SW5jbHVkZXNXaXRoIiwiY29tcGFyYXRvciIsImFycmF5TWFwIiwiYXJyYXlQdXNoIiwidmFsdWVzIiwiYXJyYXlSZWR1Y2UiLCJpbml0QWNjdW0iLCJhcnJheVJlZHVjZVJpZ2h0IiwiYXJyYXlTb21lIiwiYXNjaWlTaXplIiwiYmFzZVByb3BlcnR5IiwiYmFzZUZpbmRLZXkiLCJjb2xsZWN0aW9uIiwiZWFjaEZ1bmMiLCJiYXNlRmluZEluZGV4IiwiZnJvbUluZGV4IiwiZnJvbVJpZ2h0Iiwic3RyaWN0SW5kZXhPZiIsImJhc2VJc05hTiIsImJhc2VJbmRleE9mV2l0aCIsImJhc2VNZWFuIiwiYmFzZVN1bSIsImJhc2VQcm9wZXJ0eU9mIiwiYmFzZVJlZHVjZSIsImJhc2VUaW1lcyIsImJhc2VVbmFyeSIsImJhc2VWYWx1ZXMiLCJwcm9wcyIsImNhY2hlSGFzIiwiY2FjaGUiLCJjaGFyc1N0YXJ0SW5kZXgiLCJzdHJTeW1ib2xzIiwiY2hyU3ltYm9scyIsImNoYXJzRW5kSW5kZXgiLCJkZWJ1cnJMZXR0ZXIiLCLDgCIsIsOBIiwiw4IiLCLDgyIsIsOEIiwiw4UiLCLDoCIsIsOhIiwiw6IiLCLDoyIsIsOkIiwiw6UiLCLDhyIsIsOnIiwiw5AiLCLDsCIsIsOIIiwiw4kiLCLDiiIsIsOLIiwiw6giLCLDqSIsIsOqIiwiw6siLCLDjCIsIsONIiwiw44iLCLDjyIsIsOsIiwiw60iLCLDriIsIsOvIiwiw5EiLCLDsSIsIsOSIiwiw5MiLCLDlCIsIsOVIiwiw5YiLCLDmCIsIsOyIiwiw7MiLCLDtCIsIsO1Iiwiw7YiLCLDuCIsIsOZIiwiw5oiLCLDmyIsIsOcIiwiw7kiLCLDuiIsIsO7Iiwiw7wiLCLDnSIsIsO9Iiwiw78iLCLDhiIsIsOmIiwiw54iLCLDviIsIsOfIiwixIAiLCLEgiIsIsSEIiwixIEiLCLEgyIsIsSFIiwixIYiLCLEiCIsIsSKIiwixIwiLCLEhyIsIsSJIiwixIsiLCLEjSIsIsSOIiwixJAiLCLEjyIsIsSRIiwixJIiLCLElCIsIsSWIiwixJgiLCLEmiIsIsSTIiwixJUiLCLElyIsIsSZIiwixJsiLCLEnCIsIsSeIiwixKAiLCLEoiIsIsSdIiwixJ8iLCLEoSIsIsSjIiwixKQiLCLEpiIsIsSlIiwixKciLCLEqCIsIsSqIiwixKwiLCLEriIsIsSwIiwixKkiLCLEqyIsIsStIiwixK8iLCLEsSIsIsS0IiwixLUiLCLEtiIsIsS3IiwixLgiLCLEuSIsIsS7IiwixL0iLCLEvyIsIsWBIiwixLoiLCLEvCIsIsS+IiwixYAiLCLFgiIsIsWDIiwixYUiLCLFhyIsIsWKIiwixYQiLCLFhiIsIsWIIiwixYsiLCLFjCIsIsWOIiwixZAiLCLFjSIsIsWPIiwixZEiLCLFlCIsIsWWIiwixZgiLCLFlSIsIsWXIiwixZkiLCLFmiIsIsWcIiwixZ4iLCLFoCIsIsWbIiwixZ0iLCLFnyIsIsWhIiwixaIiLCLFpCIsIsWmIiwixaMiLCLFpSIsIsWnIiwixagiLCLFqiIsIsWsIiwixa4iLCLFsCIsIsWyIiwixakiLCLFqyIsIsWtIiwixa8iLCLFsSIsIsWzIiwixbQiLCLFtSIsIsW2IiwixbciLCLFuCIsIsW5IiwixbsiLCLFvSIsIsW6IiwixbwiLCLFviIsIsSyIiwixLMiLCLFkiIsIsWTIiwixYkiLCLFvyIsImVzY2FwZUh0bWxDaGFyIiwiXCIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInN0cmluZyIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwicmVwbGFjZUhvbGRlcnMiLCJwbGFjZWhvbGRlciIsInNldFRvQXJyYXkiLCJzZXQiLCJzZXRUb1BhaXJzIiwic3RyaW5nU2l6ZSIsImxhc3RJbmRleCIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsIm1hdGNoIiwidW5pY29kZVRvQXJyYXkiLCJhc2NpaVRvQXJyYXkiLCJ1bmVzY2FwZUh0bWxDaGFyIiwiJmFtcDsiLCImbHQ7IiwiJmd0OyIsIiZxdW90OyIsIiYjMzk7IiwiXyIsInJ1bkluQ29udGV4dCIsImNvbnRleHQiLCJ1aWQiLCJkZWZhdWx0cyIsInBpY2siLCJEYXRlIiwiU3RyaW5nIiwiVHlwZUVycm9yIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsImlkQ291bnRlciIsIm1hc2tTcmNLZXkiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwib2xkRGFzaCIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJVaW50OEFycmF5IiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwiaXRlcmF0b3IiLCJzeW1Ub1N0cmluZ1RhZyIsImdldE5hdGl2ZSIsImN0eENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImN0eE5vdyIsIm5vdyIsImN0eFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibmF0aXZlQ2VpbCIsImNlaWwiLCJuYXRpdmVGbG9vciIsIm5hdGl2ZUdldFN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlSXNGaW5pdGUiLCJpc0Zpbml0ZSIsIm5hdGl2ZUpvaW4iLCJuYXRpdmVLZXlzIiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibmF0aXZlTm93IiwibmF0aXZlUGFyc2VJbnQiLCJuYXRpdmVSYW5kb20iLCJuYXRpdmVSZXZlcnNlIiwicmV2ZXJzZSIsIkRhdGFWaWV3IiwiTWFwIiwiUHJvbWlzZSIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiYWRkIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiZXEiLCJiYXNlQXNzaWduVmFsdWUiLCJhc3NpZ25WYWx1ZSIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiYmFzZUFnZ3JlZ2F0b3IiLCJiYXNlRWFjaCIsImJhc2VBc3NpZ24iLCJjb3B5T2JqZWN0IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJiYXNlQXQiLCJwYXRocyIsInNraXAiLCJudW1iZXIiLCJsb3dlciIsInVwcGVyIiwiYmFzZUNsb25lIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJzdGFjayIsImlzRGVlcCIsImlzRmxhdCIsImlzRnVsbCIsImNvbnN0cnVjdG9yIiwiaW5pdENsb25lQXJyYXkiLCJ0YWciLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJzeW1ib2wiLCJDdG9yIiwiY2xvbmVBcnJheUJ1ZmZlciIsImRhdGFWaWV3IiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJjbG9uZURhdGFWaWV3IiwiY2xvbmVUeXBlZEFycmF5IiwicmVnZXhwIiwiY2xvbmVSZWdFeHAiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImdldEFsbEtleXMiLCJiYXNlQ29uZm9ybXNUbyIsImJhc2VEZWxheSIsIndhaXQiLCJiYXNlRGlmZmVyZW5jZSIsImluY2x1ZGVzIiwiaXNDb21tb24iLCJ2YWx1ZXNMZW5ndGgiLCJvdXRlciIsImNvbXB1dGVkIiwidmFsdWVzSW5kZXgiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZXNjYXBlIiwiaW50ZXJwb2xhdGUiLCJ2YXJpYWJsZSIsImltcG9ydHMiLCJnZXRNYXBEYXRhIiwicGFpcnMiLCJjcmVhdGVCYXNlRWFjaCIsImJhc2VGb3JPd24iLCJiYXNlRWFjaFJpZ2h0IiwiYmFzZUZvck93blJpZ2h0IiwiYmFzZUV2ZXJ5IiwiYmFzZUV4dHJlbXVtIiwiaXNTeW1ib2wiLCJiYXNlRmlsdGVyIiwiYmFzZUZsYXR0ZW4iLCJkZXB0aCIsImlzU3RyaWN0IiwiaXNGbGF0dGVuYWJsZSIsImJhc2VGb3IiLCJjcmVhdGVCYXNlRm9yIiwiYmFzZUZvclJpZ2h0IiwiYmFzZUZ1bmN0aW9ucyIsImlzRnVuY3Rpb24iLCJiYXNlR2V0IiwicGF0aCIsImNhc3RQYXRoIiwidG9LZXkiLCJiYXNlR2V0QWxsS2V5cyIsImtleXNGdW5jIiwic3ltYm9sc0Z1bmMiLCJiYXNlR2V0VGFnIiwiaXNPd24iLCJ1bm1hc2tlZCIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwiYmFzZUd0IiwiYmFzZUhhcyIsImJhc2VIYXNJbiIsImJhc2VJbnRlcnNlY3Rpb24iLCJhcnJheXMiLCJvdGhMZW5ndGgiLCJvdGhJbmRleCIsImNhY2hlcyIsIm1heExlbmd0aCIsIkluZmluaXR5Iiwic2VlbiIsImJhc2VJbnZva2UiLCJwYXJlbnQiLCJsYXN0IiwiYmFzZUlzQXJndW1lbnRzIiwiYmFzZUlzRXF1YWwiLCJlcXVhbEZ1bmMiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsImVxdWFsQXJyYXlzIiwiY29udmVydCIsImlzUGFydGlhbCIsImVxdWFsQnlUYWciLCJvYmpJc1dyYXBwZWQiLCJvdGhJc1dyYXBwZWQiLCJvYmpVbndyYXBwZWQiLCJvdGhVbndyYXBwZWQiLCJvYmpQcm9wcyIsIm9iakxlbmd0aCIsInNraXBDdG9yIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYmFzZUlzTWF0Y2giLCJtYXRjaERhdGEiLCJub0N1c3RvbWl6ZXIiLCJzcmNWYWx1ZSIsImJhc2VJc05hdGl2ZSIsImJhc2VJdGVyYXRlZSIsImlkZW50aXR5IiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsImJhc2VNYXRjaGVzIiwiYmFzZUtleXMiLCJpc1Byb3RvdHlwZSIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiYmFzZUx0IiwiYmFzZU1hcCIsImlzQXJyYXlMaWtlIiwiZ2V0TWF0Y2hEYXRhIiwibWF0Y2hlc1N0cmljdENvbXBhcmFibGUiLCJpc0tleSIsImlzU3RyaWN0Q29tcGFyYWJsZSIsImhhc0luIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJtZXJnZUZ1bmMiLCJzYWZlR2V0IiwibmV3VmFsdWUiLCJpc1R5cGVkIiwiaXNBcnJheUxpa2VPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwidG9QbGFpbk9iamVjdCIsImJhc2VNZXJnZURlZXAiLCJiYXNlTnRoIiwiYmFzZU9yZGVyQnkiLCJpdGVyYXRlZXMiLCJvcmRlcnMiLCJnZXRJdGVyYXRlZSIsImNvbXBhcmVyIiwiYmFzZVNvcnRCeSIsImNyaXRlcmlhIiwib2JqQ3JpdGVyaWEiLCJvdGhDcml0ZXJpYSIsIm9yZGVyc0xlbmd0aCIsImNvbXBhcmVBc2NlbmRpbmciLCJvcmRlciIsImNvbXBhcmVNdWx0aXBsZSIsImJhc2VQaWNrQnkiLCJiYXNlU2V0IiwiYmFzZVB1bGxBbGwiLCJiYXNlUHVsbEF0IiwiaW5kZXhlcyIsInByZXZpb3VzIiwiYmFzZVVuc2V0IiwiYmFzZVJlcGVhdCIsImJhc2VSZXN0Iiwic2V0VG9TdHJpbmciLCJvdmVyUmVzdCIsImJhc2VTYW1wbGUiLCJiYXNlU2FtcGxlU2l6ZSIsIm5lc3RlZCIsImJhc2VTZXREYXRhIiwiYmFzZVNldFRvU3RyaW5nIiwiY29uc3RhbnQiLCJiYXNlU2h1ZmZsZSIsImJhc2VTbGljZSIsImJhc2VTb21lIiwiYmFzZVNvcnRlZEluZGV4IiwicmV0SGlnaGVzdCIsImxvdyIsImhpZ2giLCJtaWQiLCJiYXNlU29ydGVkSW5kZXhCeSIsInZhbElzTmFOIiwidmFsSXNOdWxsIiwidmFsSXNTeW1ib2wiLCJ2YWxJc1VuZGVmaW5lZCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJzZXRMb3ciLCJiYXNlU29ydGVkVW5pcSIsImJhc2VUb051bWJlciIsImJhc2VUb1N0cmluZyIsImJhc2VVbmlxIiwiY3JlYXRlU2V0Iiwic2VlbkluZGV4IiwiYmFzZVVwZGF0ZSIsInVwZGF0ZXIiLCJiYXNlV2hpbGUiLCJpc0Ryb3AiLCJiYXNlV3JhcHBlclZhbHVlIiwiYWN0aW9ucyIsImFjdGlvbiIsImJhc2VYb3IiLCJiYXNlWmlwT2JqZWN0IiwiYXNzaWduRnVuYyIsInZhbHNMZW5ndGgiLCJjYXN0QXJyYXlMaWtlT2JqZWN0IiwiY2FzdEZ1bmN0aW9uIiwic3RyaW5nVG9QYXRoIiwiY2FzdFJlc3QiLCJjYXN0U2xpY2UiLCJpZCIsImNvcHkiLCJhcnJheUJ1ZmZlciIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJzb3VyY2VzIiwiZ3VhcmQiLCJpc0l0ZXJhdGVlQ2FsbCIsIml0ZXJhYmxlIiwiY3JlYXRlQ2FzZUZpcnN0IiwibWV0aG9kTmFtZSIsInRyYWlsaW5nIiwiY3JlYXRlQ29tcG91bmRlciIsImNhbGxiYWNrIiwid29yZHMiLCJkZWJ1cnIiLCJjcmVhdGVDdG9yIiwidGhpc0JpbmRpbmciLCJjcmVhdGVGaW5kIiwiZmluZEluZGV4RnVuYyIsImNyZWF0ZUZsb3ciLCJmbGF0UmVzdCIsImZ1bmNzIiwicHJlcmVxIiwidGhydSIsIndyYXBwZXIiLCJnZXRGdW5jTmFtZSIsImZ1bmNOYW1lIiwiZ2V0RGF0YSIsImlzTGF6aWFibGUiLCJwbGFudCIsImNyZWF0ZUh5YnJpZCIsInBhcnRpYWxzUmlnaHQiLCJob2xkZXJzUmlnaHQiLCJhcmdQb3MiLCJhcnkiLCJhcml0eSIsImlzQXJ5IiwiaXNCaW5kIiwiaXNCaW5kS2V5IiwiaXNGbGlwIiwiZ2V0SG9sZGVyIiwiaG9sZGVyc0NvdW50IiwiY291bnRIb2xkZXJzIiwibmV3SG9sZGVycyIsImNyZWF0ZVJlY3VycnkiLCJmbiIsImFyckxlbmd0aCIsIm9sZEFycmF5IiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwidG9GaW5pdGUiLCJiYXNlUmFuZ2UiLCJjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uIiwidG9OdW1iZXIiLCJ3cmFwRnVuYyIsImlzQ3VycnkiLCJzZXREYXRhIiwic2V0V3JhcFRvU3RyaW5nIiwiY3JlYXRlUm91bmQiLCJwcmVjaXNpb24iLCJ0b0ludGVnZXIiLCJub29wIiwiY3JlYXRlVG9QYWlycyIsImJhc2VUb1BhaXJzIiwiY3JlYXRlV3JhcCIsInNyY0JpdG1hc2siLCJuZXdCaXRtYXNrIiwiaXNDb21ibyIsIm1lcmdlRGF0YSIsImNyZWF0ZUN1cnJ5IiwiY3JlYXRlUGFydGlhbCIsImNyZWF0ZUJpbmQiLCJjdXN0b21EZWZhdWx0c0Fzc2lnbkluIiwiY3VzdG9tRGVmYXVsdHNNZXJnZSIsImN1c3RvbU9taXRDbG9uZSIsImFyclZhbHVlIiwiZmxhdHRlbiIsIm90aGVyRnVuYyIsImdldFZhbHVlIiwic3R1YkFycmF5IiwiaGFzUGF0aCIsImhhc0Z1bmMiLCJpc0xlbmd0aCIsIkFycmF5QnVmZmVyIiwicmVzb2x2ZSIsImN0b3JTdHJpbmciLCJpc01hc2thYmxlIiwic3R1YkZhbHNlIiwib3RoZXJBcmdzIiwic2hvcnRPdXQiLCJyZWZlcmVuY2UiLCJpbnNlcnRXcmFwRGV0YWlscyIsInVwZGF0ZVdyYXBEZXRhaWxzIiwiZ2V0V3JhcERldGFpbHMiLCJjb3VudCIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImludGVyc2VjdGlvbiIsIm1hcHBlZCIsImludGVyc2VjdGlvbkJ5IiwiaW50ZXJzZWN0aW9uV2l0aCIsInB1bGwiLCJwdWxsQWxsIiwicHVsbEF0IiwidW5pb24iLCJ1bmlvbkJ5IiwidW5pb25XaXRoIiwidW56aXAiLCJncm91cCIsInVuemlwV2l0aCIsIndpdGhvdXQiLCJ4b3IiLCJ4b3JCeSIsInhvcldpdGgiLCJ6aXAiLCJ6aXBXaXRoIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsIndyYXBwZXJBdCIsImNvdW50QnkiLCJmaW5kTGFzdCIsImZvckVhY2hSaWdodCIsImdyb3VwQnkiLCJpbnZva2VNYXAiLCJrZXlCeSIsInBhcnRpdGlvbiIsInNvcnRCeSIsImJlZm9yZSIsImJpbmRLZXkiLCJkZWJvdW5jZSIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJtYXhXYWl0IiwidGltZXJJZCIsImxhc3RDYWxsVGltZSIsImxhc3RJbnZva2VUaW1lIiwibGVhZGluZyIsIm1heGluZyIsImludm9rZUZ1bmMiLCJ0aW1lIiwic2hvdWxkSW52b2tlIiwidGltZVNpbmNlTGFzdENhbGwiLCJ0aW1lckV4cGlyZWQiLCJ0cmFpbGluZ0VkZ2UiLCJ0aW1lV2FpdGluZyIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwibGVhZGluZ0VkZ2UiLCJjYW5jZWwiLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJyZXNvbHZlciIsIm1lbW9pemVkIiwiQ2FjaGUiLCJuZWdhdGUiLCJvdmVyQXJncyIsInRyYW5zZm9ybXMiLCJmdW5jc0xlbmd0aCIsInBhcnRpYWwiLCJwYXJ0aWFsUmlnaHQiLCJyZWFyZyIsImd0IiwiZ3RlIiwiaXNFcnJvciIsImlzTnVtYmVyIiwiaXNTdHJpbmciLCJsdCIsImx0ZSIsInRvQXJyYXkiLCJuZXh0IiwiZG9uZSIsIml0ZXJhdG9yVG9BcnJheSIsInJlbWFpbmRlciIsInRvTGVuZ3RoIiwiaXNCaW5hcnkiLCJhc3NpZ25JbiIsImFzc2lnbkluV2l0aCIsImFzc2lnbldpdGgiLCJwcm9wc0luZGV4IiwicHJvcHNMZW5ndGgiLCJkZWZhdWx0c0RlZXAiLCJtZXJnZVdpdGgiLCJpbnZlcnQiLCJpbnZlcnRCeSIsImludm9rZSIsIm1lcmdlIiwib21pdCIsImJhc2VQaWNrIiwicGlja0J5IiwicHJvcCIsInRvUGFpcnMiLCJ0b1BhaXJzSW4iLCJjYW1lbENhc2UiLCJ3b3JkIiwidG9Mb3dlckNhc2UiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJwYXR0ZXJuIiwiaGFzVW5pY29kZVdvcmQiLCJ1bmljb2RlV29yZHMiLCJhc2NpaVdvcmRzIiwiYXR0ZW1wdCIsImJpbmRBbGwiLCJtZXRob2ROYW1lcyIsImZsb3ciLCJmbG93UmlnaHQiLCJtZXRob2QiLCJtZXRob2RPZiIsIm1peGluIiwib3ZlciIsIm92ZXJFdmVyeSIsIm92ZXJTb21lIiwiYmFzZVByb3BlcnR5RGVlcCIsInJhbmdlUmlnaHQiLCJhdWdlbmQiLCJhZGRlbmQiLCJkaXZpZGUiLCJkaXZpZGVuZCIsImRpdmlzb3IiLCJtdWx0aXBseSIsIm11bHRpcGxpZXIiLCJtdWx0aXBsaWNhbmQiLCJyb3VuZCIsInN1YnRyYWN0IiwibWludWVuZCIsInN1YnRyYWhlbmQiLCJhZnRlciIsImNhc3RBcnJheSIsImNodW5rIiwiY29tcGFjdCIsImNvbmQiLCJjb25mb3JtcyIsImJhc2VDb25mb3JtcyIsInByb3BlcnRpZXMiLCJjdXJyeSIsImN1cnJ5UmlnaHQiLCJkcm9wIiwiZHJvcFJpZ2h0IiwiZHJvcFJpZ2h0V2hpbGUiLCJkcm9wV2hpbGUiLCJiYXNlRmlsbCIsImZpbHRlciIsImZsYXRNYXAiLCJmbGF0TWFwRGVlcCIsImZsYXRNYXBEZXB0aCIsImZsYXR0ZW5EZWVwIiwiZmxhdHRlbkRlcHRoIiwiZnJvbVBhaXJzIiwiZnVuY3Rpb25zSW4iLCJpbml0aWFsIiwibWFwS2V5cyIsIm1hcFZhbHVlcyIsIm1hdGNoZXMiLCJtYXRjaGVzUHJvcGVydHkiLCJudGhBcmciLCJvbWl0QnkiLCJvbmNlIiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInJlamVjdCIsInJlbW92ZSIsInNhbXBsZVNpemUiLCJzZXRXaXRoIiwic2h1ZmZsZSIsInNvcnRlZFVuaXEiLCJzb3J0ZWRVbmlxQnkiLCJzZXBhcmF0b3IiLCJsaW1pdCIsInNwcmVhZCIsInRha2UiLCJ0YWtlUmlnaHQiLCJ0YWtlUmlnaHRXaGlsZSIsInRha2VXaGlsZSIsInRhcCIsInRocm90dGxlIiwidG9QYXRoIiwiaXNBcnJMaWtlIiwidW5hcnkiLCJ1bmlxIiwidW5pcUJ5IiwidW5pcVdpdGgiLCJ1bnNldCIsInVwZGF0ZSIsInVwZGF0ZVdpdGgiLCJ2YWx1ZXNJbiIsIndyYXAiLCJ6aXBPYmplY3QiLCJ6aXBPYmplY3REZWVwIiwiZW50cmllc0luIiwiZXh0ZW5kIiwiZXh0ZW5kV2l0aCIsImNsYW1wIiwiY2xvbmVEZWVwIiwiY2xvbmVEZWVwV2l0aCIsImNsb25lV2l0aCIsImNvbmZvcm1zVG8iLCJkZWZhdWx0VG8iLCJlbmRzV2l0aCIsInBvc2l0aW9uIiwiZXNjYXBlUmVnRXhwIiwiZmluZEtleSIsImZpbmRMYXN0S2V5IiwiZm9ySW4iLCJmb3JJblJpZ2h0IiwiZm9yT3duIiwiZm9yT3duUmlnaHQiLCJpblJhbmdlIiwiYmFzZUluUmFuZ2UiLCJpc0Jvb2xlYW4iLCJpc0VsZW1lbnQiLCJpc0VtcHR5IiwiaXNFcXVhbCIsImlzRXF1YWxXaXRoIiwiaXNNYXRjaCIsImlzTWF0Y2hXaXRoIiwiaXNOYU4iLCJpc05hdGl2ZSIsImlzTmlsIiwiaXNOdWxsIiwiaXNTYWZlSW50ZWdlciIsImlzVW5kZWZpbmVkIiwiaXNXZWFrTWFwIiwiaXNXZWFrU2V0Iiwic3RyaWN0TGFzdEluZGV4T2YiLCJtYXhCeSIsIm1lYW4iLCJtZWFuQnkiLCJtaW5CeSIsInN0dWJPYmplY3QiLCJzdHViU3RyaW5nIiwic3R1YlRydWUiLCJudGgiLCJub0NvbmZsaWN0IiwicGFkIiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicGFkU3RhcnQiLCJyYWRpeCIsImZsb2F0aW5nIiwicmVkdWNlUmlnaHQiLCJyZXBlYXQiLCJzYW1wbGUiLCJzb3J0ZWRJbmRleCIsInNvcnRlZEluZGV4QnkiLCJzb3J0ZWRJbmRleE9mIiwic29ydGVkTGFzdEluZGV4Iiwic29ydGVkTGFzdEluZGV4QnkiLCJzb3J0ZWRMYXN0SW5kZXhPZiIsInN0YXJ0c1dpdGgiLCJzdW1CeSIsInRlbXBsYXRlIiwic2V0dGluZ3MiLCJpc0VzY2FwaW5nIiwiaXNFdmFsdWF0aW5nIiwiaW1wb3J0c0tleXMiLCJpbXBvcnRzVmFsdWVzIiwicmVEZWxpbWl0ZXJzIiwic291cmNlVVJMIiwiZXNjYXBlVmFsdWUiLCJpbnRlcnBvbGF0ZVZhbHVlIiwiZXNUZW1wbGF0ZVZhbHVlIiwiZXZhbHVhdGVWYWx1ZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbSIsInRyaW1FbmQiLCJ0cmltU3RhcnQiLCJ0cnVuY2F0ZSIsIm9taXNzaW9uIiwibmV3RW5kIiwidW5lc2NhcGUiLCJ1bmlxdWVJZCIsInByZWZpeCIsImVhY2giLCJlYWNoUmlnaHQiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImRpciIsImlzUmlnaHQiLCJ2aWV3IiwiZ2V0VmlldyIsIml0ZXJMZW5ndGgiLCJ0YWtlQ291bnQiLCJpdGVySW5kZXgiLCJjb21taXQiLCJ3cmFwcGVkIiwidG9KU09OIiwiZyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsImNoaWxkcmVuIiwibWF0bGFiXzEiLCJtYXRsYWJfcGFyc2VyXzEiLCJWYXJpYWJsZUV4ZXJjaXNlIiwidmFyaWFibGVOYW1lIiwidGFyZ2V0VmFsdWUiLCJjaGVjayIsInYiLCJpc0NvbXBsZXRlIiwiRXhlcmNpc2VHcm91cCIsInRhcmdldHMiLCJzb2x1dGlvbk1lc3NhZ2UiLCJleGVyY2lzZXMiLCJleCIsInBhcnNlRXhlY3V0ZVZpc3VhbGl6ZSIsInZpcyIsInNyYyIsImNjIiwiZXJyIiwiYmluZEVudHJ5VG9WaXN1YWxpemF0aW9uIiwiZ2xvYmFsV29ya3NwYWNlIiwiZXhwX2luX3RpbWVvdXQiLCJrZXlwcmVzcyIsImtleUNvZGUiLCJ3aGljaCIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJiaW5kUnVuQnV0dG9uVG9WaXN1YWxpemF0aW9uIiwicnVuQnV0dG9uIiwiY2xpY2siLCJ0cmltV2hpdGVzcGFjZSIsInJlbmRlckV4ZXJjaXNlcyIsInRlbXBXb3Jrc3BhY2UiLCJxdWVzdGlvbk1zZyIsIl9hIiwiY29tcGxldGVNc2ciLCJfYiIsImV4ZXJjaXNlV29ya3NwYWNlIiwicnVuIiwiY29uc29sZSIsImxvZyIsInJlc2V0IiwiZXhhbXBsZVdvcmtzcGFjZSIsInNldHVwU3JjIiwic2V0dXBBc3QiLCJpbml0aWFsU3JjIiwib24iLCJkb2N1bWVudCIsInJlYWR5Il0sIm1hcHBpbmdzIjoidUJBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQTBEQSxPQXJEQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFL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LElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLEtBQUFDLElBQUEsS0FDQUMsSUFBQSxLQUFBQyxJQUFBLEtBQ0FDLElBQUEsS0FFQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMs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MkIsR0FHOUNELEVBQU1LLEdBQUcsUUFBUyxTQUFDM3hELEdBR2ZnUCxFQUFFcFMsR0FBTXNXLEtBQUssc0JBQXNCQyxRQUNuQ28rQyxFQUFtQixJQUFJekMsRUFBQWw0QyxZQUFZNUgsRUFBRXBTLEdBQU1zVyxLQUFLLHlCQUMzQ3UrQyxFQUFTOXhELFlBQWM4eEQsRUFBUzl4RCxXQUFXbEYsT0FBUyxJQUNyRHEwRCxFQUFBLzJDLGNBQWNsZixPQUFPNDRELEVBQVVGLEdBQWtCdDRDLFVBSXJEdW9CLEVBQU0vckIsSUFBSWk4QyxHQUdWOUIsRUFBSXo4QyxRQUNKdzhDLEVBQXNCK0IsRUFBWUgsRUFBa0IzQixPQUV6RHpqRCxLQUFLLFlBQVksR0FHeEI2QyxFQUFFNGlELFVBQVVDLE1BQU1qQixHQUdsQi95QixXQUFXK3lCLEVBQWlCLEtBQzVCL3lCLFdBQVcreUIsRUFBaUIsS0FDNUIveUIsV0FBVyt5QixFQUFpQixLQUM1Qi95QixXQUFXK3lCLEVBQWlCIiwiZmlsZSI6ImV4ZXJjaXNlcy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJcclxuZXhwb3J0IHR5cGUgTXV0YWJsZTxUPiA9IHsgLXJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBUW1BdIH07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXNNdXRhYmxlPFQ+KG9iajogVCkgOiBNdXRhYmxlPFQ+IHtcclxuICAgIHJldHVybiA8TXV0YWJsZTxUPj5vYmo7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uOiBhbnksIG1lc3NhZ2UgPSBcIlwiKSA6IGFzc2VydHMgY29uZGl0aW9uIHtcclxuICAgIGlmICghY29uZGl0aW9uKVxyXG4gICAgICAgIHRocm93IEVycm9yKFwiQXNzZXJ0IGZhaWxlZDogXCIgKyBtZXNzYWdlKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUFycmF5PFQ+KGFycjogcmVhZG9ubHkgVFtdKSB7XHJcbiAgICByZXR1cm4gYXJyLnNsaWNlKCk7XHJcbn0gXHJcblxyXG5cclxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85Nzk5NzUvaG93LXRvLWdldC10aGUtdmFsdWUtZnJvbS10aGUtZ2V0LXBhcmFtZXRlcnNcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFF1ZXJ5U3RyaW5nKCkge1xyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBhbm9ueW1vdXMsIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFuZFxyXG4gICAgLy8gdGhlIHJldHVybiB2YWx1ZSBpcyBhc3NpZ25lZCB0byBRdWVyeVN0cmluZyFcclxuICAgIHZhciBxdWVyeV9zdHJpbmc6IHtbaW5kZXg6c3RyaW5nXTogYW55fSA9IHt9O1xyXG4gICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7XHJcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcclxuICAgIGZvciAodmFyIGk9MDtpPHZhcnMubGVuZ3RoO2krKykge1xyXG4gICAgICAgIHZhciBwYWlyID0gdmFyc1tpXS5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgLy8gSWYgZmlyc3QgZW50cnkgd2l0aCB0aGlzIG5hbWVcclxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XHJcbiAgICAgICAgICAgIC8vIElmIHNlY29uZCBlbnRyeSB3aXRoIHRoaXMgbmFtZVxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICB2YXIgYXJyID0gWyBxdWVyeV9zdHJpbmdbcGFpclswXV0sZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pIF07XHJcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGFycjtcclxuICAgICAgICAgICAgLy8gSWYgdGhpcmQgb3IgbGF0ZXIgZW50cnkgd2l0aCB0aGlzIG5hbWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0ucHVzaChkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBxdWVyeV9zdHJpbmc7XHJcbn1cclxuZXhwb3J0IG5hbWVzcGFjZSBNYXRsYWJNYXRoIHtcclxuXHJcbiAgICAvLyB0aGUgaW5pdGlhbCBzZWVkXHJcbiAgICBsZXQgc2VlZCA9IDA7XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldFJhbmRvbVNlZWQobmV3U2VlZDogbnVtYmVyKSB7XHJcbiAgICAgICAgc2VlZCA9IG5ld1NlZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShtaW46IG51bWJlciA9IDAsIG1heDogbnVtYmVyID0gMSkge1xyXG4gICAgICAgIHNlZWQgPSAoc2VlZCAqIDkzMDEgKyA0OTI5NykgJSAyMzMyODA7XHJcbiAgICAgICAgcmV0dXJuIHNlZWRlZFJhbmRvbShzZWVkLCBtaW4sIG1heCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNlZWRlZFJhbmRvbShzZWVkOiBudW1iZXIsIG1pbjogbnVtYmVyID0gMCwgbWF4OiBudW1iZXIgPSAxKSB7XHJcbiAgICAgICAgdmFyIHJuZCA9IHNlZWQgJSAyMzMyODAgLyAyMzMyODA7XHJcbiAgICBcclxuICAgICAgICBybmQgPSBtaW4gKyBybmQgKiAobWF4IC0gbWluKTtcclxuICAgICAgICBybmQgPSBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgcm5kKSk7XHJcbiAgICAgICAgcmV0dXJuIHJuZDtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIHN0ZXA6IG51bWJlciA9IDEpIHtcclxuICAgICAgICBsZXQgYXJyID0gW107XHJcbiAgICAgICAgd2hpbGUoc3RhcnQgPD0gZW5kKSB7XHJcbiAgICAgICAgICAgIGFyci5wdXNoKHN0YXJ0KTtcclxuICAgICAgICAgICAgc3RhcnQgKz0gc3RlcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBDb2xvciB7XHJcblxyXG4gICAgZXhwb3J0IGNvbnN0IFdISVRFID0gXCIjRkZGRkZGXCI7XHJcbiAgICBleHBvcnQgY29uc3QgTElHSFRfTEVUVEVSUyA9IFwiQUJDREVGXCI7XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRvQ29sb3Iob2JqOiB7dG9TdHJpbmcoKTogc3RyaW5nfSwgbGV0dGVyczogc3RyaW5nID0gXCIxMjM0NTY3ODlBQkNERUZcIikge1xyXG5cclxuICAgICAgICAvLyBHZW5lcmF0ZSBhIGhhc2ggZm9yIHRoZSBvYmplY3QuIEZpcnN0IHRvU3RyaW5nLCB0aGVuIGhhc2ggdGhlIHN0cmluZy5cclxuICAgICAgICAvLyBTdHJpbmcgaGFzaCBiYXNlZCBvbiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NjE2NDYxL2dlbmVyYXRlLWEtaGFzaC1mcm9tLXN0cmluZy1pbi1qYXZhc2NyaXB0XHJcbiAgICAgICAgdmFyIHN0ciA9IG9iai50b1N0cmluZygpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBoYXNoID0gMDsgaSA8IHN0ci5sZW5ndGg7IGhhc2ggPSBzdHIuY2hhckNvZGVBdChpKyspICsgKChoYXNoIDw8IDUpIC0gaGFzaCkpO1xyXG4gICAgXHJcbiAgICAgICAgLy8gdXNlIGhhc2ggYXMgc2VlZCBmb3IgUk5HXHJcbiAgICAgICAgcmV0dXJuIHNlZWRlZFJhbmRvbUNvbG9yKE1hdGguYWJzKGhhc2gpLCBsZXR0ZXJzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2VlZGVkUmFuZG9tQ29sb3Ioc2VlZDogbnVtYmVyLCBsZXR0ZXJzOiBzdHJpbmcgPSBcIjEyMzQ1Njc4OUFCQ0RFRlwiKSB7XHJcbiAgICBcclxuICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0ODQ1MDYvcmFuZG9tLWNvbG9yLWdlbmVyYXRvci1pbi1qYXZhc2NyaXB0XHJcbiAgICAgICAgbGV0dGVycyA9IGxldHRlcnMgfHwgXCIwMTIzNDU2Nzg5QUJDREVGXCI7XHJcbiAgICAgICAgdmFyIGNvbG9yID0gJyMnO1xyXG4gICAgICAgIE1hdGxhYk1hdGguc2V0UmFuZG9tU2VlZChzZWVkKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKyApIHtcclxuICAgICAgICAgICAgY29sb3IgKz0gbGV0dGVyc1tNYXRoLmZsb29yKE1hdGxhYk1hdGgucmFuZG9tKCkgKiBsZXR0ZXJzLmxlbmd0aCldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGV4cG9ydCBmdW5jdGlvbiByYW5kb21Db2xvcihsZXR0ZXJzOiBzdHJpbmcgPSBcIjEyMzQ1Njc4OUFCQ0RFRlwiKSB7XHJcbiAgICBcclxuICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0ODQ1MDYvcmFuZG9tLWNvbG9yLWdlbmVyYXRvci1pbi1qYXZhc2NyaXB0XHJcbiAgICAgICAgbGV0dGVycyA9IGxldHRlcnMgfHwgXCIwMTIzNDU2Nzg5QUJDREVGXCI7XHJcbiAgICAgICAgdmFyIGNvbG9yID0gJyMnO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrICkge1xyXG4gICAgICAgICAgICBjb2xvciArPSBsZXR0ZXJzW01hdGguZmxvb3IoTWF0bGFiTWF0aC5yYW5kb20oKSAqIGxldHRlcnMubGVuZ3RoKV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgIH1cclxufSIsIi8vIHRzbGludDpkaXNhYmxlOm9ubHktYXJyb3ctZnVuY3Rpb25zXG4vLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zaG9ydGhhbmRcbi8vIHRzbGludDpkaXNhYmxlOnRyYWlsaW5nLWNvbW1hXG4vLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbi8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbi8vIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aFxuLy8gdHNsaW50OmRpc2FibGU6bm8tY29uc2VjdXRpdmUtYmxhbmstbGluZXNcbi8vIHRzbGludDpkaXNhYmxlOmFsaWduXG5cblxuLy8gR2VuZXJhdGVkIGJ5IFBFRy5qcyB2LiAwLjEwLjAgKHRzLXBlZ2pzIHBsdWdpbiB2LiAwLjIuNSApXG4vL1xuLy8gaHR0cHM6Ly9wZWdqcy5vcmcvICAgaHR0cHM6Ly9naXRodWIuY29tL21ldGFkZXZwcm8vdHMtcGVnanNcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVQb3NpdGlvbiB7XG4gIG9mZnNldDogbnVtYmVyO1xuICBsaW5lOiBudW1iZXI7XG4gIGNvbHVtbjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlUmFuZ2Uge1xuICBzdGFydDogSUZpbGVQb3NpdGlvbjtcbiAgZW5kOiBJRmlsZVBvc2l0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElMaXRlcmFsRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImxpdGVyYWxcIjtcbiAgdGV4dDogc3RyaW5nO1xuICBpZ25vcmVDYXNlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDbGFzc1BhcnRzIGV4dGVuZHMgQXJyYXk8c3RyaW5nIHwgSUNsYXNzUGFydHM+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNsYXNzRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImNsYXNzXCI7XG4gIHBhcnRzOiBJQ2xhc3NQYXJ0cztcbiAgaW52ZXJ0ZWQ6IGJvb2xlYW47XG4gIGlnbm9yZUNhc2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFueUV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJhbnlcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRW5kRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImVuZFwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElPdGhlckV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJvdGhlclwiO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBFeHBlY3RhdGlvbiA9IElMaXRlcmFsRXhwZWN0YXRpb24gfCBJQ2xhc3NFeHBlY3RhdGlvbiB8IElBbnlFeHBlY3RhdGlvbiB8IElFbmRFeHBlY3RhdGlvbiB8IElPdGhlckV4cGVjdGF0aW9uO1xuXG5leHBvcnQgY2xhc3MgU3ludGF4RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBzdGF0aWMgYnVpbGRNZXNzYWdlKGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCkge1xuICAgIGZ1bmN0aW9uIGhleChjaDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpdGVyYWxFc2NhcGUoczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBzXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIilcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICBcIlxcXFxcXFwiXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXDAvZywgXCJcXFxcMFwiKVxuICAgICAgICAucmVwbGFjZSgvXFx0L2csIFwiXFxcXHRcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHIvZywgXCJcXFxcclwiKVxuICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDBGXS9nLCAgICAgICAgICAgIChjaCkgPT4gXCJcXFxceDBcIiArIGhleChjaCkgKVxuICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIChjaCkgPT4gXCJcXFxceFwiICArIGhleChjaCkgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGFzc0VzY2FwZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxdL2csIFwiXFxcXF1cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcXi9nLCBcIlxcXFxeXCIpXG4gICAgICAgIC5yZXBsYWNlKC8tL2csICBcIlxcXFwtXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXDAvZywgXCJcXFxcMFwiKVxuICAgICAgICAucmVwbGFjZSgvXFx0L2csIFwiXFxcXHRcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHIvZywgXCJcXFxcclwiKVxuICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDBGXS9nLCAgICAgICAgICAgIChjaCkgPT4gXCJcXFxceDBcIiArIGhleChjaCkgKVxuICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIChjaCkgPT4gXCJcXFxceFwiICArIGhleChjaCkgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUV4cGVjdGF0aW9uKGV4cGVjdGF0aW9uOiBFeHBlY3RhdGlvbikge1xuICAgICAgc3dpdGNoIChleHBlY3RhdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6XG4gICAgICAgICAgcmV0dXJuIFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShleHBlY3RhdGlvbi50ZXh0KSArIFwiXFxcIlwiO1xuICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICBjb25zdCBlc2NhcGVkUGFydHMgPSBleHBlY3RhdGlvbi5wYXJ0cy5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBhcnQpXG4gICAgICAgICAgICAgID8gY2xhc3NFc2NhcGUocGFydFswXSBhcyBzdHJpbmcpICsgXCItXCIgKyBjbGFzc0VzY2FwZShwYXJ0WzFdIGFzIHN0cmluZylcbiAgICAgICAgICAgICAgOiBjbGFzc0VzY2FwZShwYXJ0KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBcIltcIiArIChleHBlY3RhdGlvbi5pbnZlcnRlZCA/IFwiXlwiIDogXCJcIikgKyBlc2NhcGVkUGFydHMgKyBcIl1cIjtcbiAgICAgICAgY2FzZSBcImFueVwiOlxuICAgICAgICAgIHJldHVybiBcImFueSBjaGFyYWN0ZXJcIjtcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBcImVuZCBvZiBpbnB1dFwiO1xuICAgICAgICBjYXNlIFwib3RoZXJcIjpcbiAgICAgICAgICByZXR1cm4gZXhwZWN0YXRpb24uZGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZDE6IEV4cGVjdGF0aW9uW10pIHtcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9ucyA9IGV4cGVjdGVkMS5tYXAoZGVzY3JpYmVFeHBlY3RhdGlvbik7XG4gICAgICBsZXQgaTtcbiAgICAgIGxldCBqO1xuXG4gICAgICBkZXNjcmlwdGlvbnMuc29ydCgpO1xuXG4gICAgICBpZiAoZGVzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChpID0gMSwgaiA9IDE7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZGVzY3JpcHRpb25zW2kgLSAxXSAhPT0gZGVzY3JpcHRpb25zW2ldKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbnNbal0gPSBkZXNjcmlwdGlvbnNbaV07XG4gICAgICAgICAgICBqKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGRlc2NyaXB0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF07XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnNbMF0gKyBcIiBvciBcIiArIGRlc2NyaXB0aW9uc1sxXTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgKyBcIiwgb3IgXCJcbiAgICAgICAgICAgICsgZGVzY3JpcHRpb25zW2Rlc2NyaXB0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUZvdW5kKGZvdW5kMTogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgcmV0dXJuIGZvdW5kMSA/IFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShmb3VuZDEpICsgXCJcXFwiXCIgOiBcImVuZCBvZiBpbnB1dFwiO1xuICAgIH1cblxuICAgIHJldHVybiBcIkV4cGVjdGVkIFwiICsgZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkgKyBcIiBidXQgXCIgKyBkZXNjcmliZUZvdW5kKGZvdW5kKSArIFwiIGZvdW5kLlwiO1xuICB9XG5cbiAgcHVibGljIG1lc3NhZ2U6IHN0cmluZztcbiAgcHVibGljIGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdO1xuICBwdWJsaWMgZm91bmQ6IHN0cmluZyB8IG51bGw7XG4gIHB1YmxpYyBsb2NhdGlvbjogSUZpbGVSYW5nZTtcbiAgcHVibGljIG5hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCwgbG9jYXRpb246IElGaWxlUmFuZ2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICAgIHRoaXMuZm91bmQgPSBmb3VuZDtcbiAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgdGhpcy5uYW1lID0gXCJTeW50YXhFcnJvclwiO1xuXG4gICAgaWYgKHR5cGVvZiAoRXJyb3IgYXMgYW55KS5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAoRXJyb3IgYXMgYW55KS5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBTeW50YXhFcnJvcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBlZyRwYXJzZShpbnB1dDogc3RyaW5nLCBvcHRpb25zPzogSVBhcnNlT3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucyA6IHt9O1xuXG4gIGNvbnN0IHBlZyRGQUlMRUQ6IGFueSA9IHt9O1xuXG4gIGNvbnN0IHBlZyRzdGFydFJ1bGVGdW5jdGlvbnM6IHtbaWQ6IHN0cmluZ106IGFueX0gPSB7IHN0YXJ0OiBwZWckcGFyc2VzdGFydCB9O1xuICBsZXQgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uOiAoKSA9PiBhbnkgPSBwZWckcGFyc2VzdGFydDtcblxuICBjb25zdCBwZWckYzAgPSBcIjtcIjtcbiAgY29uc3QgcGVnJGMxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjtcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIgPSAvXltcXG5cXHJdLztcbiAgY29uc3QgcGVnJGMzID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiXFxuXCIsIFwiXFxyXCJdLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQgPSBmdW5jdGlvbihzOiBhbnkpOiBhbnkge3JldHVybiBzO307XG4gIGNvbnN0IHBlZyRjNSA9IGZ1bmN0aW9uKHN0YXRlbWVudHM6IGFueSk6IGFueSB7XHJcbiAgICAgIGlmIChzdGF0ZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBzdGF0ZW1lbnRzWzBdO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB3aGF0OiBcInN0YXRlbWVudF9ncm91cFwiLFxyXG4gICAgICAgICAgc3RhdGVtZW50czogc3RhdGVtZW50c1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH07XG4gIGNvbnN0IHBlZyRjNiA9IFwiPVwiO1xuICBjb25zdCBwZWckYzcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjOCA9IGZ1bmN0aW9uKGk6IGFueSwgZTogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aGF0OiBcImluZGV4ZWRfYXNzaWdubWVudFwiLFxyXG4gICAgICAgIGxoczogaSxcclxuICAgICAgICByaHM6IGVcclxuICAgICAgfTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjOSA9IGZ1bmN0aW9uKGk6IGFueSwgZTogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aGF0OiBcImFzc2lnbm1lbnRcIixcclxuICAgICAgICBpZGVudGlmaWVyOiBpLFxyXG4gICAgICAgIGV4cDogZVxyXG4gICAgICB9O1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMxMCA9IFwiW1wiO1xuICBjb25zdCBwZWckYzExID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIltcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzEyID0gL15bXFxyXFxuXS87XG4gIGNvbnN0IHBlZyRjMTMgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJcXHJcIiwgXCJcXG5cIl0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTQgPSBmdW5jdGlvbihoZWFkOiBhbnksIHI6IGFueSk6IGFueSB7cmV0dXJuIHI7fTtcbiAgY29uc3QgcGVnJGMxNSA9IFwiXVwiO1xuICBjb25zdCBwZWckYzE2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIl1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE3ID0gZnVuY3Rpb24oaGVhZDogYW55LCB0YWlsOiBhbnkpOiBhbnkge1xyXG4gICAgICBpZiAodGFpbC5sZW5ndGggPT09IDApIHsgcmV0dXJuIGhlYWQ7fVxyXG4gICAgICB0YWlsLnVuc2hpZnQoaGVhZCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgd2hhdDogXCJtYXRyaXhfZXhwXCIsXHJcbiAgICAgICAgcm93czogdGFpbFxyXG4gICAgICB9O1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMxOCA9IFwiLFwiO1xuICBjb25zdCBwZWckYzE5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIixcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIwID0gZnVuY3Rpb24oaGVhZDogYW55LCBpOiBhbnkpOiBhbnkge3JldHVybiBpO307XG4gIGNvbnN0IHBlZyRjMjEgPSBmdW5jdGlvbihoZWFkOiBhbnksIHRhaWw6IGFueSk6IGFueSB7XHJcbiAgICAgIGlmICh0YWlsLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gaGVhZDt9XHJcbiAgICAgIHRhaWwudW5zaGlmdChoZWFkKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aGF0OiBcInJvd19leHBcIixcclxuICAgICAgICBjb2xzOiB0YWlsXHJcbiAgICAgIH07XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzIyID0gXCI6XCI7XG4gIGNvbnN0IHBlZyRjMjMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiOlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjQgPSBmdW5jdGlvbihlMTogYW55LCBlMjogYW55LCBzOiBhbnkpOiBhbnkge3JldHVybiBzO307XG4gIGNvbnN0IHBlZyRjMjUgPSBmdW5jdGlvbihlMTogYW55LCBlMjogYW55LCBlMzogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aGF0OiBcInJhbmdlX2V4cFwiLFxyXG4gICAgICAgIHN0YXJ0OiBlMSxcclxuICAgICAgICBlbmQ6IGUzIHx8IGUyLFxyXG4gICAgICAgIHN0ZXA6IChlMyAmJiBlMikgfHwgdW5kZWZpbmVkXHJcbiAgICAgIH07XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzI2ID0gXCJ8XCI7XG4gIGNvbnN0IHBlZyRjMjcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwifFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjggPSBmdW5jdGlvbihoZWFkOiBhbnksIG9wOiBhbnksIGU6IGFueSk6IGFueSB7cmV0dXJuIFtvcCxlXTt9O1xuICBjb25zdCBwZWckYzI5ID0gZnVuY3Rpb24oaGVhZDogYW55LCB0YWlsOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4gY29tcG9zZUJpbmFyeU9wKGhlYWQsIHRhaWwsIFwibGVmdFwiLCBcIm9yX2V4cFwiKTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjMzAgPSBcIiZcIjtcbiAgY29uc3QgcGVnJGMzMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCImXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzMiA9IGZ1bmN0aW9uKGhlYWQ6IGFueSwgdGFpbDogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIGNvbXBvc2VCaW5hcnlPcChoZWFkLCB0YWlsLCBcImxlZnRcIiwgXCJhbmRfZXhwXCIpO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMzMyA9IFwiPT1cIjtcbiAgY29uc3QgcGVnJGMzNCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI9PVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzUgPSBcIn49XCI7XG4gIGNvbnN0IHBlZyRjMzYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwifj1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM3ID0gZnVuY3Rpb24oaGVhZDogYW55LCB0YWlsOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4gY29tcG9zZUJpbmFyeU9wKGhlYWQsIHRhaWwsIFwibGVmdFwiLCBcImVxX2V4cFwiKTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjMzggPSBcIjw9XCI7XG4gIGNvbnN0IHBlZyRjMzkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPD1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQwID0gXCI8XCI7XG4gIGNvbnN0IHBlZyRjNDEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDIgPSBcIj49XCI7XG4gIGNvbnN0IHBlZyRjNDMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPj1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ0ID0gXCI+XCI7XG4gIGNvbnN0IHBlZyRjNDUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDYgPSBmdW5jdGlvbihoZWFkOiBhbnksIHRhaWw6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiBjb21wb3NlQmluYXJ5T3AoaGVhZCwgdGFpbCwgXCJsZWZ0XCIsIFwicmVsX2V4cFwiKTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjNDcgPSBcIitcIjtcbiAgY29uc3QgcGVnJGM0OCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIrXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0OSA9IFwiLVwiO1xuICBjb25zdCBwZWckYzUwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzUxID0gZnVuY3Rpb24oaGVhZDogYW55LCB0YWlsOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4gY29tcG9zZUJpbmFyeU9wKGhlYWQsIHRhaWwsIFwibGVmdFwiLCBcImFkZF9leHBcIik7XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzUyID0gXCIqXCI7XG4gIGNvbnN0IHBlZyRjNTMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNTQgPSBcIi9cIjtcbiAgY29uc3QgcGVnJGM1NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIvXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM1NiA9IFwiXlwiO1xuICBjb25zdCBwZWckYzU3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIl5cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzU4ID0gXCIuKlwiO1xuICBjb25zdCBwZWckYzU5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi4qXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM2MCA9IFwiLi9cIjtcbiAgY29uc3QgcGVnJGM2MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIuL1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNjIgPSBcIi5eXCI7XG4gIGNvbnN0IHBlZyRjNjMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLl5cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzY0ID0gZnVuY3Rpb24oaGVhZDogYW55LCB0YWlsOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4gY29tcG9zZUJpbmFyeU9wKGhlYWQsIHRhaWwsIFwibGVmdFwiLCBcIm11bHRfZXhwXCIpO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGM2NSA9IFwiflwiO1xuICBjb25zdCBwZWckYzY2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIn5cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzY3ID0gZnVuY3Rpb24ob3A6IGFueSwgc3ViOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHdoYXQ6IFwidW5hcnlfZXhwXCIsXHJcbiAgICAgICAgc3ViOiBzdWIsXHJcbiAgICAgICAgb3A6IG9wXHJcbiAgICAgIH07XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzY4ID0gXCInXCI7XG4gIGNvbnN0IHBlZyRjNjkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJ1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNzAgPSBmdW5jdGlvbihzdWI6IGFueSwgdHJhbnM6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgd2hhdDogXCJ0cmFuc3Bvc2VfZXhwXCIsXHJcbiAgICAgICAgc3ViOnN1YixcclxuICAgICAgICB0cmFuc3Bvc2VzOiB0cmFuc1xyXG4gICAgICB9O1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGM3MSA9IFwiKFwiO1xuICBjb25zdCBwZWckYzcyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzczID0gZnVuY3Rpb24odGFyZ2V0OiBhbnksIGhlYWQ6IGFueSwgYTogYW55KTogYW55IHtyZXR1cm4gYTt9O1xuICBjb25zdCBwZWckYzc0ID0gXCIpXCI7XG4gIGNvbnN0IHBlZyRjNzUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNzYgPSBmdW5jdGlvbih0YXJnZXQ6IGFueSwgaGVhZDogYW55LCB0YWlsOiBhbnkpOiBhbnkge1xyXG4gICAgICB0YWlsLnVuc2hpZnQoaGVhZCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgd2hhdDogXCJjYWxsX2V4cFwiLFxyXG4gICAgICAgIHRhcmdldDogdGFyZ2V0LmlkZW50aWZpZXIsXHJcbiAgICAgICAgYXJnczogdGFpbFxyXG4gICAgICB9O1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGM3NyA9IFwiZW5kXCI7XG4gIGNvbnN0IHBlZyRjNzggPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZW5kXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM3OSA9IGZ1bmN0aW9uKCk6IGFueSB7IHJldHVybiB7d2hhdDogXCJlbmRfZXhwXCJ9OyB9O1xuICBjb25zdCBwZWckYzgwID0gZnVuY3Rpb24oZTogYW55KTogYW55IHsgcmV0dXJuIGU7IH07XG4gIGNvbnN0IHBlZyRjODEgPSBmdW5jdGlvbigpOiBhbnkgeyByZXR1cm4ge3doYXQ6IFwiY29sb25fZXhwXCJ9OyB9O1xuICBjb25zdCBwZWckYzgyID0gL15bMC05Ll0vO1xuICBjb25zdCBwZWckYzgzID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI5XCJdLCBcIi5cIl0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjODQgPSBmdW5jdGlvbihuZWc6IGFueSwgZGlnaXRzOiBhbnkpOiBhbnkge3JldHVybiBkaWdpdHMuaW5kZXhPZihcIi5cIikgPT0gZGlnaXRzLmxhc3RJbmRleE9mKFwiLlwiKSAmJiBkaWdpdHMuaW5kZXhPZihcIi5cIikgIT0gLTE7fTtcbiAgY29uc3QgcGVnJGM4NSA9IGZ1bmN0aW9uKG5lZzogYW55LCBkaWdpdHM6IGFueSk6IGFueSB7XHJcbiAgICAgcmV0dXJuIHtcclxuICAgICAgIHdoYXQ6IFwiZmxvYXRcIixcclxuICAgICAgIHZhbHVlOiBwYXJzZUZsb2F0KChuZWcgPyBuZWcgOiBcIlwiKSArIGRpZ2l0cy5qb2luKFwiXCIpKVxyXG4gICAgIH1cclxuICAgfTtcbiAgY29uc3QgcGVnJGM4NiA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwiaW50ZWdlclwiKTtcbiAgY29uc3QgcGVnJGM4NyA9IC9eWzAtOV0vO1xuICBjb25zdCBwZWckYzg4ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI5XCJdXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM4OSA9IGZ1bmN0aW9uKG5lZzogYW55LCBkaWdpdHM6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgd2hhdDogXCJpbnRlZ2VyXCIsXHJcbiAgICAgICAgdmFsdWU6IHBhcnNlSW50KChuZWcgPyBuZWcgOiBcIlwiKSArIGRpZ2l0cy5qb2luKFwiXCIpLCAxMClcclxuICAgICAgfVxyXG4gICAgfTtcbiAgY29uc3QgcGVnJGM5MCA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwiaWRlbnRpZmllclwiKTtcbiAgY29uc3QgcGVnJGM5MSA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIHJlc3Q6IGFueSk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHdoYXQ6IFwiaWRlbnRpZmllclwiLFxyXG4gICAgICAgICAgaWRlbnRpZmllcjogZmlyc3QgKyByZXN0LmpvaW4oXCJcIilcclxuICAgICAgICB9O1xyXG4gICAgICB9O1xuICBjb25zdCBwZWckYzkyID0gL15bYS16QS1aMC05X10vO1xuICBjb25zdCBwZWckYzkzID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcImFcIiwgXCJ6XCJdLCBbXCJBXCIsIFwiWlwiXSwgW1wiMFwiLCBcIjlcIl0sIFwiX1wiXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM5NCA9IC9eW2EtekEtWl0vO1xuICBjb25zdCBwZWckYzk1ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcImFcIiwgXCJ6XCJdLCBbXCJBXCIsIFwiWlwiXV0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjOTYgPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcIndoaXRlc3BhY2VcIik7XG4gIGNvbnN0IHBlZyRjOTcgPSAvXlsgXFx0XS87XG4gIGNvbnN0IHBlZyRjOTggPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCIgXCIsIFwiXFx0XCJdLCBmYWxzZSwgZmFsc2UpO1xuXG4gIGxldCBwZWckY3VyclBvcyA9IDA7XG4gIGxldCBwZWckc2F2ZWRQb3MgPSAwO1xuICBjb25zdCBwZWckcG9zRGV0YWlsc0NhY2hlID0gW3sgbGluZTogMSwgY29sdW1uOiAxIH1dO1xuICBsZXQgcGVnJG1heEZhaWxQb3MgPSAwO1xuICBsZXQgcGVnJG1heEZhaWxFeHBlY3RlZDogYW55W10gPSBbXTtcbiAgbGV0IHBlZyRzaWxlbnRGYWlscyA9IDA7XG5cbiAgbGV0IHBlZyRyZXN1bHQ7XG5cbiAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlRnVuY3Rpb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXFxcIlwiICsgb3B0aW9ucy5zdGFydFJ1bGUgKyBcIlxcXCIuXCIpO1xuICAgIH1cblxuICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbnNbb3B0aW9ucy5zdGFydFJ1bGVdO1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhdGlvbigpOiBJRmlsZVJhbmdlIHtcbiAgICByZXR1cm4gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdGVkKGRlc2NyaXB0aW9uOiBzdHJpbmcsIGxvY2F0aW9uMT86IElGaWxlUmFuZ2UpIHtcbiAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgPyBsb2NhdGlvbjFcbiAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLFxuICAgICAgaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpLFxuICAgICAgbG9jYXRpb24xXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgbG9jYXRpb24xPzogSUZpbGVSYW5nZSkge1xuICAgIGxvY2F0aW9uMSA9IGxvY2F0aW9uMSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGxvY2F0aW9uMVxuICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24odGV4dDE6IHN0cmluZywgaWdub3JlQ2FzZTogYm9vbGVhbik6IElMaXRlcmFsRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiB0ZXh0MSwgaWdub3JlQ2FzZTogaWdub3JlQ2FzZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHM6IElDbGFzc1BhcnRzLCBpbnZlcnRlZDogYm9vbGVhbiwgaWdub3JlQ2FzZTogYm9vbGVhbik6IElDbGFzc0V4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImNsYXNzXCIsIHBhcnRzOiBwYXJ0cywgaW52ZXJ0ZWQ6IGludmVydGVkLCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYW55RXhwZWN0YXRpb24oKTogSUFueUV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImFueVwiIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckZW5kRXhwZWN0YXRpb24oKTogSUVuZEV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImVuZFwiIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbjogc3RyaW5nKTogSU90aGVyRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwib3RoZXJcIiwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zOiBudW1iZXIpIHtcbiAgICBsZXQgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXTtcbiAgICBsZXQgcDtcblxuICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9IGVsc2Uge1xuICAgICAgcCA9IHBvcyAtIDE7XG4gICAgICB3aGlsZSAoIXBlZyRwb3NEZXRhaWxzQ2FjaGVbcF0pIHtcbiAgICAgICAgcC0tO1xuICAgICAgfVxuXG4gICAgICBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwXTtcbiAgICAgIGRldGFpbHMgPSB7XG4gICAgICAgIGxpbmU6IGRldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBkZXRhaWxzLmNvbHVtblxuICAgICAgfTtcblxuICAgICAgd2hpbGUgKHAgPCBwb3MpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocCkgPT09IDEwKSB7XG4gICAgICAgICAgZGV0YWlscy5saW5lKys7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbHMuY29sdW1uKys7XG4gICAgICAgIH1cblxuICAgICAgICBwKys7XG4gICAgICB9XG5cbiAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSA9IGRldGFpbHM7XG5cbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlTG9jYXRpb24oc3RhcnRQb3M6IG51bWJlciwgZW5kUG9zOiBudW1iZXIpOiBJRmlsZVJhbmdlIHtcbiAgICBjb25zdCBzdGFydFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoc3RhcnRQb3MpO1xuICAgIGNvbnN0IGVuZFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoZW5kUG9zKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdGFydDoge1xuICAgICAgICBvZmZzZXQ6IHN0YXJ0UG9zLFxuICAgICAgICBsaW5lOiBzdGFydFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBzdGFydFBvc0RldGFpbHMuY29sdW1uXG4gICAgICB9LFxuICAgICAgZW5kOiB7XG4gICAgICAgIG9mZnNldDogZW5kUG9zLFxuICAgICAgICBsaW5lOiBlbmRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgIGNvbHVtbjogZW5kUG9zRGV0YWlscy5jb2x1bW5cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGZhaWwoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbikge1xuICAgIGlmIChwZWckY3VyclBvcyA8IHBlZyRtYXhGYWlsUG9zKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHBlZyRjdXJyUG9zID4gcGVnJG1heEZhaWxQb3MpIHtcbiAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkID0gW107XG4gICAgfVxuXG4gICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlOiBzdHJpbmcsIGxvY2F0aW9uMTogSUZpbGVSYW5nZSkge1xuICAgIHJldHVybiBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSwgW10sIFwiXCIsIGxvY2F0aW9uMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCwgbG9jYXRpb24xOiBJRmlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihcbiAgICAgIFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZShleHBlY3RlZDEsIGZvdW5kKSxcbiAgICAgIGV4cGVjdGVkMSxcbiAgICAgIGZvdW5kLFxuICAgICAgbG9jYXRpb24xXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXN0YXJ0KCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgczAgPSBwZWckcGFyc2VTdGF0ZW1lbnRHcm91cCgpO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlU3RhdGVtZW50R3JvdXAoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczY7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlXygpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM1ID0gW107XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICBzNiA9IHBlZyRjMDtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAocGVnJGMyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHM2ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlX18oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUucHVzaChzNik7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgczYgPSBwZWckYzA7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAocGVnJGMyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgczYgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV9fKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgIHM0ID0gcGVnJGM0KHM0KTtcbiAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlU3RhdGVtZW50KCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gW107XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgczYgPSBwZWckYzA7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAocGVnJGMyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgczYgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV9fKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUucHVzaChzNik7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJGMwO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAocGVnJGMyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgICBzNiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VfXygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICBzNCA9IHBlZyRjNChzNCk7XG4gICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNShzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlU3RhdGVtZW50KCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgczAgPSBwZWckcGFyc2VBc3NpZ25tZW50U3RhdGVtZW50KCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZUV4cCgpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUFzc2lnbm1lbnRTdGF0ZW1lbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VDYWxsRXhwKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgICAgczMgPSBwZWckYzY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZUV4cCgpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjOChzMSwgczUpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRwYXJzZUlkZW50aWZpZXIoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgICAgICAgczMgPSBwZWckYzY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZUV4cCgpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjOShzMSwgczUpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VNYXRyaXhFeHAoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczk7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTEpIHtcbiAgICAgIHMxID0gcGVnJGMxMDtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMSk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZVJvd0V4cCgpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IFtdO1xuICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IFtdO1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgICBzOCA9IHBlZyRjMDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKHBlZyRjMTIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICAgIHM4ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTMpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICB3aGlsZSAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNy5wdXNoKHM4KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjMDtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckYzEyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTMpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlUm93RXhwKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJGMxNChzMywgczkpO1xuICAgICAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNC5wdXNoKHM1KTtcbiAgICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IFtdO1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgICAgczggPSBwZWckYzA7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM4ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRjMTIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICAgICAgczggPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEzKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM3LnB1c2goczgpO1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjMDtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRjMTIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHM4ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTMpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VSb3dFeHAoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgICAgczYgPSBwZWckYzE0KHMzLCBzOSk7XG4gICAgICAgICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5Mykge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJGMxNTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTYpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzE3KHMzLCBzNCk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVJvd0V4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VFeHAoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgIHM1ID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRjMTg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gW3M1LCBzNl07XG4gICAgICAgICAgczQgPSBzNTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlX18oKTtcbiAgICAgIH1cbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNSA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2VFeHAoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgczQgPSBwZWckYzIwKHMxLCBzNik7XG4gICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNSA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgczYgPSBwZWckYzE4O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gW3M1LCBzNl07XG4gICAgICAgICAgICBzNCA9IHM1O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZV9fKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZUV4cCgpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjAoczEsIHM2KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIxKHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRXhwKCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgczAgPSBwZWckcGFyc2VSYW5nZUV4cCgpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VDYWxsRXhwKCk7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckcGFyc2VQcmltYXJ5RXhwKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlUmFuZ2VFeHAoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczksIHMxMDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VPckV4cCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OCkge1xuICAgICAgICAgIHMzID0gcGVnJGMyMjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjMpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZU9yRXhwKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTgpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGMyMjtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMyk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckcGFyc2VPckV4cCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczY7XG4gICAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzI0KHMxLCBzNSwgczEwKTtcbiAgICAgICAgICAgICAgICAgICAgICBzNiA9IHM3O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczY7XG4gICAgICAgICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM2O1xuICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczY7XG4gICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczY7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM2ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjUoczEsIHM1LCBzNik7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlT3JFeHAoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VPckV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlQW5kRXhwKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI0KSB7XG4gICAgICAgICAgczUgPSBwZWckYzI2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlQW5kRXhwKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMyOChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMjY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VBbmRFeHAoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzI4KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzI5KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlQW5kRXhwKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VFcUV4cCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM4KSB7XG4gICAgICAgICAgczUgPSBwZWckYzMwO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlRXFFeHAoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzI4KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOCkge1xuICAgICAgICAgICAgczUgPSBwZWckYzMwO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMxKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlRXFFeHAoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzI4KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzMyKHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRXFFeHAoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZVJlbEV4cCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzMykge1xuICAgICAgICAgIHM1ID0gcGVnJGMzMztcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzQpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzUpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGMzNTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNik7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZVJlbEV4cCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzMykge1xuICAgICAgICAgICAgczUgPSBwZWckYzMzO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM0KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM1KSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMzNTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM2KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlUmVsRXhwKCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMyOChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMzNyhzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVJlbEV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlQWRkRXhwKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM4KSB7XG4gICAgICAgICAgczUgPSBwZWckYzM4O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYwKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNDA7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDEpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDIpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzQyO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDMpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Mikge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJGM0NDtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDUpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZUFkZEV4cCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzOCkge1xuICAgICAgICAgICAgczUgPSBwZWckYzM4O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjApIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzQwO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDEpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDIpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRjNDI7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQzKTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjIpIHtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJGM0NDtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0NSk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZUFkZEV4cCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNDYoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VBZGRFeHAoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZU11bHRFeHAoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mykge1xuICAgICAgICAgIHM1ID0gcGVnJGM0NztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xuICAgICAgICAgICAgczUgPSBwZWckYzQ5O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUwKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlTXVsdEV4cCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQzKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNDc7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDgpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjNDk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1MCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZU11bHRFeHAoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzI4KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzUxKHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlTXVsdEV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlVW5hcnlFeHAoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mikge1xuICAgICAgICAgIHM1ID0gcGVnJGM1MjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTMpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Nykge1xuICAgICAgICAgICAgczUgPSBwZWckYzU0O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzU1KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzU2O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTcpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNTgpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRjNTg7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzU5KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzYwKSB7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRjNjA7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjEpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNjIpIHtcbiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckYzYyO1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjMpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VVbmFyeUV4cCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQyKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNTI7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTMpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Nykge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjNTQ7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1NSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDk0KSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckYzU2O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1Nyk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM1OCkge1xuICAgICAgICAgICAgICAgICAgczUgPSBwZWckYzU4O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzU5KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzYwKSB7XG4gICAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJGM2MDtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYxKTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzYyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckYzYyO1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Myk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlVW5hcnlFeHAoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzI4KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzY0KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlVW5hcnlFeHAoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRwYXJzZVBvc3RmaXhFeHAoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQzKSB7XG4gICAgICAgIHMxID0gcGVnJGM0NztcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ4KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDUpIHtcbiAgICAgICAgICBzMSA9IHBlZyRjNDk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUwKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI2KSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRjNjU7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjYpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlUG9zdGZpeEV4cCgpO1xuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjNjcoczEsIHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlUG9zdGZpeEV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlUHJpbWFyeUV4cCgpO1xuICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckcGFyc2VDYWxsRXhwKCk7XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOSkge1xuICAgICAgICAgIHM0ID0gcGVnJGM2ODtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzkpIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckYzY4O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjkpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjNzAoczEsIHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VDYWxsRXhwKCk7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckcGFyc2VQcmltYXJ5RXhwKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlQ2FsbEV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwLCBzMTE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlSWRlbnRpZmllcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgIHMzID0gcGVnJGM3MTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzIpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZUluZGV4RXhwKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBbXTtcbiAgICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJGMxODtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOSk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzMTAgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZUluZGV4RXhwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNztcbiAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjNzMoczEsIHM1LCBzMTEpO1xuICAgICAgICAgICAgICAgICAgICAgIHM3ID0gczg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYucHVzaChzNyk7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzE4O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTkpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJHBhcnNlSW5kZXhFeHAoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczExICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNztcbiAgICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGM3MyhzMSwgczUsIHMxMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzNyA9IHM4O1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckYzc0O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzUpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM3NihzMSwgczUsIHM2KTtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VQcmltYXJ5RXhwKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRwYXJzZU1hdHJpeEV4cCgpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzc3KSB7XG4gICAgICAgIHMxID0gcGVnJGM3NztcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzc4KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNzkoKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckcGFyc2VJZGVudGlmaWVyKCk7XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJHBhcnNlTnVtYmVyKCk7XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjNzE7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3Mik7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckcGFyc2VFeHAoKTtcbiAgICAgICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRjNzQ7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzc1KTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM4MChzMyk7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUluZGV4RXhwKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OCkge1xuICAgICAgczEgPSBwZWckYzIyO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzKTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzgxKCk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZUV4cCgpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZU51bWJlcigpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIHMwID0gcGVnJHBhcnNlRmxvYXQoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlSW50ZWdlcigpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUZsb2F0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7XG4gICAgICBzMSA9IHBlZyRjNDk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTApOyB9XG4gICAgfVxuICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBpZiAocGVnJGM4Mi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzgzKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIGlmIChwZWckYzgyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4Myk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgczMgPSBwZWckYzg0KHMxLCBzMik7XG4gICAgICAgIGlmIChzMykge1xuICAgICAgICAgIHMzID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjODUoczEsIHMyKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlSW50ZWdlcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xuICAgICAgczEgPSBwZWckYzQ5O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUwKTsgfVxuICAgIH1cbiAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgaWYgKHBlZyRjODcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4OCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgICBpZiAocGVnJGM4Ny50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjODgpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM4OShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4Nik7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VJZGVudGlmaWVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZUlkZW50aWZpZXJGaXJzdENoYXIoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRwYXJzZUlkZW50aWZpZXJDaGFyKCk7XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlSWRlbnRpZmllckNoYXIoKTtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzkxKHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkwKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUlkZW50aWZpZXJDaGFyKCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgaWYgKHBlZyRjOTIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczAgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkzKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUlkZW50aWZpZXJGaXJzdENoYXIoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAocGVnJGM5NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICBzMCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTUpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlXygpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IFtdO1xuICAgIGlmIChwZWckYzk3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5OCk7IH1cbiAgICB9XG4gICAgd2hpbGUgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMC5wdXNoKHMxKTtcbiAgICAgIGlmIChwZWckYzk3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTgpOyB9XG4gICAgICB9XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk2KTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZV9fKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gW107XG4gICAgaWYgKHBlZyRjOTcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk4KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHdoaWxlIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMC5wdXNoKHMxKTtcbiAgICAgICAgaWYgKHBlZyRjOTcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTgpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5Nik7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuXHJcbiAgICBmdW5jdGlvbiBjb21wb3NlQmluYXJ5T3AoZmlyc3Q6IHN0cmluZywgcmVzdDogc3RyaW5nW10sIGFzc29jOiBzdHJpbmcsIGV4cHJUeXBlOiBzdHJpbmcpIDogYW55IHtcclxuICAgICAgYXNzb2MgPSBhc3NvYyB8fCBcImxlZnRcIjtcclxuICAgICAgZXhwclR5cGUgPSBleHByVHlwZSB8fCBcImJpbmFyeU9wXCI7XHJcbiAgICAgIGlmKCFyZXN0IHx8IHJlc3QubGVuZ3RoID09PSAwKXtcclxuICAgICAgICByZXR1cm4gZmlyc3Q7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFzc29jID09PSBcImxlZnRcIil7XHJcbiAgICAgICAgdmFyIHJpZ2h0ID0gcmVzdC5wb3AoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgd2hhdDogZXhwclR5cGUsXHJcbiAgICAgICAgICBvcDogcmlnaHQhWzBdLFxyXG4gICAgICAgICAgbGVmdDogY29tcG9zZUJpbmFyeU9wKGZpcnN0LCByZXN0LCBhc3NvYywgZXhwclR5cGUpLFxyXG4gICAgICAgICAgcmlnaHQ6IHJpZ2h0IVsxXSxcclxuICAgICAgICAgIGFzc29jaWF0aXZpdHk6IGFzc29jXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgdmFyIGxlZnQgPSByZXN0LnNoaWZ0KCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHdoYXQ6IGV4cHJUeXBlLFxyXG4gICAgICAgICAgb3A6IGxlZnQhWzBdLFxyXG4gICAgICAgICAgbGVmdDogZmlyc3QsXHJcbiAgICAgICAgICByaWdodDogY29tcG9zZUJpbmFyeU9wKGxlZnQhWzFdLCByZXN0LCBhc3NvYywgZXhwclR5cGUpLFxyXG4gICAgICAgICAgYXNzb2NpYXRpdml0eTogYXNzb2NcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXG5cbiAgcGVnJHJlc3VsdCA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbigpO1xuXG4gIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gcGVnJHJlc3VsdDtcbiAgfSBlbHNlIHtcbiAgICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgcGVnJGZhaWwocGVnJGVuZEV4cGVjdGF0aW9uKCkpO1xuICAgIH1cblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQsXG4gICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aCA/IGlucHV0LmNoYXJBdChwZWckbWF4RmFpbFBvcykgOiBudWxsLFxuICAgICAgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGhcbiAgICAgICAgPyBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcyArIDEpXG4gICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MpXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQYXJzZU9wdGlvbnMge1xuICBmaWxlbmFtZT86IHN0cmluZztcbiAgc3RhcnRSdWxlPzogc3RyaW5nO1xuICB0cmFjZXI/OiBhbnk7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cbmV4cG9ydCB0eXBlIFBhcnNlRnVuY3Rpb24gPSAoaW5wdXQ6IHN0cmluZywgb3B0aW9ucz86IElQYXJzZU9wdGlvbnMpID0+IGFueTtcbmV4cG9ydCBjb25zdCBwYXJzZTogUGFyc2VGdW5jdGlvbiA9IHBlZyRwYXJzZTtcblxuIiwiaW1wb3J0IHsgTXV0YWJsZSwgQ29sb3IsIGFzc2VydCwgY2xvbmVBcnJheSwgTWF0bGFiTWF0aCwgYXNNdXRhYmxlIH0gZnJvbSBcIi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IHJhbmdlIH0gZnJvbSBcImxvZGFzaFwiO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbnR5cGUgVmlzdWFsaXphdGlvbk9wdGlvbnMgPSB7XHJcbiAgICBbaW5kZXg6IHN0cmluZ106IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmlzdWFsaXphYmxlIHtcclxuICAgIHZpc3VhbGl6ZV9odG1sKG9wdGlvbnM/OiBWaXN1YWxpemF0aW9uT3B0aW9ucykgOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgRGF0YVR5cGUgPSBcImRvdWJsZVwiIHwgXCJsb2dpY2FsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWF0bGFiRXJyb3Ige1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1lc3NhZ2U6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBjb25zdHJ1Y3Q6IENvZGVDb25zdHJ1Y3Q7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnN0cnVjdDogQ29kZUNvbnN0cnVjdCwgbWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICB0aGlzLmNvbnN0cnVjdCA9IGNvbnN0cnVjdDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1hdHJpeCBpbXBsZW1lbnRzIFZpc3VhbGl6YWJsZSB7XHJcblxyXG4gICAgLy9TdGF0aWMgZnVuY3Rpb25zXHJcbiAgICAvLyBUT0RPOiBTaG91bGQgdGhpcyByZWFsbHkgYmUgYSBzdGF0aWMgZnVuY3Rpb24gb2YgbWF0cml4P1xyXG4gICAgcHVibGljIHN0YXRpYyBmb3JtYXROdW1iZXIobnVtOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoTWF0aC50cnVuYyhudW0pID09IG51bSl7XHJcbiAgICAgICAgICAgIHJldHVybiBudW0udG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bS50b1ByZWNpc2lvbigyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzY2FsYXIodmFsdWU6IG51bWJlciwgZGF0YVR5cGU6IERhdGFUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoMSwgMSwgW3ZhbHVlXSwgZGF0YVR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlU2l6ZWQocm93czogbnVtYmVyLCBjb2xzOiBudW1iZXIsIGRhdGFUeXBlOiBEYXRhVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KHJvd3MsIGNvbHMsIG5ldyBBcnJheShyb3dzICogY29scyksIGRhdGFUeXBlKTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBudW1EaW1zID0gMjtcclxuICAgIHB1YmxpYyByZWFkb25seSByb3dzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sczogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHdpZHRoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnVtZWw6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBkYXRhVHlwZTogRGF0YVR5cGU7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzU2NhbGFyOiBib29sZWFuO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzVmVjdG9yOiBib29sZWFuO1xyXG4gICBcclxuICAgIHB1YmxpYyByZWFkb25seSBjb2xvcjogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBkYXRhOiByZWFkb25seSBudW1iZXJbXTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iocm93czogbnVtYmVyLCBjb2xzOiBudW1iZXIsIGRhdGE6IHJlYWRvbmx5IG51bWJlcltdLCBkYXRhVHlwZTogRGF0YVR5cGUpIHtcclxuICAgICAgICB0aGlzLnJvd3MgPSByb3dzO1xyXG4gICAgICAgIHRoaXMuY29scyA9IGNvbHM7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByb3dzO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBjb2xzO1xyXG4gICAgICAgIHRoaXMubnVtZWwgPSByb3dzICogY29scztcclxuICAgICAgICB0aGlzLmRhdGEgPSBjbG9uZUFycmF5KGRhdGEpIC8vIGNvcHkgaXMgaW1wb3J0YW50LCBzaW5jZSBvdGhlcndpc2UgaW50ZXJuYWwgY2FzdGluZyBhd2F5IG9mIHJlYWRvbmx5IG9uIGRhdGEgY291bGQgY2F1c2UgaXNzdWVzXHJcbiAgICAgICAgdGhpcy5kYXRhVHlwZSA9IGRhdGFUeXBlO1xyXG5cclxuICAgICAgICB0aGlzLmlzU2NhbGFyID0gcm93cyA9PT0gMSAmJiBjb2xzID09PSAxO1xyXG4gICAgICAgIHRoaXMuaXNWZWN0b3IgPSByb3dzID09PSAxIHx8IGNvbHMgPT09IDE7XHJcblxyXG4gICAgICAgIHRoaXMuY29sb3IgPSBDb2xvci50b0NvbG9yKFt0aGlzLnJvd3MsIHRoaXMuaGVpZ2h0LCB0aGlzLmRhdGFdLCBDb2xvci5MSUdIVF9MRVRURVJTKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFwiUm93czogXCIgKyB0aGlzLnJvd3MgKyBcIiBDb2xzOiBcIiArIHRoaXMuY29scyArIFwiXFxuRGF0YTogXCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbG9uZSgpIDogTWF0cml4IHtcclxuICAgICAgICAvLyBOb3RlIHRoZSAuc2xpY2UoKSBjb3BpZXMgdGhlIGRhdGEgYXJyYXlcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCh0aGlzLnJvd3MsIHRoaXMuY29scywgdGhpcy5kYXRhLnNsaWNlKCksIHRoaXMuZGF0YVR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlcXVhbHMob3RoZXI6IE1hdHJpeCkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJlxyXG4gICAgICAgICAgICAgICB0aGlzLmRhdGEuZXZlcnkoKHZhbHVlLCBpKSA9PiB2YWx1ZSA9PT0gb3RoZXIuZGF0YVtpXSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBsaW5lYXJJbmRleChyb3c6IG51bWJlciwgY29sOiBudW1iZXIpIHtcclxuICAgICAgICByb3cgPSByb3cgLSAxO1xyXG4gICAgICAgIGNvbCA9IGNvbCAtIDE7XHJcbiAgICAgICAgcmV0dXJuIGNvbCAqIHRoaXMucm93cyArIHJvdyArIDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGF0TGluZWFyKGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2luZGV4IC0gMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldExpbmVhcihpbmRleDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgKDxudW1iZXJbXT50aGlzLmRhdGEpW2luZGV4IC0gMV0gPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXQocm93OiBudW1iZXIsIGNvbDogbnVtYmVyKSB7XHJcbiAgICAgICAgcm93ID0gcm93IC0gMTtcclxuICAgICAgICBjb2wgPSBjb2wgLSAxO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbY29sICogdGhpcy5yb3dzICsgcm93XVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRBdChyb3c6IG51bWJlciwgY29sOiBudW1iZXIsIHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICByb3cgPSByb3cgLSAxO1xyXG4gICAgICAgIGNvbCA9IGNvbCAtIDE7XHJcbiAgICAgICAgKDxudW1iZXJbXT50aGlzLmRhdGEpW2NvbCAqIHRoaXMucm93cyArIHJvd10gPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZmlsbCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAoPG51bWJlcltdPnRoaXMuZGF0YSlbaV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUkVRVUlSRVM6IGRhdGEgaGFzIHRoZSBzYW1lIG51bWJlciBvZiBlbGVtZW50cyBhcyB0aGUgb3JpZ2luYWwgbWF0cml4IGRhdGFcclxuICAgIHB1YmxpYyBzZXRBbGwoZGF0YTogcmVhZG9ubHkgbnVtYmVyW10pIHtcclxuICAgICAgICBhc3NlcnQodGhpcy5kYXRhLmxlbmd0aCA9PT0gZGF0YS5sZW5ndGgsIFwibmV3IGRhdGEgbXVzdCBoYXZlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzXCIpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgKDxudW1iZXJbXT50aGlzLmRhdGEpW2ldID0gZGF0YVtpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9wZXJhdGVBbGwob3BlcmF0ZTogKHZhbDogbnVtYmVyKSA9PiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnNldEFsbCh0aGlzLmRhdGEubWFwKG9wZXJhdGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGVuZ3RoKGRpbWVuc2lvbjogMSB8IDIpIHtcclxuICAgICAgICBpZiAoZGltZW5zaW9uID09PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvd3M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7IC8vIGlmIChkaW1lbnNpb24gPT09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29scztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNjYWxhclZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWF0cml4VmFsdWUgOiBmdW5jdGlvbigpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcztcclxuICAgIC8vIH0sXHJcblxyXG4gICAgcHVibGljIGNvbnRhaW5zKHZhbHVlOiBudW1iZXIpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbERhdGEoY29sOiBudW1iZXIpIDogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuc2xpY2UoKGNvbC0xKSAqIHRoaXMucm93cywgY29sICogdGhpcy5yb3dzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Q29sRGF0YShjb2w6IG51bWJlciwgbmV3RGF0YTogcmVhZG9ubHkgbnVtYmVyW10pIHtcclxuICAgICAgICBmb3IobGV0IHIgPSAxLCBpID0gMDsgciA8PSB0aGlzLnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0KHIsIGNvbCwgbmV3RGF0YVtpKytdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJvd0RhdGEocm93OiBudW1iZXIpIDogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiByYW5nZSgxLCB0aGlzLmNvbHMgKyAxKS5tYXAoKGMpID0+IHRoaXMuYXQocm93LCBjKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFJvd0RhdGEocm93OiBudW1iZXIsIG5ld0RhdGE6IHJlYWRvbmx5IG51bWJlcltdKSB7XHJcbiAgICAgICAgZm9yKGxldCBjID0gMSwgaSA9IDA7IGMgPD0gdGhpcy5jb2xzOyArK2MpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdChyb3csIGMsIG5ld0RhdGFbaSsrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhY2N1bXVsYXRlQ29scyhvcGVyYXRlOiAoYTpudW1iZXIsIGI6bnVtYmVyKSA9PiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgxLCB0aGlzLmNvbHMsXHJcbiAgICAgICAgICAgIHJhbmdlKDEsIHRoaXMuY29scysxKS5tYXAoKGMpID0+IHRoaXMuY29sRGF0YShjKS5yZWR1Y2Uob3BlcmF0ZSkpLFxyXG4gICAgICAgICAgICBcImRvdWJsZVwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGFjY3VtdWxhdGVSb3dzKG9wZXJhdGU6IChhOm51bWJlciwgYjpudW1iZXIpID0+IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KHRoaXMucm93cywgMSxcclxuICAgICAgICAgICAgcmFuZ2UoMSwgdGhpcy5yb3dzKzEpLm1hcCgoYykgPT4gdGhpcy5yb3dEYXRhKGMpLnJlZHVjZShvcGVyYXRlKSksXHJcbiAgICAgICAgICAgIFwiZG91YmxlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2aXN1YWxpemVfaHRtbChvcHRpb25zPzogVmlzdWFsaXphdGlvbk9wdGlvbnMpIDogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgbGV0IHRhYmxlID0gJChcIjx0YWJsZT48L3RhYmxlPlwiKTtcclxuICAgICAgICB0YWJsZS5hZGRDbGFzcyhcIm1hdGxhYi10YWJsZVwiKTtcclxuXHJcbiAgICAgICAgLy8gTG9naWNhbCBhcnJheXMgYXJlIGJsYWNrL3doaXRlXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YVR5cGUgIT09IFwibG9naWNhbFwiKSB7XHJcbiAgICAgICAgICAgIHRhYmxlLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgdGhpcy5jb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IHIgPSAxOyByIDw9IHRoaXMucm93czsgKytyKSB7XHJcbiAgICAgICAgICAgIGxldCB0ciA9ICQoXCI8dHI+PC90cj5cIik7XHJcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZCh0cik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAxOyBjIDw9IHRoaXMuY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGQgPSAkKFwiPHRkPjwvdGQ+XCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wLmFkZENsYXNzKFwibWF0bGFiLXNjYWxhclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGFUeXBlID09PSBcImxvZ2ljYWxcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuYWRkQ2xhc3ModGhpcy5hdChyLGMpID8gXCJsb2dpY2FsLTFcIiA6IFwibG9naWNhbC0wXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXBTcGFuID0gJChcIjxzcGFuPjwvc3Bhbj5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wU3Bhbi5odG1sKE1hdHJpeC5mb3JtYXROdW1iZXIodGhpcy5hdChyLGMpKSk7XHJcbiAgICAgICAgICAgICAgICB0ZW1wLmFwcGVuZCh0ZW1wU3Bhbik7XHJcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmQodGVtcCk7XHJcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmQodGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGFibGVbMF0ub3V0ZXJIVE1MO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgU3ViYXJyYXkge1xyXG5cclxuICAgIC8vIHB1YmxpYyB2aXN1YWxpemVfdmFyaWFibGVfc2VsZWN0aW9uKGVsZW06IEpRdWVyeSwgb3B0aW9ucz86IFZpc3VhbGl6YXRpb25PcHRpb25zKSB7XHJcbiAgICAvLyAgICAgbGV0IHdyYXBwZXIgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAvLyAgICAgd3JhcHBlci5hZGRDbGFzcyhcIm1hdGxhYi1leHAtaW5kZXhcIik7XHJcblxyXG5cclxuICAgIC8vICAgICBsZXQgdmFsdWVFbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgLy8gICAgIHRoaXMudmlzdWFsaXplX3NlbGVjdGlvbih2YWx1ZUVsZW0pO1xyXG4gICAgLy8gICAgIHdyYXBwZXIuYXBwZW5kKHZhbHVlRWxlbSk7XHJcblxyXG4gICAgLy8gICAgIGxldCBuYW1lRWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuICAgIC8vICAgICBuYW1lRWxlbS5hZGRDbGFzcyhcIm1hdGxhYi1pZGVudGlmaWVyLW5hbWVcIik7XHJcbiAgICAvLyAgICAgbmFtZUVsZW0uaHRtbCh0aGlzLnZhcmlhYmxlLm5hbWUpO1xyXG4gICAgLy8gICAgIHdyYXBwZXIuYXBwZW5kKG5hbWVFbGVtKTtcclxuXHJcbiAgICAvLyAgICAgZWxlbS5hcHBlbmQod3JhcHBlcik7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHZpc3VhbGl6ZV9zZWxlY3Rpb24obWF0cml4OiBNYXRyaXgpIDogc3RyaW5nO1xyXG5cclxuICAgIC8vIEB0aHJvd3Mge3N0cmluZ30gSWYgdGhlIHZhbHVlIGNhbm5vdCBiZSBkZXRlcm1pbmVkIChlLmcuIHN1YmFycmF5IHNwZWNpZmllcyBvdXQtb2YtYm91bmQgaW5kaWNlcykuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZFZhbHVlKHNvdXJjZTogTWF0cml4KSA6IE1hdHJpeDtcclxuXHJcbiAgICAvLyBUT0RPOiByZW1vdmU/XHJcbiAgICAvLyBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgZGltZW5zaW9ucyA6IHJlYWRvbmx5IG51bWJlcltdO1xyXG5cclxuICAgIC8vIEB0aHJvd3Mge3N0cmluZ30gSWYgYXNzaWdubWVudCBjYW5ub3QgYmUgcGVyZm9ybWVkIChlLmcuIGR1ZSB0byBhIGRpbWVuc2lvbiBtaXNtYXRjaCkuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgYXNzaWduKHRhcmdldDogTWF0cml4LCB2YWx1ZTogTWF0cml4KSA6IHZvaWQ7XHJcblxyXG4gICAgLy8gQHRocm93cyB7c3RyaW5nfSBJZiB0aGUgc3ViYXJyYXkgaXMgbm90IHdlbGwtZm9ybWVkIHcuci50IGl0cyB2YXJpYWJsZVxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAoZS5nLiBzdWJhcnJheSBzcGVjaWZpZXMgb3V0LW9mLWJvdW5kIGluZGljZXMpLlxyXG4gICAgcHVibGljIGFic3RyYWN0IHZlcmlmeShtYXQ6IE1hdHJpeCkgOiB2b2lkO1xyXG59XHJcblxyXG5jbGFzcyBDb29yZGluYXRlU3ViYXJyYXkgZXh0ZW5kcyBTdWJhcnJheSB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUocm93SW5kaWNlczogTWF0cml4IHwgXCI6XCIsIGNvbEluZGljZXM6IE1hdHJpeCB8IFwiOlwiKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb29yZGluYXRlU3ViYXJyYXkoXHJcbiAgICAgICAgICAgIENvb3JkaW5hdGVJbmRleGVyLmNyZWF0ZSgxLCByb3dJbmRpY2VzKSxcclxuICAgICAgICAgICAgQ29vcmRpbmF0ZUluZGV4ZXIuY3JlYXRlKDIsIGNvbEluZGljZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm93SW5kZXhlcjogQ29vcmRpbmF0ZUluZGV4ZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sSW5kZXhlcjogQ29vcmRpbmF0ZUluZGV4ZXI7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHJvd0luZGV4ZXI6IENvb3JkaW5hdGVJbmRleGVyLCBjb2xJbmRleGVyOiBDb29yZGluYXRlSW5kZXhlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5yb3dJbmRleGVyID0gcm93SW5kZXhlcjtcclxuICAgICAgICB0aGlzLmNvbEluZGV4ZXIgPSBjb2xJbmRleGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2aXN1YWxpemVfc2VsZWN0aW9uKG1hdHJpeDogTWF0cml4KSB7XHJcbiAgICAgICAgdmFyIHRhYmxlID0gJChcIjx0YWJsZT48L3RhYmxlPlwiKTtcclxuICAgICAgICB0YWJsZS5hZGRDbGFzcyhcIm1hdGxhYi1pbmRleFwiKTtcclxuICAgICAgICB0YWJsZS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIG1hdHJpeC5jb2xvcik7XHJcbiAgICAgICAgbGV0IHJvd0luZGljZXNTZXQgPSBuZXcgU2V0KHRoaXMucm93SW5kZXhlci5nZXRTZWxlY3RlZEluZGljZXMobWF0cml4KSk7XHJcbiAgICAgICAgbGV0IGNvbEluZGljZXNTZXQgPSBuZXcgU2V0KHRoaXMuY29sSW5kZXhlci5nZXRTZWxlY3RlZEluZGljZXMobWF0cml4KSk7XHJcbiAgICAgICAgZm9yICh2YXIgciA9IDE7IHIgPD0gbWF0cml4LnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSAkKFwiPHRyPjwvdHI+XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmQodHIpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMTsgYyA8PSBtYXRyaXguY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGQgPSAkKFwiPHRkPjxkaXYgY2xhc3M9J2hpZ2hsaWdodCc+PC9kaXY+PC90ZD5cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJvd0luZGljZXNTZXQuaGFzKHIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgY29sSW5kaWNlc1NldC5oYXMoYykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5hZGRDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByYXdJbmRleEVsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgICAgICByYXdJbmRleEVsZW0uYWRkQ2xhc3MoXCJtYXRsYWItcmF3LWluZGV4XCIpO1xyXG4gICAgICAgICAgICAgICAgcmF3SW5kZXhFbGVtLmh0bWwoXCJcIiArIG1hdHJpeC5saW5lYXJJbmRleChyLGMpKTtcclxuICAgICAgICAgICAgICAgIHRkLmFwcGVuZChyYXdJbmRleEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgICAgICAgICAgdGVtcC5hZGRDbGFzcyhcIm1hdGxhYi1zY2FsYXJcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcFNwYW4gPSAkKFwiPHNwYW4+PC9zcGFuPlwiKTtcclxuICAgICAgICAgICAgICAgIHRlbXBTcGFuLmh0bWwoXCJcIiArIG1hdHJpeC5hdChyLGMpKTtcclxuICAgICAgICAgICAgICAgIHRlbXAuYXBwZW5kKHRlbXBTcGFuKTtcclxuICAgICAgICAgICAgICAgIHRkLmFwcGVuZCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZCh0ZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0YWJsZVswXS5vdXRlckhUTUw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRWYWx1ZShzb3VyY2U6IE1hdHJpeCkgOiBNYXRyaXgge1xyXG4gICAgICAgIGxldCBkYXRhIDogbnVtYmVyW10gPSBbXTtcclxuXHJcbiAgICAgICAgbGV0IHJvd0luZGljZXMgPSB0aGlzLnJvd0luZGV4ZXIuZ2V0U2VsZWN0ZWRJbmRpY2VzKHNvdXJjZSk7XHJcbiAgICAgICAgbGV0IGNvbEluZGljZXMgPSB0aGlzLmNvbEluZGV4ZXIuZ2V0U2VsZWN0ZWRJbmRpY2VzKHNvdXJjZSk7XHJcblxyXG4gICAgICAgIC8vIEV4dHJhY3Qgc2VsZWN0aW9uIGluIGNvbHVtbi1tYWpvciBvcmRlclxyXG4gICAgICAgIGNvbEluZGljZXMuZm9yRWFjaCgoc2VsZWN0ZWRDb2wpID0+IHtcclxuICAgICAgICAgICAgcm93SW5kaWNlcy5mb3JFYWNoKChzZWxlY3RlZFJvdykgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHNvdXJjZS5hdChzZWxlY3RlZFJvdywgc2VsZWN0ZWRDb2wpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgocm93SW5kaWNlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGNvbEluZGljZXMubGVuZ3RoLCBkYXRhLCBzb3VyY2UuZGF0YVR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3NpZ24odGFyZ2V0OiBNYXRyaXgsIHZhbHVlOiBNYXRyaXgpIHtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgcm93SW5kaWNlcyA9IHRoaXMucm93SW5kZXhlci5nZXRTZWxlY3RlZEluZGljZXModGFyZ2V0KTtcclxuICAgICAgICBsZXQgY29sSW5kaWNlcyA9IHRoaXMuY29sSW5kZXhlci5nZXRTZWxlY3RlZEluZGljZXModGFyZ2V0KTtcclxuICAgICAgICBsZXQgc2VsZWN0aW9uUm93cyA9IHJvd0luZGljZXMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBzZWxlY3Rpb25Db2xzID0gY29sSW5kaWNlcy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHNlbGVjdGlvbk51bWVsID0gc2VsZWN0aW9uUm93cyAqIHNlbGVjdGlvbkNvbHM7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZS5pc1NjYWxhcikge1xyXG4gICAgICAgICAgICBjb2xJbmRpY2VzLmZvckVhY2goKHNlbGVjdGVkQ29sLCBjKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByb3dJbmRpY2VzLmZvckVhY2goKHNlbGVjdGVkUm93LCByKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldEF0KHNlbGVjdGVkUm93LCBzZWxlY3RlZENvbCwgdmFsdWUuc2NhbGFyVmFsdWUoKSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTm9ybWFsbHksIHRoZSBkaW1lbnNpb25zIG9mIHNlbGVjdGlvbiBhbmQgdmFsdWUgbXVzdCBtYXRjaCBleGFjdGx5LCBidXRcclxuICAgICAgICAvLyBpZiB0aGUgc2VsZWN0aW9uIChub3QgdGhlIHRhcmdldCkgYW5kIHRoZSB2YWx1ZSBhcmUgYm90aCB2ZWN0b3JzLCB0aGVpclxyXG4gICAgICAgIC8vIG51bWJlciBvZiBlbGVtZW50cyBtdXN0IGJlIHRoZSBzYW1lLCBidXQgdGhlaXIgZGltZW5zaW9ucyBtaWdodCBiZSBkaWZmZXJlbnQuXHJcbiAgICAgICAgLy8gKGUuZy4geW91IGNhbiBhc3NpZ24gYSByb3cgdmVjdG9yIHRvIGEgY29sdW1uIHNlbGVjdGlvbiBvZiB0aGUgc2FtZSBsZW5ndGgpXHJcbiAgICAgICAgZWxzZSBpZiAoc2VsZWN0aW9uUm93cyA9PT0gdmFsdWUucm93cyAmJiBzZWxlY3Rpb25Db2xzID09PSB2YWx1ZS5jb2xzIHx8XHJcbiAgICAgICAgICAgICgoc2VsZWN0aW9uUm93cyA9PT0gMSB8fCBzZWxlY3Rpb25Db2xzID09PSAxKSAmJiB2YWx1ZS5pc1ZlY3RvciAmJiBzZWxlY3Rpb25OdW1lbCA9PSB2YWx1ZS5udW1lbCkpIHtcclxuICAgICAgICAgICAgbGV0IGkgPSAxO1xyXG4gICAgICAgICAgICBjb2xJbmRpY2VzLmZvckVhY2goKHNlbGVjdGVkQ29sLCBjKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByb3dJbmRpY2VzLmZvckVhY2goKHNlbGVjdGVkUm93LCByKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogZXhwcmVzc2lvbiBiZWxvdyBjYW5ub3QgdXNlIHZhbHVlLmF0KHIgKyAxLCBjICsgMSkgc2luY2UgdGhpcyB3b24ndCB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIHZlY3RvcnMgdGhhdCBoYXZlIHJvd3MvY29scyBmbGlwcGVkXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldEF0KHNlbGVjdGVkUm93LCBzZWxlY3RlZENvbCwgdmFsdWUuYXRMaW5lYXIoaSsrKSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiU3Vic2NyaXB0ZWQgYXNzaWdubWVudCBkaW1lbnNpb24gbWlzbWF0Y2guIFRoZSBsZWZ0IGhhbmQgc2lkZSBpbmRleGluZyBleHByZXNzaW9uXCIgK1xyXG4gICAgICAgICAgICBcIiBzZWxlY3RzIGEgXCIgKyBzZWxlY3Rpb25Sb3dzICsgXCJ4XCIgKyBzZWxlY3Rpb25Db2xzICsgXCIgd2hpbGUgdGhlIHJpZ2h0IGhhbmQgc2lkZSBpcyBhIFwiICsgdmFsdWUucm93cyArIFwieFwiICsgdmFsdWUuY29scyArIFwiLlwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmVyaWZ5KG1hdDogTWF0cml4KSB7XHJcbiAgICAgICAgdGhpcy5yb3dJbmRleGVyLnZlcmlmeShtYXQpO1xyXG4gICAgICAgIHRoaXMuY29sSW5kZXhlci52ZXJpZnkobWF0KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmFic3RyYWN0IGNsYXNzIENvb3JkaW5hdGVJbmRleGVyIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERJTUVOU0lPTl9OQU1FUyA9IFtcIlwiLCBcInJvd1wiLCBcImNvbHVtblwiXTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShkaW1lbnNpb246IDEgfCAyLCBzZWxlY3RlZEluZGljZXM6IE1hdHJpeCB8IFwiOlwiKSB7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkSW5kaWNlcyA9PT0gXCI6XCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbGxDb29yZGluYXRlSW5kZXhlcihkaW1lbnNpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzZWxlY3RlZEluZGljZXMuZGF0YVR5cGUgPT09IFwibG9naWNhbFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTG9naWNhbENvb3JkaW5hdGVJbmRleGVyKGRpbWVuc2lvbiwgc2VsZWN0ZWRJbmRpY2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVndWxhckNvb3JkaW5hdGVJbmRleGVyKGRpbWVuc2lvbiwgc2VsZWN0ZWRJbmRpY2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGRpbWVuc2lvbjogMSB8IDI7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGRpbWVuc2lvbjogMSB8IDIpIHtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbiA9IGRpbWVuc2lvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0U2VsZWN0ZWRJbmRpY2VzKG1hdDogTWF0cml4KSA6IHJlYWRvbmx5IG51bWJlcltdO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCB2ZXJpZnkobWF0OiBNYXRyaXgpIDogdm9pZDtcclxuXHJcbn1cclxuXHJcbmNsYXNzIFJlZ3VsYXJDb29yZGluYXRlSW5kZXhlciBleHRlbmRzIENvb3JkaW5hdGVJbmRleGVyIHtcclxuXHJcbiAgICBwcml2YXRlIHNlbGVjdGVkSW5kaWNlczogcmVhZG9ubHkgbnVtYmVyW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGRpbWVuc2lvbjogMSB8IDIsIHNlbGVjdGVkSW5kaWNlczogTWF0cml4KSB7XHJcbiAgICAgICAgc3VwZXIoZGltZW5zaW9uKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kaWNlcyA9IHNlbGVjdGVkSW5kaWNlcy5kYXRhXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBnZXRTZWxlY3RlZEluZGljZXMobWF0OiBNYXRyaXgpOiByZWFkb25seSBudW1iZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJbmRpY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2ZXJpZnkobWF0OiBNYXRyaXgpIHtcclxuICAgICAgICBsZXQgZGltTGVuID0gbWF0Lmxlbmd0aCh0aGlzLmRpbWVuc2lvbik7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMuZm9yRWFjaChpbmRleCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDEgfHwgZGltTGVuIDwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IENvb3JkaW5hdGVJbmRleGVyLkRJTUVOU0lPTl9OQU1FU1t0aGlzLmRpbWVuc2lvbl0gKyBcIiBpbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kcyBmb3IgdGhlIHNvdXJjZSBtYXRyaXguXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIEFsbENvb3JkaW5hdGVJbmRleGVyIGV4dGVuZHMgQ29vcmRpbmF0ZUluZGV4ZXIge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkaW1lbnNpb246IDEgfCAyKSB7XHJcbiAgICAgICAgc3VwZXIoZGltZW5zaW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2VsZWN0ZWRJbmRpY2VzKG1hdDogTWF0cml4KTogcmVhZG9ubHkgbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiBNYXRsYWJNYXRoLnJhbmdlKDEsIG1hdC5sZW5ndGgodGhpcy5kaW1lbnNpb24pKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmVyaWZ5KG1hdDogTWF0cml4KSB7XHJcbiAgICAgICAgLy8gYWx3YXlzIHZhbGlkXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBMb2dpY2FsQ29vcmRpbmF0ZUluZGV4ZXIgZXh0ZW5kcyBDb29yZGluYXRlSW5kZXhlciB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBsb2dpY2FsU2VsZWN0aW9uOiBNYXRyaXg7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlbGVjdGVkSW5kaWNlczogcmVhZG9ubHkgbnVtYmVyW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGRpbWVuc2lvbjogMSB8IDIsIGxvZ2ljYWxTZWxlY3Rpb246IE1hdHJpeCkge1xyXG4gICAgICAgIHN1cGVyKGRpbWVuc2lvbik7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW5kaWNlcyA6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgbG9naWNhbFNlbGVjdGlvbi5kYXRhLmZvckVhY2goKGxvZ2ljYWxWYWx1ZSwgaSkgPT4gbG9naWNhbFZhbHVlICYmIHNlbGVjdGVkSW5kaWNlcy5wdXNoKGkrMSkpOyAvLyBpKzEgdG8gY29udmVydCB0byBNQVRMQUIgMSBiYXNlZCBpbmRleGluZ1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRpY2VzID0gc2VsZWN0ZWRJbmRpY2VzO1xyXG4gICAgICAgIHRoaXMubG9naWNhbFNlbGVjdGlvbiA9IGxvZ2ljYWxTZWxlY3Rpb247XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBnZXRTZWxlY3RlZEluZGljZXMobWF0OiBNYXRyaXgpOiByZWFkb25seSBudW1iZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJbmRpY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2ZXJpZnkobWF0OiBNYXRyaXgpIHtcclxuICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBsb2dpY2FsIG1hdHJpeCBpcyBub3QgbGFyZ2VyIHRoYW4gdGhlIHJlbGV2YW50IGRpbWVuc2lvblxyXG4gICAgICAgIGxldCBsb2dpY2FsTGVuZ3RoID0gdGhpcy5sb2dpY2FsU2VsZWN0aW9uLm51bWVsO1xyXG4gICAgICAgIGxldCBkaW1MZW4gPSBtYXQubGVuZ3RoKHRoaXMuZGltZW5zaW9uKTtcclxuICAgICAgICBpZiAobG9naWNhbExlbmd0aCA+IGRpbUxlbikge1xyXG4gICAgICAgICAgICB0aHJvdyBcIkxvZ2ljYWwgaW5kZXggbWF0cml4IHRvIHNlbGVjdCBcIiArIENvb3JkaW5hdGVJbmRleGVyLkRJTUVOU0lPTl9OQU1FU1t0aGlzLmRpbWVuc2lvbl0gK1xyXG4gICAgICAgICAgICBcInMgaGFzIFwiICsgbG9naWNhbExlbmd0aCArIFwiIGVsZW1lbnRzLCBidXQgc291cmNlIG1hdHJpeCBvbmx5IGhhcyBcIiArIGRpbUxlbiArXHJcbiAgICAgICAgICAgIENvb3JkaW5hdGVJbmRleGVyLkRJTUVOU0lPTl9OQU1FU1t0aGlzLmRpbWVuc2lvbl0gKyBcInMuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgTGluZWFyU3ViYXJyYXkgZXh0ZW5kcyBTdWJhcnJheSB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoaW5kaWNlczogTWF0cml4IHwgXCI6XCIpIHtcclxuICAgICAgICBpZiAoaW5kaWNlcyA9PT0gXCI6XCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbGxMaW5lYXJTdWJhcnJheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmRpY2VzLmRhdGFUeXBlID09PSBcImxvZ2ljYWxcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExvZ2ljYWxMaW5lYXJTdWJhcnJheShpbmRpY2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVndWxhckxpbmVhclN1YmFycmF5KGluZGljZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIFJlZ3VsYXJMaW5lYXJTdWJhcnJheSBleHRlbmRzIExpbmVhclN1YmFycmF5IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2VsZWN0ZWRJbmRpY2VzOiBNYXRyaXg7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGluZGljZXM6IE1hdHJpeCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMgPSBpbmRpY2VzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgdmVyaWZ5KG1hdDogTWF0cml4KSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMuZGF0YS5mb3JFYWNoKGluZGV4ID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgMSB8fCBtYXQubnVtZWwgPCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJJbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kcyBmb3IgdGhlIHNvdXJjZSBtYXRyaXguXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZFZhbHVlKHNvdXJjZTogTWF0cml4KSA6IE1hdHJpeCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLnJvd3MsIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLmNvbHMsXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLmRhdGEubWFwKGluZGV4ID0+IHNvdXJjZS5hdExpbmVhcihpbmRleCkpLFxyXG4gICAgICAgICAgICBzb3VyY2UuZGF0YVR5cGVcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgYXNzaWduKHRhcmdldDogTWF0cml4LCB2YWx1ZTogTWF0cml4KSB7XHJcbiAgICAgICAgaWYgKHZhbHVlLmlzU2NhbGFyKSB7XHJcbiAgICAgICAgICAgIGxldCBzID0gdmFsdWUuc2NhbGFyVmFsdWUoKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMuZGF0YS5mb3JFYWNoKGluZGV4ID0+IHtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5zZXRMaW5lYXIoaW5kZXgsIHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3RlZEluZGljZXMubnVtZWwgPT0gdmFsdWUubnVtZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMuZGF0YS5mb3JFYWNoKChpbmRleCwgdmFsdWVJbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNldExpbmVhcihpbmRleCwgdmFsdWUuYXRMaW5lYXIodmFsdWVJbmRleCkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aHJvdyBcIlRoZSBsZW5ndGggb2YgdGhlIFJIUyBtYXRyaXggKFwiICsgdmFsdWUubnVtZWwgKyBcIikgZG9lcyBub3QgbWF0Y2ggdGhlXCIgK1xyXG4gICAgICAgICAgICBcIiBudW1iZXIgb2YgaW5kaWNlcyBzZWxlY3RlZCBmcm9tIHRoZSBtYXRyaXggb24gdGhlIExIUyAoXCIgKyB0aGlzLnNlbGVjdGVkSW5kaWNlcy5udW1lbCArIFwiKS5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9zZWxlY3Rpb24obWF0OiBNYXRyaXgpIHtcclxuICAgICAgICB2YXIgdGFibGUgPSAkKFwiPHRhYmxlPjwvdGFibGU+XCIpO1xyXG4gICAgICAgIHRhYmxlLmFkZENsYXNzKFwibWF0bGFiLWluZGV4XCIpO1xyXG4gICAgICAgIHRhYmxlLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgbWF0LmNvbG9yKTtcclxuICAgICAgICBsZXQgaW5kaWNlc1NldCA9IG5ldyBTZXQodGhpcy5zZWxlY3RlZEluZGljZXMuZGF0YSk7XHJcbiAgICAgICAgZm9yICh2YXIgciA9IDE7IHIgPD0gbWF0LnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSAkKFwiPHRyPjwvdHI+XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmQodHIpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMTsgYyA8PSBtYXQuY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGQgPSAkKFwiPHRkPjxkaXYgY2xhc3M9J2hpZ2hsaWdodCc+PC9kaXY+PC90ZD5cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGljZXNTZXQuaGFzKG1hdC5saW5lYXJJbmRleChyLCBjKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5hZGRDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByYXdJbmRleEVsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgICAgICByYXdJbmRleEVsZW0uYWRkQ2xhc3MoXCJtYXRsYWItcmF3LWluZGV4XCIpO1xyXG4gICAgICAgICAgICAgICAgcmF3SW5kZXhFbGVtLmh0bWwoXCJcIiArIG1hdC5saW5lYXJJbmRleChyLGMpKTtcclxuICAgICAgICAgICAgICAgIHRkLmFwcGVuZChyYXdJbmRleEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgICAgICAgICAgdGVtcC5hZGRDbGFzcyhcIm1hdGxhYi1zY2FsYXJcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcFNwYW4gPSAkKFwiPHNwYW4+PC9zcGFuPlwiKTtcclxuICAgICAgICAgICAgICAgIHRlbXBTcGFuLmh0bWwoXCJcIiArIG1hdC5hdChyLGMpKTtcclxuICAgICAgICAgICAgICAgIHRlbXAuYXBwZW5kKHRlbXBTcGFuKTtcclxuICAgICAgICAgICAgICAgIHRkLmFwcGVuZCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZCh0ZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0YWJsZVswXS5vdXRlckhUTUw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEFsbExpbmVhclN1YmFycmF5IGV4dGVuZHMgTGluZWFyU3ViYXJyYXkge1xyXG5cclxuICAgIHB1YmxpYyB2ZXJpZnkobWF0OiBNYXRyaXgpIHtcclxuICAgICAgICAvLyBBbHdheXMgdmFsaWRcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZFZhbHVlKHNvdXJjZTogTWF0cml4KSA6IE1hdHJpeCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoc291cmNlLm51bWVsLCAxLCBzb3VyY2UuZGF0YSwgc291cmNlLmRhdGFUeXBlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGFzc2lnbih0YXJnZXQ6IE1hdHJpeCwgdmFsdWU6IE1hdHJpeCkge1xyXG4gICAgICAgIGlmICh2YWx1ZS5pc1NjYWxhcikge1xyXG4gICAgICAgICAgICB0YXJnZXQuZmlsbCh2YWx1ZS5zY2FsYXJWYWx1ZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0Lm51bWVsID09IHZhbHVlLm51bWVsKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5zZXRBbGwodmFsdWUuZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRocm93IFwiVGhlIGxlbmd0aCBvZiB0aGUgUkhTIG1hdHJpeCAoXCIgKyB2YWx1ZS5udW1lbCArIFwiKSBkb2VzIG5vdCBtYXRjaCB0aGVcIiArXHJcbiAgICAgICAgICAgIFwiIG51bWJlciBvZiBpbmRpY2VzIHNlbGVjdGVkIGZyb20gdGhlIG1hdHJpeCBvbiB0aGUgTEhTIChcIiArIHRhcmdldC5udW1lbCArIFwiKS5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9zZWxlY3Rpb24obWF0OiBNYXRyaXgpIHtcclxuICAgICAgICB2YXIgdGFibGUgPSAkKFwiPHRhYmxlPjwvdGFibGU+XCIpO1xyXG4gICAgICAgIHRhYmxlLmFkZENsYXNzKFwibWF0bGFiLWluZGV4XCIpO1xyXG4gICAgICAgIHRhYmxlLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgbWF0LmNvbG9yKTtcclxuICAgICAgICBmb3IgKHZhciByID0gMTsgciA8PSBtYXQucm93czsgKytyKSB7XHJcbiAgICAgICAgICAgIHZhciB0ciA9ICQoXCI8dHI+PC90cj5cIik7XHJcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZCh0cik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGMgPSAxOyBjIDw9IG1hdC5jb2xzOyArK2MpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0ZCA9ICQoXCI8dGQ+PGRpdiBjbGFzcz0naGlnaGxpZ2h0Jz48L2Rpdj48L3RkPlwiKTtcclxuICAgICAgICAgICAgICAgIHRkLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJhd0luZGV4RWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuICAgICAgICAgICAgICAgIHJhd0luZGV4RWxlbS5hZGRDbGFzcyhcIm1hdGxhYi1yYXctaW5kZXhcIik7XHJcbiAgICAgICAgICAgICAgICByYXdJbmRleEVsZW0uaHRtbChcIlwiICsgbWF0LmxpbmVhckluZGV4KHIsYykpO1xyXG4gICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJhd0luZGV4RWxlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wLmFkZENsYXNzKFwibWF0bGFiLXNjYWxhclwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wU3BhbiA9ICQoXCI8c3Bhbj48L3NwYW4+XCIpO1xyXG4gICAgICAgICAgICAgICAgdGVtcFNwYW4uaHRtbChcIlwiICsgbWF0LmF0KHIsYykpO1xyXG4gICAgICAgICAgICAgICAgdGVtcC5hcHBlbmQodGVtcFNwYW4pO1xyXG4gICAgICAgICAgICAgICAgdGQuYXBwZW5kKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRhYmxlWzBdLm91dGVySFRNTDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTG9naWNhbExpbmVhclN1YmFycmF5IGV4dGVuZHMgTGluZWFyU3ViYXJyYXkge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBsb2dpY2FsU2VsZWN0aW9uOiBNYXRyaXg7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2VsZWN0ZWRJbmRpY2VzOiByZWFkb25seSBudW1iZXJbXTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobG9naWNhbFNlbGVjdGlvbjogTWF0cml4KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmxvZ2ljYWxTZWxlY3Rpb24gPSBsb2dpY2FsU2VsZWN0aW9uO1xyXG4gICAgICAgIGFzc2VydChsb2dpY2FsU2VsZWN0aW9uLmRhdGFUeXBlID09PSBcImxvZ2ljYWxcIik7XHJcblxyXG4gICAgICAgIGxldCBzZWxlY3RlZEluZGljZXMgOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgICAgIGxvZ2ljYWxTZWxlY3Rpb24uZGF0YS5mb3JFYWNoKChsb2dpY2FsVmFsdWUsIGkpID0+IGxvZ2ljYWxWYWx1ZSAmJiBzZWxlY3RlZEluZGljZXMucHVzaChpKzEpKTsgLy8gaSsxIHRvIGNvbnZlcnQgdG8gTUFUTEFCIDEgYmFzZWQgaW5kZXhpbmdcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kaWNlcyA9IHNlbGVjdGVkSW5kaWNlcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHZlcmlmeShtYXQ6IE1hdHJpeCkge1xyXG4gICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGxvZ2ljYWwgbWF0cml4IGlzIG5vdCBsYXJnZXIgdGhhbiB0aGUgb25lIHdlJ3JlIGluZGV4aW5nXHJcbiAgICAgICAgbGV0IGxvZ2ljYWxMZW5ndGggPSB0aGlzLmxvZ2ljYWxTZWxlY3Rpb24ubnVtZWw7XHJcbiAgICAgICAgbGV0IG1hdExlbmd0aCA9IG1hdC5udW1lbDtcclxuICAgICAgICBpZiAobG9naWNhbExlbmd0aCA+IG1hdExlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcIkxvZ2ljYWwgaW5kZXggbWF0cml4IGhhcyBcIiArIGxvZ2ljYWxMZW5ndGhcclxuICAgICAgICAgICAgKyBcIiBlbGVtZW50cywgYnV0IHNvdXJjZSBtYXRyaXggb25seSBoYXMgXCIgKyBtYXRMZW5ndGggKyBcIiBlbGVtZW50cy5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRWYWx1ZShzb3VyY2U6IE1hdHJpeCkgOiBNYXRyaXgge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZERhdGEgPSB0aGlzLnNlbGVjdGVkSW5kaWNlcy5tYXAoaSA9PiBzb3VyY2UuYXRMaW5lYXIoaSkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5sb2dpY2FsU2VsZWN0aW9uLnJvd3MgPT09IDEpIHtcclxuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIC0gaWYgdGhlIGxvZ2ljYWwgaW5kZXggbWF0cml4IGlzIGEgcm93IHZlY3RvciwgcmVzdWx0IGlzIHNoYXBlZCBhcyBhIHJvdyB2ZWN0b3JcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoMSwgc2VsZWN0ZWREYXRhLmxlbmd0aCwgc2VsZWN0ZWREYXRhLCBzb3VyY2UuZGF0YVR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZ2VuZXJhbCBjYXNlIC0gc2hhcGVkIGFzIGEgY29sdW1uIHZlY3RvclxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChzZWxlY3RlZERhdGEubGVuZ3RoLCAxLCBzZWxlY3RlZERhdGEsIHNvdXJjZS5kYXRhVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgYXNzaWduKHRhcmdldDogTWF0cml4LCByaHM6IE1hdHJpeCkge1xyXG5cclxuICAgICAgICBpZiAocmhzLmlzU2NhbGFyKSB7XHJcbiAgICAgICAgICAgIGxldCBzY2FsYXJWYWx1ZSA9IHJocy5zY2FsYXJWYWx1ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kaWNlcy5mb3JFYWNoKHNlbGVjdGVkSW5kZXggPT4gdGFyZ2V0LnNldExpbmVhcihzZWxlY3RlZEluZGV4LCBzY2FsYXJWYWx1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdGVkSW5kaWNlcy5sZW5ndGggPT09IHJocy5udW1lbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kaWNlcy5mb3JFYWNoKChzZWxlY3RlZEluZGV4LCBpKSA9PiB0YXJnZXQuc2V0TGluZWFyKHNlbGVjdGVkSW5kZXgsIHJocy5kYXRhW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBcIlRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIFJIUyBtYXRyaXggKFwiICsgcmhzLm51bWVsICsgXCIpIGRvZXMgbm90IG1hdGNoIHRoZVwiICtcclxuICAgICAgICAgICAgXCIgbnVtYmVyIG9mIHNlbGVjdGVkIGVsZW1lbnRzIGluIHRoZSBsb2dpY2FsbHkgaW5kZXhlZCBtYXRyaXggb24gdGhlIExIUyAoXCIgKyB0aGlzLnNlbGVjdGVkSW5kaWNlcy5sZW5ndGggKyBcIikuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2aXN1YWxpemVfc2VsZWN0aW9uKG1hdDogTWF0cml4KSB7XHJcbiAgICAgICAgdmFyIHRhYmxlID0gJChcIjx0YWJsZT48L3RhYmxlPlwiKTtcclxuICAgICAgICB0YWJsZS5hZGRDbGFzcyhcIm1hdGxhYi1pbmRleFwiKTtcclxuICAgICAgICB0YWJsZS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIG1hdC5jb2xvcik7XHJcbiAgICAgICAgbGV0IGluZGljZXNTZXQgPSBuZXcgU2V0KHRoaXMuc2VsZWN0ZWRJbmRpY2VzKTtcclxuICAgICAgICBmb3IgKHZhciByID0gMTsgciA8PSBtYXQucm93czsgKytyKSB7XHJcbiAgICAgICAgICAgIHZhciB0ciA9ICQoXCI8dHI+PC90cj5cIik7XHJcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZCh0cik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGMgPSAxOyBjIDw9IG1hdC5jb2xzOyArK2MpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZCA9ICQoXCI8dGQ+PGRpdiBjbGFzcz0naGlnaGxpZ2h0Jz48L2Rpdj48L3RkPlwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBpc1NlbGVjdGVkID0gaW5kaWNlc1NldC5oYXMobWF0LmxpbmVhckluZGV4KHIsIGMpKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKXtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5hZGRDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBsb2dpY2FsSW5kZXhFbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgICAgICAgICAgbG9naWNhbEluZGV4RWxlbS5hZGRDbGFzcyhcIm1hdGxhYi1yYXctaW5kZXhcIik7XHJcbiAgICAgICAgICAgICAgICBsb2dpY2FsSW5kZXhFbGVtLmh0bWwoaXNTZWxlY3RlZCA/IFwiMVwiIDogXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgdGQuYXBwZW5kKGxvZ2ljYWxJbmRleEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgICAgICAgICAgdGVtcC5hZGRDbGFzcyhcIm1hdGxhYi1zY2FsYXJcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcFNwYW4gPSAkKFwiPHNwYW4+PC9zcGFuPlwiKTtcclxuICAgICAgICAgICAgICAgIHRlbXBTcGFuLmh0bWwoXCJcIittYXQuYXQocixjKSk7XHJcbiAgICAgICAgICAgICAgICB0ZW1wLmFwcGVuZCh0ZW1wU3Bhbik7XHJcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmQodGVtcCk7XHJcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmQodGQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRhYmxlWzBdLm91dGVySFRNTDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZhcmlhYmxlIGltcGxlbWVudHMgVmlzdWFsaXphYmxlIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlOiBNYXRyaXg7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW06IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdmFsdWVFbGVtOiBKUXVlcnk7XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHZhbHVlOiBNYXRyaXgpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtID0gJCgnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBtYXRsYWItdmFyLWJhZGdlXCI+JyArIG5hbWUgKyAnPC9zcGFuPjwvbGk+JylcclxuICAgICAgICAgICAgLnByZXBlbmQodGhpcy52YWx1ZUVsZW0gPSAkKCc8c3BhbiBjbGFzcz1cIm1hdGxhYi12YXItaG9sZGVyXCI+PC9zcGFuPicpKTtcclxuXHJcbiAgICAgICAgLy8gU2hvdyBpbml0aWFsIHZhbHVlXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZnJlc2goKSB7XHJcbiAgICAgICAgdmFyIGhvbGRlciA9IHRoaXMuZWxlbS5maW5kKFwiLm1hdGxhYi12YXItaG9sZGVyXCIpO1xyXG4gICAgICAgIGhvbGRlci5lbXB0eSgpO1xyXG4gICAgICAgIGhvbGRlci5odG1sKHRoaXMudmFsdWUudmlzdWFsaXplX2h0bWwoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZhbHVlKHZhbHVlOiBNYXRyaXgpIHtcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykudmFsdWUgPSB2YWx1ZS5jbG9uZSgpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IFJlbW92ZT9cclxuICAgIC8vIG1hdHJpeFZhbHVlIDogZnVuY3Rpb24oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMudmFsdWUubWF0cml4VmFsdWUoKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICB2aXN1YWxpemVfaHRtbChvcHRpb25zPzogVmlzdWFsaXphdGlvbk9wdGlvbnMpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS52aXN1YWxpemVfaHRtbChvcHRpb25zKTtcclxuICAgIH1cclxufVxyXG5cclxudHlwZSBNYXRsYWJGdW5jdGlvbkZ1bmNUeXBlID0gKGFyZ3M6IE1hdHJpeFtdLCBjb25zdHJ1Y3Q6IENvZGVDb25zdHJ1Y3QpID0+IE1hdHJpeDtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYXRsYWJGdW5jdGlvbiB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBUkdTX0lORiA9IC0xO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gbnVtQXJncyBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyByZXF1aXJlZCBmb3IgdGhlIGZ1bmN0aW9uLiBJZiBhIHBhaXIgb2YgbnVtYmVycywgc3BlY2lmaWVzIGFcclxuICAgICAqICAgICAgICAgICAgICAgIHJhbmdlIChpbmNsdXNpdmUpIG9mIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIGFsbG93ZWQuXHJcbiAgICAgKiBAcGFyYW0gZnVuYyBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgYXJndW1lbnQgdmFsdWVzIHBhc3NlZCBpbnRvIHRoaXMgTUFUTEFCIGZ1bmN0aW9uIGFuZCByZXR1cm5zXHJcbiAgICAgKiAgICAgICAgICAgICB0aGUgdmFsdWUgb2YgdGhlIHJlc3VsdCBmcm9tIHRoYXQgZnVuY3Rpb24uIChOb3RlIHRoaXMgaXMgYSBUeXBlc2NyaXB0IGZ1bmN0aW9uIHRoYXRcclxuICAgICAqICAgICAgICAgICAgIGVzc2VudGlhbGx5IFwiZmFrZXNcIiB0aGUgYmxhY2stYm94IGJlaGF2aW9yIG9mIHRoZSBNQVRMQUIgZnVuY3Rpb24gYmVoaW5kIHRoZSBzY2VuY2VzLilcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBudW1BcmdzOiBudW1iZXIgfCBbbnVtYmVyLCBudW1iZXJdLCBwcml2YXRlIHJlYWRvbmx5IGZ1bmMgOiBNYXRsYWJGdW5jdGlvbkZ1bmNUeXBlKSB7fVxyXG5cclxuICAgIHB1YmxpYyBvcGVyYXRlKGNvbnN0cnVjdDogQ29kZUNvbnN0cnVjdCwgYXJnczogTWF0cml4W10pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VjY2Vzc1Jlc3VsdCh0aGlzLmZ1bmMoYXJncywgY29uc3RydWN0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoKG1zZykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKGNvbnN0cnVjdCwgbXNnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1ZhbGlkTnVtYmVyT2ZBcmdzKG46IG51bWJlcikge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMubnVtQXJncykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtQXJnc1swXSA8PSBuICYmIChuIDw9IHRoaXMubnVtQXJnc1sxXSB8fCB0aGlzLm51bUFyZ3NbMV0gPT09IE1hdGxhYkZ1bmN0aW9uLkFSR1NfSU5GKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuID09PSB0aGlzLm51bUFyZ3M7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU2l6ZWRNYXRyaXgoYXJnczogTWF0cml4W10pIHtcclxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KDEsMSxbMF0sXCJkb3VibGVcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIGxldCBhcmcgPSBhcmdzWzBdO1xyXG4gICAgICAgIGlmIChhcmcuaXNTY2FsYXIpIHtcclxuICAgICAgICAgICAgLy8gQSBzY2FsYXIgaXMgYWNjZXB0YWJsZSBhbmQgcHJvZHVjZXMgYSBzcXVhcmUgbWF0cml4XHJcbiAgICAgICAgICAgIGxldCBzaXplID0gYXJnLnNjYWxhclZhbHVlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KHNpemUsIHNpemUsIG5ldyBBcnJheShzaXplKnNpemUpLCBcImRvdWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgbXVzdCBiZSBhIHJvdyB2ZWN0b3Igd2l0aCByZWFsIHZhbHVlc1xyXG4gICAgICAgICAgICBpZiAoYXJnLnJvd3MgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiVGhlIG9uZS1hcmd1bWVudCB2ZXJzaW9uIG9mIHRoaXMgZnVuY3Rpb24gcmVxdWlyZXMgYSBudW1lcmljIHJvdyB2ZWN0b3IgYXMgYW4gaW5wdXQuXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChhcmcuYXRMaW5lYXIoMSksIGFyZy5hdExpbmVhcigyKSwgbmV3IEFycmF5KGFyZy5hdExpbmVhcigxKSAqIGFyZy5hdExpbmVhcigyKSksIFwiZG91YmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBhcmdzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIGxldCBudW1Sb3dzID0gYXJnc1swXTtcclxuICAgICAgICBsZXQgbnVtQ29scyA9IGFyZ3NbMV07XHJcbiAgICAgICAgaWYgKCFudW1Sb3dzLmlzU2NhbGFyKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiVGhlIGFyZ3VtZW50IGZvciB0aGUgbnVtYmVyIG9mIHJvd3MgbXVzdCBiZSBhIHNjYWxhci5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFudW1Db2xzLmlzU2NhbGFyKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiVGhlIGFyZ3VtZW50IGZvciB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgbXVzdCBiZSBhIHNjYWxhci5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgobnVtUm93cy5zY2FsYXJWYWx1ZSgpLCBudW1Db2xzLnNjYWxhclZhbHVlKCksIG5ldyBBcnJheShudW1Sb3dzLnNjYWxhclZhbHVlKCkgKiBudW1Db2xzLnNjYWxhclZhbHVlKCkpLCBcImRvdWJsZVwiKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IFwiU29ycnksIE1hdENyYWIgZG9lcyBub3Qgc3VwcG9ydCBtYXRyaWNlcyB3aXRoIG1vcmUgdGhhbiB0d28gZGltZW5zaW9ucy5cIjtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIG1hdHJpeEFjY3VtdWxhdGlvbihtYXQ6IE1hdHJpeCwgZGltZW5zaW9uOiBNYXRyaXggfCB1bmRlZmluZWQsIG9wZXJhdGU6IChhOm51bWJlciwgYjpudW1iZXIpID0+IG51bWJlcikge1xyXG4gICAgbGV0IGRpbSA9IDE7IC8vIGRlZmF1bHQgdW5sZXNzIG92ZXJ3cml0dGVuXHJcbiAgICBpZiAoZGltZW5zaW9uKSB7XHJcbiAgICAgICAgaWYgKCFkaW1lbnNpb24uaXNTY2FsYXIgfHwgZGltZW5zaW9uLnNjYWxhclZhbHVlKCkgPCAxIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKGRpbWVuc2lvbi5zY2FsYXJWYWx1ZSgpKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBcIlRoZSBzZWNvbmQgYXJndW1lbnQgc3BlY2lmeWluZyB0aGUgb3BlcmF0aW9uIGRpbWVuc2lvbiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBzY2FsYXIuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpbSA9IGRpbWVuc2lvbi5zY2FsYXJWYWx1ZSgpO1xyXG4gICAgfSBcclxuXHJcbiAgICBcclxuICAgIC8vIFNwZWNpYWwgY2FzZTogaWYgYSByb3cvY29sIHZlY3Rvciwgc3VtIHdob2xlIHRoaW5nXHJcbiAgICBpZiAobWF0LmlzVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoMSwxLFttYXQuZGF0YS5yZWR1Y2Uob3BlcmF0ZSldLCBcImRvdWJsZVwiKTsgLy8gd2lsbCBjb2VyY2Ugb3RoZXIgbnVtZXJpYyBkYXRhdHlwZXMgdG8gZG91YmxlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRpbSA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBtYXQuYWNjdW11bGF0ZUNvbHMob3BlcmF0ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkaW0gPT09IDIpIHtcclxuICAgICAgICByZXR1cm4gbWF0LmFjY3VtdWxhdGVSb3dzKG9wZXJhdGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gQmVjYXVzZSBNYXRDcmFiIGRvZXMgbm90IHN1cHBvcnQgbW9yZSB0aGFuIHR3byBkaW1lbnNpb25hbCBtYXRyaWNlcyxcclxuICAgICAgICAvLyBzdW0gd2l0aCBhIGRpbWVuc2lvbiBoaWdoZXIgdGhhbiAyIHdpbGwgYWx3YXlzIGp1c3QgcmV0dXJuIHRoZSBvcmlnaW5hbCBtYXRyaXhcclxuICAgICAgICByZXR1cm4gbWF0LmNsb25lKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hdHJpeFVuYXJ5RnVuY3Rpb24obWF0OiBNYXRyaXgsIG9wZXJhdGU6ICh2YWw6bnVtYmVyKSA9PiBudW1iZXIpIHtcclxuICAgIG1hdCA9IG1hdC5jbG9uZSgpO1xyXG4gICAgbWF0Lm9wZXJhdGVBbGwob3BlcmF0ZSk7XHJcbiAgICByZXR1cm4gbWF0O1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBtYXRyaXhCaW5hcnlGdW5jdGlvbihtYXQxOiBNYXRyaXgsIG1hdDI6IE1hdHJpeCwgb3BlcmF0ZTogKHZhbDE6bnVtYmVyLCB2YWwyOiBudW1iZXIpID0+IG51bWJlcikge1xyXG4vLyAgICAgbWF0ID0gbWF0LmNsb25lKCk7XHJcbi8vICAgICBtYXQub3BlcmF0ZUFsbChvcGVyYXRlKTtcclxuLy8gICAgIHJldHVybiBtYXQ7XHJcbi8vIH1cclxuXHJcbmZ1bmN0aW9uIG1hdHJpeEZsaXB1ZChhcmdzOiBNYXRyaXhbXSkge1xyXG4gICAgbGV0IG9yaWcgPSBhcmdzWzBdO1xyXG4gICAgbGV0IG5ld01hdCA9IG9yaWcuY2xvbmUoKTtcclxuICAgIGZvcihsZXQgYyA9IDE7IGMgPD0gb3JpZy5jb2xzOyArK2MpIHtcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggb3JpZ2luYWwgYW5kIGZpbGwgbmV3IGluIGJhY2t3YXJkIGZhc2hpb24gZm9yIGVhY2ggY29sdW1uXHJcbiAgICAgICAgZm9yIChsZXQgcl9vcmlnID0gMSwgcl9uZXcgPSBuZXdNYXQucm93czsgcl9vcmlnIDw9IG9yaWcucm93czsgKytyX29yaWcsIC0tcl9uZXcpIHtcclxuICAgICAgICAgICAgbmV3TWF0LnNldEF0KHJfbmV3LCBjLCBvcmlnLmF0KHJfb3JpZywgYykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXdNYXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hdHJpeEZsaXBscihhcmdzOiBNYXRyaXhbXSkge1xyXG4gICAgbGV0IG9yaWcgPSBhcmdzWzBdO1xyXG4gICAgbGV0IG5ld01hdCA9IG9yaWcuY2xvbmUoKTtcclxuICAgIGZvcihsZXQgciA9IDE7IHIgPD0gb3JpZy5yb3dzOyArK3IpIHtcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggb3JpZ2luYWwgYW5kIGZpbGwgbmV3IGluIGJhY2t3YXJkIGZhc2hpb24gZm9yIGVhY2ggcm93XHJcbiAgICAgICAgZm9yIChsZXQgY19vcmlnID0gMSwgY19uZXcgPSBuZXdNYXQuY29sczsgY19vcmlnIDw9IG9yaWcuY29sczsgKytjX29yaWcsIC0tY19uZXcpIHtcclxuICAgICAgICAgICAgbmV3TWF0LnNldEF0KHIsIGNfbmV3LCBvcmlnLmF0KHIsIGNfb3JpZykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXdNYXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVuc3VwcG9ydGVkTWF0bGFiRnVuY3Rpb24obmFtZTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gKGFyZ3M6IE1hdHJpeFtdKSA9PiB7IHRocm93IGBTb3JyeSwgTWF0Q3JhYiBkb2VzIG5vdCBzdXBwb3J0IHRoZSAke25hbWV9IGZ1bmN0aW9uLmA7IH07XHJcbn1cclxuXHJcbmNvbnN0IE1BVExBQl9GVU5DVElPTlMgOiB7W2luZGV4OiBzdHJpbmddOiBNYXRsYWJGdW5jdGlvbn0gPSB7XHJcbiAgICBcImZsaXBsclwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIG1hdHJpeEZsaXBsciksXHJcbiAgICBcImZsaXB1ZFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIG1hdHJpeEZsaXB1ZCksXHJcbiAgICBcImZsaXBcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbihbMSwyXSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiB7XHJcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRyaXhGbGlwdWQoYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgZGltZW5zaW9uID0gYXJnc1sxXTtcclxuICAgICAgICAgICAgaWYgKCFkaW1lbnNpb24uaXNTY2FsYXIgfHwgZGltZW5zaW9uLnNjYWxhclZhbHVlKCkgPCAxIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKGRpbWVuc2lvbi5zY2FsYXJWYWx1ZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJUaGUgc2Vjb25kIGFyZ3VtZW50IHNwZWNpZnlpbmcgdGhlIGZsaXAgZGltZW5zaW9uIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIHNjYWxhci5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGRpbSA9IGRpbWVuc2lvbi5zY2FsYXJWYWx1ZSgpO1xyXG4gICAgICAgICAgICBpZiAoZGltID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0cml4RmxpcHVkKGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpbSA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeEZsaXBscihhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGZsaXBwaW5nIGFsb25nIGEgaGlnaGVyIGRpbWVuc2lvbiBkb2VzIG5vdGhpbmcsIHNpbmNlIE1hdENyYWIgb25seSBzdXBwb3J0cyAyRCBtYXRyaWNlc1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3NbMF0uY2xvbmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pLFxyXG4gICAgXCJyb3Q5MFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4ge1xyXG4gICAgICAgIGxldCBvcmlnID0gYXJnc1swXTtcclxuICAgICAgICBsZXQgbmV3TWF0ID0gTWF0cml4LmNyZWF0ZVNpemVkKG9yaWcuY29scywgb3JpZy5yb3dzLCBcImRvdWJsZVwiKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBsYXN0IGNvbHVtbiBiZWNvbWVzIGZpcnN0IHJvdywgMm5kIHRvIGxhc3QgY29sdW1uIGJlY29tZXMgMm5kIHJvdywgZXRjLlxyXG4gICAgICAgIGZvcihsZXQgYyA9IG9yaWcuY29scywgciA9IDE7IGMgPj0gMTsgLS1jLCArK3IpIHtcclxuICAgICAgICAgICAgbmV3TWF0LnNldFJvd0RhdGEociwgb3JpZy5jb2xEYXRhKGMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld01hdDtcclxuICAgIH0pLFxyXG4gICAgXCJ6ZXJvc1wiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKFswLE1hdGxhYkZ1bmN0aW9uLkFSR1NfSU5GXSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBjcmVhdGVTaXplZE1hdHJpeChhcmdzKS5maWxsKDApKSxcclxuICAgIFwib25lc1wiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKFswLE1hdGxhYkZ1bmN0aW9uLkFSR1NfSU5GXSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBjcmVhdGVTaXplZE1hdHJpeChhcmdzKS5maWxsKDEpKSxcclxuICAgIFwiZXllXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oWzAsTWF0bGFiRnVuY3Rpb24uQVJHU19JTkZdLCAoYXJnczogTWF0cml4W10pID0+IHtcclxuICAgICAgICBsZXQgbWF0ID0gY3JlYXRlU2l6ZWRNYXRyaXgoYXJncykuZmlsbCgwKTtcclxuICAgICAgICBsZXQgZGlhZ19sZW4gPSBNYXRoLm1pbihtYXQucm93cywgbWF0LmNvbHMpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDE7IGkgPD0gZGlhZ19sZW47ICsraSkge1xyXG4gICAgICAgICAgICBtYXQuc2V0QXQoaSwgaSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXQ7XHJcbiAgICB9KSxcclxuICAgIFwibWFnaWNcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IHtcclxuICAgICAgICBsZXQgbWF0ID0gY3JlYXRlU2l6ZWRNYXRyaXgoYXJncyk7XHJcbiAgICAgICAgbGV0IG4gPSBtYXQucm93czsgLy8gbWF0IHdpbGwgYmUgc3F1YXJlIHdpdGggc2lkZSBsZW5ndGggblxyXG4gICAgICAgIGlmIChuICUgMiAhPT0gMCkge1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIGRlIExhIExvdWJlcmUncyBtZXRob2QgZm9yIG9kZCBzaXplcy4gc3RhcnQgaW4gbWlkZGxlIG9mIHRvcCByb3csXHJcbiAgICAgICAgICAgIC8vIG1vdmUgZGlhZ29uYWxseSB1cC9yaWdodCB0byBmaWxsIGluIG4gZWxlbWVudHMuXHJcbiAgICAgICAgICAgIC8vIFRoZW4gZ28gZG93biBvbmUsIGFuZCByZXBlYXQgd2l0aCBhIG5ldyBkaWFnb25hbC4gRG8gdGhpcyBmb3IgbiBkaWFnb25hbHMuXHJcbiAgICBcclxuICAgICAgICAgICAgLy8gVmFsdWVzIHJhbmdlIGZyb20gMSB1cCB0aHJvdWdoIG5eMiwgaW5jbHVzaXZlXHJcbiAgICAgICAgICAgIGxldCB2YWwgPSAxO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIHVzZSAwIGJhc2VkIGluZGljZXMgaGVyZSwgYWRqdXN0IHdoZW4gdXNpbmcgc2V0QXQgYmVsb3dcclxuICAgICAgICAgICAgbGV0IHIgPSAwO1xyXG4gICAgICAgICAgICBsZXQgYyA9IE1hdGguZmxvb3Iobi8yKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEZpbGwgaW4gbiBkaWFnb25hbHNcclxuICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBuOyArK2QpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRWFjaCBkaWFnb25hbCBoYXMgbGVuZ3RoIG5cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXQuc2V0QXQociArIDEsIGMgKyAxLCB2YWwrKyk7IC8vICsxIHRvIGFkanVzdCB0byAxIGJhc2VkIGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgciA9IChyIC0gMSArIG4pICUgbjsgLy8gbW92ZSB1cCwgd3JhcCBpZiBuZWNlc3NhcnlcclxuICAgICAgICAgICAgICAgICAgICBjID0gKGMgKyAxICsgbikgJSBuOyAvLyBtb3ZlIHJpZ2h0LCB3cmFwIGlmIG5lY2Vzc2FyeVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIChOb3RlIHRoZSBleHRyYSBcIisgblwiIGF2b2lkcyBuZWdhdGl2ZSBudW1iZXJzIHRoYXQgd291bGQgYnJlYWsgdGhlICUgb3BlcmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBEcm9wIGRvd24gb25lIGFmdGVyIGZpbGxpbmcgaW4gZWFjaCBkaWFnb25hbFxyXG4gICAgICAgICAgICAgICAgLy8gVGhlcmUgd2FzIGFuIGV4dHJhIHIgLSAxIGFuZCBjICsgMSBlYXJsaWVyLCBzbyB3ZSBhbHNvIG5lZWQgdG8gdW5kbyB0aG9zZSxcclxuICAgICAgICAgICAgICAgIC8vIG1lYW5pbmcgd2Ugd2FudCByICsgMiBhbmQgYyAtIDEgdG8gYWNoaWV2ZSBhIG5ldCBvZiByICsgMVxyXG4gICAgICAgICAgICAgICAgciA9IChyICsgMiArIG4pICUgbjtcclxuICAgICAgICAgICAgICAgIGMgPSAoYyAtIDEgKyBuKSAlIG47XHJcbiAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaGUgbWFnaWMgYWxnb3JpdGhtIGZvciBldmVuIGNhc2VzIGlzIG1vcmUgY29tcGxpY2F0ZWQsIHNvIGxldCdzIGp1c3QgaGFyZGNvZGUgc29tZSBmb3Igbm93LlxyXG4gICAgICAgIGVsc2UgaWYgKG4gPT09IDIpIHtcclxuICAgICAgICAgICAgbWF0LnNldEFsbChbMSw0LDMsMl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuID09PSA0KSB7XHJcbiAgICAgICAgICAgIG1hdC5zZXRBbGwoWzE2LDUsOSw0LDIsMTEsNywxNCwzLDEwLDYsMTUsMTMsOCwxMiwxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG4gPT09IDYpIHtcclxuICAgICAgICAgICAgbWF0LnNldEFsbChbMzUsMywzMSw4LDMwLDQsMSwzMiw5LDI4LDUsMzYsNiw3LDIsMzMsMzQsMjksMjYsMjEsMjIsMTcsMTIsMTMsMTksMjMsMjcsMTAsMTQsMTgsMjQsMjUsMjAsMTUsMTYsMTFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobiA9PT0gOCkge1xyXG4gICAgICAgICAgICBtYXQuc2V0QWxsKFs2NCw5LDE3LDQwLDMyLDQxLDQ5LDgsMiw1NSw0NywyNiwzNCwyMywxNSw1OCwzLDU0LDQ2LDI3LDM1LDIyLDE0LDU5LDYxLDEyLDIwLDM3LDI5LDQ0LDUyLDUsNjAsMTMsMjEsMzYsMjgsNDUsNTMsNCw2LDUxLDQzLDMwLDM4LDE5LDExLDYyLDcsNTAsNDIsMzEsMzksMTgsMTAsNjMsNTcsMTYsMjQsMzMsMjUsNDgsNTYsMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuID09PSAxMCkge1xyXG4gICAgICAgICAgICBtYXQuc2V0QWxsKFs5Miw5OCw0LDg1LDg2LDE3LDIzLDc5LDEwLDExLDk5LDgwLDgxLDg3LDkzLDI0LDUsNiwxMiwxOCwxLDcsODgsMTksMjUsNzYsODIsMTMsOTQsMTAwLDgsMTQsMjAsMjEsMiw4Myw4OSw5NSw5Niw3NywxNSwxNiwyMiwzLDksOTAsOTEsOTcsNzgsODQsNjcsNzMsNTQsNjAsNjEsNDIsNDgsMjksMzUsMzYsNzQsNTUsNTYsNjIsNjgsNDksMzAsMzEsMzcsNDMsNTEsNTcsNjMsNjksNzUsMjYsMzIsMzgsNDQsNTAsNTgsNjQsNzAsNzEsNTIsMzMsMzksNDUsNDYsMjcsNDAsNDEsNDcsMjgsMzQsNjUsNjYsNzIsNTMsNTldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiU29ycnksIE1hdENyYWIgZG9lcyBub3Qgc3VwcG9ydCBtYWdpYyBtYXRyaWNlcyBvZiBldmVuIHNpemUgZ3JlYXRlciB0aGFuIHNpemUgMTAuXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hdDtcclxuICAgIH0pLFxyXG4gICAgXCJudW1lbFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gTWF0cml4LnNjYWxhcihhcmdzWzBdLm51bWVsLCBcImRvdWJsZVwiKSksXHJcbiAgICBcImxlbmd0aFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gTWF0cml4LnNjYWxhcihNYXRoLm1heChhcmdzWzBdLnJvd3MsIGFyZ3NbMF0uY29scyksIFwiZG91YmxlXCIpKSxcclxuICAgIFwic2l6ZVwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbmV3IE1hdHJpeCgxLCAyLCBbYXJnc1swXS5yb3dzLCBhcmdzWzBdLmNvbHNdLCBcImRvdWJsZVwiKSksXHJcblxyXG4gICAgXCJzdW1cIiA6IG5ldyBNYXRsYWJGdW5jdGlvbihbMSwyXSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhBY2N1bXVsYXRpb24oYXJnc1swXSwgYXJnc1sxXSwgKGE6bnVtYmVyLCBiOm51bWJlcikgPT4gYSArIGIpKSxcclxuICAgIFwicHJvZFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKFsxLDJdLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeEFjY3VtdWxhdGlvbihhcmdzWzBdLCBhcmdzWzFdLCAoYTpudW1iZXIsIGI6bnVtYmVyKSA9PiBhICogYikpLFxyXG4gICAgXCJtaW5cIiA6IG5ldyBNYXRsYWJGdW5jdGlvbihbMSwyXSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhBY2N1bXVsYXRpb24oYXJnc1swXSwgYXJnc1sxXSwgKGE6bnVtYmVyLCBiOm51bWJlcikgPT4gTWF0aC5taW4oYSwgYikpKSxcclxuICAgIFwibWF4XCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oWzEsMl0sIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4QWNjdW11bGF0aW9uKGFyZ3NbMF0sIGFyZ3NbMV0sIChhOm51bWJlciwgYjpudW1iZXIpID0+IE1hdGgubWF4KGEsIGIpKSksXHJcblxyXG4gICAgXCJzcXJ0XCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhVbmFyeUZ1bmN0aW9uKGFyZ3NbMF0sICh2YWw6bnVtYmVyKSA9PiBNYXRoLnNxcnQodmFsKSkpLFxyXG4gICAgXCJzaW5cIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeFVuYXJ5RnVuY3Rpb24oYXJnc1swXSwgKHZhbDpudW1iZXIpID0+IE1hdGguc2luKHZhbCkpKSxcclxuICAgIFwiY29zXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhVbmFyeUZ1bmN0aW9uKGFyZ3NbMF0sICh2YWw6bnVtYmVyKSA9PiBNYXRoLmNvcyh2YWwpKSksXHJcbiAgICBcInRhblwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC50YW4odmFsKSkpLFxyXG4gICAgXCJhc2luXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhVbmFyeUZ1bmN0aW9uKGFyZ3NbMF0sICh2YWw6bnVtYmVyKSA9PiBNYXRoLmFzaW4odmFsKSkpLFxyXG4gICAgXCJhY29zXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhVbmFyeUZ1bmN0aW9uKGFyZ3NbMF0sICh2YWw6bnVtYmVyKSA9PiBNYXRoLmFjb3ModmFsKSkpLFxyXG4gICAgXCJhdGFuXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhVbmFyeUZ1bmN0aW9uKGFyZ3NbMF0sICh2YWw6bnVtYmVyKSA9PiBNYXRoLmF0YW4odmFsKSkpLFxyXG4gICAgLy8gXCJhdGFuMlwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDIsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4QmluYXJ5RnVuY3Rpb24oYXJnc1swXSwgYXJnc1sxXSwgKHZhbDE6bnVtYmVyLCB2YWwyOiBudW1iZXIpID0+IE1hdGguYXRhbjIodmFsMSwgdmFsMikpKSxcclxuICAgIFwic2luaFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC5zaW5oKHZhbCkpKSxcclxuICAgIFwiY29zaFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC5jb3NoKHZhbCkpKSxcclxuICAgIFwidGFuaFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC50YW5oKHZhbCkpKSxcclxuICAgIFwiYXNpbmhcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeFVuYXJ5RnVuY3Rpb24oYXJnc1swXSwgKHZhbDpudW1iZXIpID0+IE1hdGguYXNpbmgodmFsKSkpLFxyXG4gICAgXCJhY29zaFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC5hY29zaCh2YWwpKSksXHJcbiAgICBcImF0YW5oXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhVbmFyeUZ1bmN0aW9uKGFyZ3NbMF0sICh2YWw6bnVtYmVyKSA9PiBNYXRoLmF0YW5oKHZhbCkpKSxcclxuXHJcbiAgICBcImRpc3BsYXlcIjogbmV3IE1hdGxhYkZ1bmN0aW9uKFsxLE1hdGxhYkZ1bmN0aW9uLkFSR1NfSU5GXSwgdW5zdXBwb3J0ZWRNYXRsYWJGdW5jdGlvbihcImRpc3BsYXlcIikpLFxyXG5cclxuICAgIFwiaW1zaG93XCI6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10sIGNvbnN0cnVjdDogQ29kZUNvbnN0cnVjdCkgPT4ge1xyXG4gICAgICAgIC8vIGNvbnN0cnVjdC5lbnZpcm9ubWVudC5zaG93SW1hZ2UoKVxyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KDEsIDEsIFsxXSwgXCJkb3VibGVcIilcclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRW52aXJvbm1lbnRMaXN0ZW5lciB7XHJcbiAgICBvblZhcmlhYmxlU2V0KHZhcmk6IFZhcmlhYmxlKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVudmlyb25tZW50IHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGdsb2JhbCA6IEVudmlyb25tZW50O1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0R2xvYmFsRW52aXJvbm1lbnQoZWxlbTogSlF1ZXJ5KSB7XHJcbiAgICAgICAgbGV0IGdsb2JhbCA9IG5ldyBFbnZpcm9ubWVudChlbGVtKTtcclxuXHJcbiAgICAgICAgYXNNdXRhYmxlKEVudmlyb25tZW50KS5nbG9iYWwgPSBnbG9iYWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbGVtPyA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdmFycyA6IHtbaW5kZXg6c3RyaW5nXSA6IFZhcmlhYmxlIHwgdW5kZWZpbmVkIH0gPSB7fTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZnVuY3Rpb25zIDoge1tpbmRleDpzdHJpbmddIDogTWF0bGFiRnVuY3Rpb24gfCB1bmRlZmluZWQgfSA9IHt9O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbmRWYWx1ZVN0YWNrIDogbnVtYmVyW10gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogRW52aXJvbm1lbnRMaXN0ZW5lcltdID0gW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChlbGVtPzogSlF1ZXJ5KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGJ1aWx0IGluIGZ1bmN0aW9ucyB0byBlbnZpcm9ubWVudFxyXG4gICAgICAgIGZvcihsZXQgZnVuY3Rpb25OYW1lIGluIE1BVExBQl9GVU5DVElPTlMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRGdW5jdGlvbihmdW5jdGlvbk5hbWUsIE1BVExBQl9GVU5DVElPTlNbZnVuY3Rpb25OYW1lXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoYXNWYXIobmFtZSA6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhcnMuaGFzT3duUHJvcGVydHkobmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvb2t1cChuYW1lOiBzdHJpbmcpIDogVmFyaWFibGUgfCBNYXRsYWJGdW5jdGlvbiB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgbGV0IHZhcmkgPSB0aGlzLnZhcnNbbmFtZV07XHJcbiAgICAgICAgaWYgKHZhcmkpIHtcclxuICAgICAgICAgICAgLy8gSWYgYSB2YXJpYWJsZSB3aXRoIHRoYXQgbmFtZSBleGlzdHMsIGl0IGlzIGZvdW5kIGZpcnN0LFxyXG4gICAgICAgICAgICAvLyBldmVuIGlmIHRoZXJlIGlzIGFsc28gYSBmdW5jdGlvbiB3aXRoIHRoYXQgc2FtZSBuYW1lXHJcbiAgICAgICAgICAgIHJldHVybiB2YXJpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuY3Rpb25zW25hbWVdOyAvLyBvciB1bmRlZmluZWQgaWYgbm8gZnVuY3Rpb25zIHdpdGggdGhhdCBuYW1lIGVpdGhlclxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YXJMb29rdXAobmFtZTogc3RyaW5nKSA6IFZhcmlhYmxlIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YXJzW25hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmdW5jdGlvbkxvb2t1cChuYW1lOiBzdHJpbmcpIDogTWF0bGFiRnVuY3Rpb24gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmN0aW9uc1tuYW1lXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VmFyKG5hbWU6IHN0cmluZywgdmFsdWU6IE1hdHJpeCkge1xyXG4gICAgICAgIGxldCB2YXJpID0gdGhpcy52YXJzW25hbWVdO1xyXG4gICAgICAgIGlmICh2YXJpKSB7XHJcbiAgICAgICAgICAgIHZhcmkuc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB2YXJpID0gbmV3IFZhcmlhYmxlKG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgIT09IFwiYW5zXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbS5hcHBlbmQodmFyaS5lbGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtLnByZXBlbmQodmFyaS5lbGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnZhcnNbbmFtZV0gPSB2YXJpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsID0+IGwub25WYXJpYWJsZVNldCh2YXJpISkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRGdW5jdGlvbihuYW1lOiBzdHJpbmcsIGZ1bmM6IE1hdGxhYkZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5mdW5jdGlvbnNbbmFtZV0gPSBmdW5jO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwdXNoRW5kVmFsdWUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZW5kVmFsdWVTdGFjay5wdXNoKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcG9wRW5kVmFsdWUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmRWYWx1ZVN0YWNrLnBvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRMaXN0ZW5lcihsaXN0ZW5lcjogRW52aXJvbm1lbnRMaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBBU1ROb2RlID0gYW55O1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvZGVDb25zdHJ1Y3QgaW1wbGVtZW50cyBWaXN1YWxpemFibGUge1xyXG5cclxuXHJcbiAgICAvLyBUT0RPOiBtb3ZlIHNvbWV3aGVyZSBhcHByb3ByaWF0ZVxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVSZWRYKCkge1xyXG4gICAgICAgIHJldHVybiAkKCc8c3ZnIGNsYXNzPVwibWF0bGFiLWVycm9yLXN2Z1wiPjxsaW5lIHgxPVwiLTIwXCIgeTE9XCI4MCVcIiB4Mj1cIjEwMCVcIiB5Mj1cIjIwJVwiIHN0eWxlPVwic3Ryb2tlOnJnYmEoMjU1LDAsMCwgMC4zKTtzdHJva2Utd2lkdGg6NVwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgxMCwwKVwiPjwvbGluZT48bGluZSBzdHlsZT1cInN0cm9rZTpyZ2JhKDI1NSwwLDAsIDAuMyk7c3Ryb2tlLXdpZHRoOjVcIiB5Mj1cIjgwJVwiIHgyPVwiMTAwJVwiIHkxPVwiMjAlXCIgeDE9XCItMjBcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMTAsMClcIj48L2xpbmU+PC9zdmc+Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYXN0OiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgaWYgKGFzdFtcIndoYXRcIl0gPT09IFwic3RhdGVtZW50X2dyb3VwXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGF0ZW1lbnRHcm91cChhc3QsIGVudik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhc3RbXCJ3aGF0XCJdID09PSBcImFzc2lnbm1lbnRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnQoYXN0LCBlbnYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhc3RbXCJ3aGF0XCJdID09PSBcImluZGV4ZWRfYXNzaWdubWVudFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW5kZXhlZEFzc2lnbm1lbnQoYXN0LCBlbnYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIEV4cHJlc3Npb24uY3JlYXRlKGFzdCwgZW52KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGFzdDogQVNUTm9kZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBlbnY6IEVudmlyb25tZW50O1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICB0aGlzLmFzdCA9IGFzdDtcclxuICAgICAgICB0aGlzLmVudiA9IGVudjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZXhlY3V0ZSgpOiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHQ7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdmlzdWFsaXplX2h0bWwob3B0aW9ucz86IFZpc3VhbGl6YXRpb25PcHRpb25zKTogc3RyaW5nO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG4vLyBDb2RlQ29uc3RydWN0LkluZGV4ZWRBc3NpZ25tZW50ID0gQ29kZUNvbnN0cnVjdC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWUgOiBcIkNvZGVDb25zdHJ1Y3QuSW5kZXhlZEFzc2lnbm1lbnRcIixcclxuXHJcbi8vICAgICBldmFsdWF0ZSA6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgIHZhciBzcmMgPSB0aGlzLnNyYztcclxuLy8gICAgICAgICB0aGlzLnJocyA9IEV4cHJlc3Npb24uY3JlYXRlQW5kRXZhbHVhdGUoc3JjW1wicmhzXCJdKTtcclxuLy8gICAgICAgICB0aGlzLmxocyA9IEV4cHJlc3Npb24uY3JlYXRlQW5kRXZhbHVhdGUoc3JjW1wibGhzXCJdKTtcclxuXHJcbi8vICAgICAgICAgdHJ5e1xyXG4vLyAgICAgICAgICAgICB0aGlzLmxocy52YWx1ZS5hc3NpZ24odGhpcy5yaHMudmFsdWUubWF0cml4VmFsdWUoKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgICAgICAgLy8gc2V0IHZpc3VhbGl6YXRpb24gdG8gZXJyb3Igc3RhdGVcclxuLy8gICAgICAgICAgICAgdGhpcy5lcnIgPSBlcnI7XHJcbi8vICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuLy8gICAgICAgICAgICAgZXJyLnZpc3VhbGl6ZV9odG1sID0gZnVuY3Rpb24oZWxlbSl7XHJcbi8vICAgICAgICAgICAgICAgICBzZWxmLnZpc3VhbGl6ZV9odG1sKGVsZW0pXHJcbi8vICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgIHRocm93IGVycjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIHJldHVybiB1bmRlZmluZWRcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdmlzdWFsaXplX2h0bWwgOiBmdW5jdGlvbihlbGVtKSB7XHJcbi8vICAgICAgICAgdmFyIHdyYXBwZXIgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcblxyXG4vLyAgICAgICAgIHZhciB0b3AgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbi8vICAgICAgICAgdG9wLmFkZENsYXNzKFwibWF0bGFiLWFzc2lnbm1lbnRcIik7XHJcbi8vICAgICAgICAgdmFyIGxoc0VsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbi8vICAgICAgICAgdGhpcy5saHMudmlzdWFsaXplX2h0bWwobGhzRWxlbSk7XHJcbi8vICAgICAgICAgdG9wLmFwcGVuZChsaHNFbGVtKTtcclxuXHJcbi8vICAgICAgICAgdG9wLmFwcGVuZChcIiZuYnNwOz0mbmJzcDtcIik7XHJcblxyXG4vLyAgICAgICAgIHZhciByaHNFbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4vLyAgICAgICAgIHRoaXMucmhzLnZpc3VhbGl6ZV9odG1sKHJoc0VsZW0pO1xyXG4vLyAgICAgICAgIHRvcC5hcHBlbmQocmhzRWxlbSk7XHJcblxyXG4vLyAgICAgICAgIGlmICh0aGlzLmVycil7XHJcbi8vICAgICAgICAgICAgIHRvcC5hcHBlbmQodGhpcy5jcmVhdGVSZWRYKCkpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdmFyIGJvdHRvbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuLy8gICAgICAgICBib3R0b20uYWRkQ2xhc3MoXCJtYXRsYWItYXNzaWdubWVudC1yZXN1bHRcIik7XHJcblxyXG4vLyAgICAgICAgIGlmICghdGhpcy5lcnIpIHtcclxuLy8gICAgICAgICAgICAgYm90dG9tLmFwcGVuZCh0aGlzLmxocy52YWx1ZS52YXJpYWJsZSgpLm5hbWUpO1xyXG4vLyAgICAgICAgICAgICBib3R0b20uYXBwZW5kKFwiIGlzIG5vdyBcIik7XHJcblxyXG4vLyAgICAgICAgICAgICB2YXIgdmFsdWVFbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmxocy52YWx1ZS52YXJpYWJsZSgpLnZpc3VhbGl6ZV9odG1sKHZhbHVlRWxlbSk7XHJcbi8vICAgICAgICAgICAgIGJvdHRvbS5hcHBlbmQodmFsdWVFbGVtKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdmFyIGVyckVsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbi8vICAgICAgICAgICAgIGVyckVsZW0uYWRkQ2xhc3MoXCJtYXRsYWItZXhwLWVycm9yXCIpO1xyXG4vLyAgICAgICAgICAgICBlcnJFbGVtLmh0bWwodGhpcy5lcnIubWVzc2FnZSk7XHJcbi8vICAgICAgICAgICAgIGJvdHRvbS5hcHBlbmQoZXJyRWxlbSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB3cmFwcGVyLmFwcGVuZCh0b3ApO1xyXG4vLyAgICAgICAgIHdyYXBwZXIuYXBwZW5kKGJvdHRvbSk7XHJcblxyXG4vLyAgICAgICAgIGVsZW0uYXBwZW5kKHdyYXBwZXIpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbmV4cG9ydCB0eXBlIEV4cHJlc3Npb25WYWx1ZSA9IE1hdHJpeDtcclxuXHJcbmV4cG9ydCB0eXBlIEV4cHJlc3Npb25TdGF0ZSA9IFwidW5leGVjdXRlZFwiIHwgXCJzdWNjZXNzXCIgfCBcImVycm9yXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVuZXhlY3V0ZWRFeHByZXNzaW9uUmVzdWx0IHtcclxuICAgIHJlYWRvbmx5IGtpbmQ6IFwidW5leGVjdXRlZFwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN1Y2Nlc3NFeHByZXNzaW9uUmVzdWx0IHtcclxuICAgIHJlYWRvbmx5IGtpbmQ6IFwic3VjY2Vzc1wiO1xyXG4gICAgcmVhZG9ubHkgdmFsdWU6IEV4cHJlc3Npb25WYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFcnJvckV4cHJlc3Npb25SZXN1bHQge1xyXG4gICAgcmVhZG9ubHkga2luZDogXCJlcnJvclwiO1xyXG4gICAgcmVhZG9ubHkgZXJyb3I6IE1hdGxhYkVycm9yO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN1YmV4cHJlc3Npb25FcnJvckV4cHJlc3Npb25SZXN1bHQge1xyXG4gICAgcmVhZG9ubHkga2luZDogXCJzdWJleHByZXNzaW9uRXJyb3JcIjtcclxuICAgIHJlYWRvbmx5IGVycm9yOiBNYXRsYWJFcnJvcjtcclxufVxyXG5cclxuY29uc3QgVU5FWEVDVVRFRCA6IHtraW5kOiBcInVuZXhlY3V0ZWRcIn0gPSB7a2luZDogXCJ1bmV4ZWN1dGVkXCJ9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFsbFN1Y2Nlc3MocmVzdWx0czogRXhlY3V0ZWRFeHByZXNzaW9uUmVzdWx0W10pOiByZXN1bHRzIGlzIFN1Y2Nlc3NFeHByZXNzaW9uUmVzdWx0W10ge1xyXG4gICAgcmV0dXJuIHJlc3VsdHMuZXZlcnkociA9PiByLmtpbmQgPT09IFwic3VjY2Vzc1wiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3VjY2Vzc1Jlc3VsdCh2YWx1ZTogRXhwcmVzc2lvblZhbHVlKSA6IFN1Y2Nlc3NFeHByZXNzaW9uUmVzdWx0IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAga2luZDogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBlcnJvclJlc3VsdChlcnJvcjogTWF0bGFiRXJyb3IpIDogRXJyb3JFeHByZXNzaW9uUmVzdWx0IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAga2luZDogXCJlcnJvclwiLFxyXG4gICAgICAgIGVycm9yOiBlcnJvclxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgRXhwcmVzc2lvblJlc3VsdCA9IFVuZXhlY3V0ZWRFeHByZXNzaW9uUmVzdWx0IHwgU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQgfCBFcnJvckV4cHJlc3Npb25SZXN1bHQ7XHJcblxyXG50eXBlIEV4ZWN1dGVkRXhwcmVzc2lvblJlc3VsdCA9IFN1Y2Nlc3NFeHByZXNzaW9uUmVzdWx0IHwgRXJyb3JFeHByZXNzaW9uUmVzdWx0O1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEV4cHJlc3Npb24gZXh0ZW5kcyBDb2RlQ29uc3RydWN0IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVzdWx0OiBFeHByZXNzaW9uUmVzdWx0ID0gVU5FWEVDVVRFRDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhhc3RbXCJ3aGF0XCJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFyVG9TdWJjbGFzc1thc3RbXCJ3aGF0XCJdXShhc3QsIGVudik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFwIGZyb20gXCJ3aGF0XCIga2V5IGluIHNyYyBnZW5lcmF0ZWQgYnkgZ3JhbW1hciB0b1xyXG4gICAgLy8gdGhlIG5hbWUgb2YgdGhlIHN1YmNsYXNzIGluIHRoZSBjb2RlLlxyXG4gICAgLy8gVE9ETzogUmV2aXNlIHRvIHVzZSBmYWN0b3J5IHBhdHRlcm4gb3IgYWJzdHJhY3QgZmFjdG9yeSBwYXR0ZXJuP1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ3JhbW1hclRvU3ViY2xhc3MgOiB7W2luZGV4OiBzdHJpbmddOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gRXhwcmVzc2lvbn0gPSB7XHJcbiAgICAgICAgXCJtYXRyaXhfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgTWF0cml4RXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwicm93X2V4cFwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IFJvd0V4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICBcInJhbmdlX2V4cFwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IFJhbmdlRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwib3JfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgTWF0cml4T3JFeHByZXNzaW9uKGEsIGVudiksXHJcbiAgICAgICAgXCJhbmRfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgTWF0cml4QW5kRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwiZXFfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgRXF1YWxpdHlFeHByZXNzaW9uKGEsIGVudiksXHJcbiAgICAgICAgXCJyZWxfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgUmVsYXRpb25hbEV4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICBcImFkZF9leHBcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBBZGRFeHByZXNzaW9uKGEsIGVudiksXHJcbiAgICAgICAgXCJtdWx0X2V4cFwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IE11bHRFeHByZXNzaW9uKGEsIGVudiksXHJcbiAgICAgICAgXCJ1bmFyeV9leHBcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBVbmFyeU9wZXJhdG9yRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwidHJhbnNwb3NlX2V4cFwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IFRyYW5zcG9zZUV4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICBcImNhbGxfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgSW5kZXhPckNhbGxFeHByZXNzaW9uKGEsIGVudiksXHJcbiAgICAgICAgXCJjb2xvbl9leHBcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBDb2xvbkV4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICAvLyBcImVuZF9leHBcIjogRW5kRXhwcmVzc2lvbixcclxuICAgICAgICBcImludGVnZXJcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBMaXRlcmFsRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwiZmxvYXRcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBMaXRlcmFsRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwiaWRlbnRpZmllclwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IElkZW50aWZpZXJFeHByZXNzaW9uKGEsIGVudilcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFJlc3VsdChyZXN1bHQ6IEV4ZWN1dGVkRXhwcmVzc2lvblJlc3VsdCkge1xyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5yZXN1bHQgPSByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogcHJvYmFibHkgcmVtb3ZlIHRoaXMuIGV4Y2VwdGlvbnMgdW5kZXNpcmFibGUgaGVyZVxyXG4gICAgLy8gcHVibGljIHJlcXVpcmVWYWx1ZSgpIHtcclxuICAgIC8vICAgICBpZiAodGhpcy5yZXN1bHQua2luZCA9PT0gXCJzdWNjZXNzXCIpIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0LnZhbHVlO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmICh0aGlzLnJlc3VsdC5raW5kID09PSBcImVycm9yXCIpIHtcclxuICAgIC8vICAgICAgICAgdGhyb3cgdGhpcy5yZXN1bHQuZXJyb3I7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2Uge1xyXG4gICAgLy8gICAgICAgICB0aHJvdyB0aGlzLnJlc3VsdDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGV4ZWN1dGUoKSA6IEV4ZWN1dGVkRXhwcmVzc2lvblJlc3VsdCB7XHJcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMuZXZhbHVhdGUoKTtcclxuICAgICAgICB0aGlzLnNldFJlc3VsdChyZXMpO1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGV2YWx1YXRlKCkgOiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHQ7XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9odG1sKG9wdGlvbnM/OiBWaXN1YWxpemF0aW9uT3B0aW9ucykgOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBlbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgIGxldCBleHByID0gJChgPGRpdiBjbGFzcz1cIm1hdGxhYi1leHBcIj4ke3RoaXMudmlzdWFsaXplX2V4cHIob3B0aW9ucyl9PC9kaXY+YCkuYXBwZW5kVG8oZWxlbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0LmtpbmQgPT09IFwiZXJyb3JcIiAmJiB0aGlzLnJlc3VsdC5lcnJvci5jb25zdHJ1Y3QgPT09IHRoaXMpIHtcclxuICAgICAgICAgICAgZXhwci5hcHBlbmQoQ29kZUNvbnN0cnVjdC5jcmVhdGVSZWRYKCkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGJvdHRvbSA9ICQoYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC1ib3R0b21cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXRsYWItZXhwLWVycm9yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnJlc3VsdC5lcnJvci5tZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PmApO1xyXG4gICAgICAgICAgICBlbGVtLmFwcGVuZChib3R0b20pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZW1bMF0ub3V0ZXJIVE1MO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCB2aXN1YWxpemVfZXhwcihvcHRpb25zPzogVmlzdWFsaXphdGlvbk9wdGlvbnMpOiBzdHJpbmc7XHJcblxyXG59XHJcblxyXG4vLyBUT0RPOiBsaHMgc2hvdWxkIG5vdCB1c2UgSWRlbnRpZmllckV4cHJlc3Npb24/IHNob3VsZCBqdXN0IGJlIG5hbWUsIEkgdGhpbmtcclxuZXhwb3J0IGNsYXNzIEFzc2lnbm1lbnQgZXh0ZW5kcyBDb2RlQ29uc3RydWN0IHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJoczogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBsaHM6IElkZW50aWZpZXJFeHByZXNzaW9uO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB1cGRhdGVkVmFsdWU/OiBNYXRyaXg7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXN0OiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgc3VwZXIoYXN0LCBlbnYpO1xyXG4gICAgICAgIHRoaXMubGhzID0gPElkZW50aWZpZXJFeHByZXNzaW9uPkV4cHJlc3Npb24uY3JlYXRlKGFzdFtcImlkZW50aWZpZXJcIl0sIGVudilcclxuICAgICAgICB0aGlzLnJocyA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdFtcImV4cFwiXSwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXhlY3V0ZSgpIHtcclxuXHJcbiAgICAgICAgbGV0IHJoc1Jlc3VsdCA9IHRoaXMucmhzLmV4ZWN1dGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHJoc1Jlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmhzUmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGVudiA9IHRoaXMuZW52O1xyXG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5saHMubmFtZTtcclxuXHJcbiAgICAgICAgZW52LnNldFZhcihuYW1lLCByaHNSZXN1bHQudmFsdWUpO1xyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS51cGRhdGVkVmFsdWUgPSByaHNSZXN1bHQudmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiByaHNSZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9odG1sKCkge1xyXG4gICAgICAgIGxldCBlbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgIGxldCB0b3AgPSBcclxuICAgICAgICBgPGRpdiBjbGFzcz1cIm1hdGxhYi1hc3NpZ25tZW50XCI+XHJcbiAgICAgICAgICAgICR7dGhpcy5saHMubmFtZX1cclxuICAgICAgICAgICAgJm5ic3A7PSZuYnNwO1xyXG4gICAgICAgICAgICAke3RoaXMucmhzLnZpc3VhbGl6ZV9odG1sKCl9XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICBlbGVtLmFwcGVuZCh0b3ApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51cGRhdGVkVmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IGJvdHRvbSA9IGA8ZGl2IGNsYXNzPVwibWF0bGFiLWFzc2lnbm1lbnQtcmVzdWx0XCI+XHJcbiAgICAgICAgICAgICAgICAke3RoaXMubGhzLm5hbWV9IGlzIG5vdyAke3RoaXMudXBkYXRlZFZhbHVlLnZpc3VhbGl6ZV9odG1sKCl9XHJcbiAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgIGVsZW0uYXBwZW5kKGJvdHRvbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZWxlbVswXS5vdXRlckhUTUw7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFRPRE86IHJlZHVjZSBjb2RlIGR1cGxpY2F0aW9uIGJldHdlZW4gSW5kZXhlZEFzc2lnbm1lbnQgYW5kIEluZGV4T3JDYWxsRXhwcmVzc2lvblxyXG5jbGFzcyBJbmRleGVkQXNzaWdubWVudCBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0TmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGljaWVzOiByZWFkb25seSBFeHByZXNzaW9uW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmhzOiBFeHByZXNzaW9uO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3ViYXJyYXlSZXN1bHQ/OiBTdWJhcnJheTtcclxuICAgIHB1YmxpYyByZWFkb25seSBvcmlnaW5hbE1hdHJpeD86IE1hdHJpeDtcclxuICAgIHB1YmxpYyByZWFkb25seSB1cGRhdGVkTWF0cml4PzogTWF0cml4O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgLy8gVE9ETzogbWF5IGJlIG5pY2UgdG8gY2hhbmdlIGdyYW1tYXIgaGVyZSB0byBub3QgaGF2ZSBhIG5lc3RlZCBpZGVudGlmaWVyXHJcbiAgICAgICAgdGhpcy50YXJnZXROYW1lID0gYXN0W1wibGhzXCJdW1widGFyZ2V0XCJdO1xyXG4gICAgICAgIHRoaXMuaW5kaWNpZXMgPSBhc3RbXCJsaHNcIl1bXCJhcmdzXCJdLm1hcCgoaTpBU1ROb2RlKSA9PiBFeHByZXNzaW9uLmNyZWF0ZShpLCBlbnYpKTtcclxuICAgICAgICB0aGlzLnJocyA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdFtcInJoc1wiXSwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBjaGFuZ2UgdG8gZXhlY3V0ZVxyXG4gICAgcHVibGljIGV2YWx1YXRlKCkgOiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHQge1xyXG4gICAgICAgIGxldCB2YXJpID0gdGhpcy5lbnYubG9va3VwKHRoaXMudGFyZ2V0TmFtZSk7XHJcbiAgICAgICAgaWYgKCF2YXJpIHx8IHZhcmkgaW5zdGFuY2VvZiBNYXRsYWJGdW5jdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiU29ycnksIEkgY2FuJ3QgZmluZCBhIHZhcmlhYmxlIG5hbWVkIFwiICsgdGhpcy50YXJnZXROYW1lKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0ID0gdmFyaS52YWx1ZTtcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykub3JpZ2luYWxNYXRyaXggPSB0YXJnZXQuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaW5kaWNpZXMubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiU29ycnksIGluZGV4aW5nIGluIG1vcmUgdGhhdCB0d28gZGltZW5zaW9ucyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZC5cIikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJoc1Jlc3VsdCA9IHRoaXMucmhzLmV4ZWN1dGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHJoc1Jlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmhzUmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGluZGljZXNSZXN1bHRzID0gdGhpcy5pbmRpY2llcy5tYXAoKGluZGV4LCBpKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZW52LnB1c2hFbmRWYWx1ZSh0YXJnZXQubGVuZ3RoKDwxfDI+KGkrMSkpKTtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IGluZGV4LmV4ZWN1dGUoKTtcclxuICAgICAgICAgICAgdGhpcy5lbnYucG9wRW5kVmFsdWUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWFsbFN1Y2Nlc3MoaW5kaWNlc1Jlc3VsdHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRpY2VzUmVzdWx0cy5maW5kKHIgPT4ge3JldHVybiByLmtpbmQgIT09IFwic3VjY2Vzc1wiO30pITtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbmRpY2VzUmVzdWx0cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLnN1YmFycmF5UmVzdWx0ID0gTGluZWFyU3ViYXJyYXkuY3JlYXRlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2llc1swXSBpbnN0YW5jZW9mIENvbG9uRXhwcmVzc2lvbiA/IFwiOlwiIDogaW5kaWNlc1Jlc3VsdHNbMF0udmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLnN1YmFycmF5UmVzdWx0ID0gQ29vcmRpbmF0ZVN1YmFycmF5LmNyZWF0ZShcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNpZXNbMF0gaW5zdGFuY2VvZiBDb2xvbkV4cHJlc3Npb24gPyBcIjpcIiA6IGluZGljZXNSZXN1bHRzWzBdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2llc1sxXSBpbnN0YW5jZW9mIENvbG9uRXhwcmVzc2lvbiA/IFwiOlwiIDogaW5kaWNlc1Jlc3VsdHNbMV0udmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zdWJhcnJheVJlc3VsdCEudmVyaWZ5KHZhcmkudmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnN1YmFycmF5UmVzdWx0IS5hc3NpZ24odmFyaS52YWx1ZSwgcmhzUmVzdWx0LnZhbHVlKTtcclxuICAgICAgICAgICAgdmFyaS5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS51cGRhdGVkTWF0cml4ID0gdmFyaS52YWx1ZS5jbG9uZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3VjY2Vzc1Jlc3VsdCh0aGlzLnVwZGF0ZWRNYXRyaXghKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2gobXNnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvclJlc3VsdChuZXcgTWF0bGFiRXJyb3IodGhpcywgbXNnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdmlzdWFsaXplX2V4cHIob3B0aW9ucz86IFZpc3VhbGl6YXRpb25PcHRpb25zKSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZUh0bWw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxNYXRyaXggJiYgdGhpcy5zdWJhcnJheVJlc3VsdCkge1xyXG4gICAgICAgICAgICB2YWx1ZUh0bWwgPSB0aGlzLnN1YmFycmF5UmVzdWx0LnZpc3VhbGl6ZV9zZWxlY3Rpb24odGhpcy5vcmlnaW5hbE1hdHJpeCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy9UT0RPXHJcbiAgICAgICAgICAgIHZhbHVlSHRtbCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0b3AgPSBgPGRpdiBjbGFzcz1cIm1hdGxhYi1hc3NpZ25tZW50XCI+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC1pbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7dmFsdWVIdG1sfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXRsYWItaWRlbnRpZmllci1uYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy50YXJnZXROYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICZuYnNwOz0mbmJzcDtcclxuICAgICAgICAgICAgJHt0aGlzLnJocy52aXN1YWxpemVfaHRtbCgpfVxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMudXBkYXRlZE1hdHJpeCA/IGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1hdGxhYi1hc3NpZ25tZW50LXJlc3VsdFwiPlxyXG4gICAgICAgICAgICAgICAgJHt0aGlzLnRhcmdldE5hbWV9IGlzIG5vdyAke3RoaXMudXBkYXRlZE1hdHJpeC52aXN1YWxpemVfaHRtbCgpfVxyXG4gICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgICAgIDogXCJcIjtcclxuXHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2PlxyXG4gICAgICAgICAgICAke3RvcH1cclxuICAgICAgICAgICAgJHtib3R0b219XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU3RhdGVtZW50ID0gQXNzaWdubWVudCB8IEluZGV4ZWRBc3NpZ25tZW50IHwgRXhwcmVzc2lvbjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGF0ZW1lbnRHcm91cCBleHRlbmRzIENvZGVDb25zdHJ1Y3Qge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdGVtZW50czogcmVhZG9ubHkgU3RhdGVtZW50W107XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHVwZGF0ZWRWYWx1ZT86IE1hdHJpeDtcclxuXHJcbiAgICBwcml2YXRlIGxhc3RTdGF0ZW1lbnRFeGVjdXRlZD86IFN0YXRlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5zdGF0ZW1lbnRzID0gYXN0LnN0YXRlbWVudHMubWFwKChzQXN0OiBBU1ROb2RlKSA9PiBDb2RlQ29uc3RydWN0LmNyZWF0ZShzQXN0LCBlbnYpKTtcclxuICAgICAgICBhc3NlcnQodGhpcy5zdGF0ZW1lbnRzLmxlbmd0aCA+IDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleGVjdXRlKCkge1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0OiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHQ7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGVtZW50cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgc3RhdGVtZW50ID0gdGhpcy5zdGF0ZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RTdGF0ZW1lbnRFeGVjdXRlZCA9IHN0YXRlbWVudDtcclxuICAgICAgICAgICAgcmVzdWx0ID0gc3RhdGVtZW50LmV4ZWN1dGUoKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdCE7IC8vICEgYmVjYXVzZSBzdGF0ZW1lbnRzIGxlbmd0aCBjYW5ub3QgYmUgMCAoc2VlIGN0b3IpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9odG1sKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RTdGF0ZW1lbnRFeGVjdXRlZCEudmlzdWFsaXplX2h0bWwoKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTWF0cml4RXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSByb3dzOiByZWFkb25seSBFeHByZXNzaW9uW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFzdDogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkge1xyXG4gICAgICAgIHN1cGVyKGFzdCwgZW52KTtcclxuICAgICAgICB0aGlzLnJvd3MgPSBhc3RbXCJyb3dzXCJdLm1hcCgocjphbnkpID0+IEV4cHJlc3Npb24uY3JlYXRlKHIsIGVudikpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBldmFsdWF0ZSgpIHtcclxuXHJcbiAgICAgICAgbGV0IHJvd1Jlc3VsdHMgPSB0aGlzLnJvd3MubWFwKHIgPT4gci5leGVjdXRlKCkpO1xyXG4gICAgICAgIGlmIChhbGxTdWNjZXNzKHJvd1Jlc3VsdHMpKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kX3Jvd3Mocm93UmVzdWx0cy5tYXAociA9PiByLnZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcm93UmVzdWx0cy5maW5kKHIgPT4ge3JldHVybiByLmtpbmQgIT09IFwic3VjY2Vzc1wiO30pITtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwZW5kX3Jvd3MobWF0czogTWF0cml4W10pIDogRXhlY3V0ZWRFeHByZXNzaW9uUmVzdWx0IHtcclxuICAgICAgICB2YXIgbmV3Q29scyA6IG51bWJlcltdW10gPSBbXTtcclxuICAgICAgICB2YXIgY29scyA9IG1hdHNbMF0uY29scztcclxuICAgICAgICB2YXIgbmV3Um93cyA9IDA7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNvbHM7ICsraSkge1xyXG4gICAgICAgICAgICBuZXdDb2xzLnB1c2goW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbWF0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgbWF0ID0gbWF0c1tpXTtcclxuICAgICAgICAgICAgbmV3Um93cyArPSBtYXQucm93cztcclxuICAgICAgICAgICAgaWYgKG1hdC5jb2xzICE9PSBjb2xzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiTWlzbWF0Y2hlZCBtYXRyaXggbnVtYmVyIG9mIGNvbHVtbnMuXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IodmFyIGMgPSAwOyBjIDwgY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIHIgPSAwOyByIDwgbWF0LnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbHNbY10ucHVzaChtYXQuYXQocisxLCBjKzEpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmV3RGF0YSA9ICg8QXJyYXk8bnVtYmVyPj5bXSkuY29uY2F0LmFwcGx5KFtdLCBuZXdDb2xzKTtcclxuICAgICAgICByZXR1cm4gc3VjY2Vzc1Jlc3VsdChuZXcgTWF0cml4KG5ld1Jvd3MsIGNvbHMsIG5ld0RhdGEsXHJcbiAgICAgICAgICAgIG1hdHMuc29tZShtID0+IG0uZGF0YVR5cGUgPT09IFwiZG91YmxlXCIpID8gXCJkb3VibGVcIiA6IG1hdHNbMF0uZGF0YVR5cGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgdmFyIHRhYmxlID0gJChcIjx0YWJsZT48L3RhYmxlPlwiKTtcclxuICAgICAgICB0YWJsZS5hZGRDbGFzcyhcIm1hdGxhYi10YWJsZVwiKTtcclxuICAgICAgICBsZXQgY29sb3IgPSBDb2xvci5XSElURTtcclxuICAgICAgICBpZiAodGhpcy5yZXN1bHQua2luZCA9PT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgY29sb3IgPSB0aGlzLnJlc3VsdC52YWx1ZS5jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFibGUuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBjb2xvcik7XHJcblxyXG4gICAgICAgIHZhciByb3dzID0gdGhpcy5yb3dzO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSAkKFwiPHRyPjwvdHI+XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmQodHIpO1xyXG4gICAgICAgICAgICB2YXIgdGQgPSAkKFwiPHRkPjwvdGQ+XCIpO1xyXG4gICAgICAgICAgICB0ci5hcHBlbmQodGQpO1xyXG4gICAgICAgICAgICB0ZC5odG1sKHJvd3NbaV0udmlzdWFsaXplX2h0bWwoe2NvbnRhaW5lZDogdHJ1ZX0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhYmxlWzBdLm91dGVySFRNTDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUm93RXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5jb2xzID0gYXN0W1wiY29sc1wiXS5tYXAoKHI6YW55KSA9PiBFeHByZXNzaW9uLmNyZWF0ZShyLCBlbnYpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZXZhbHVhdGUoKSB7XHJcbiAgICAgICAgbGV0IGNvbFJlc3VsdHMgPSB0aGlzLmNvbHMubWFwKGMgPT4gYy5leGVjdXRlKCkpO1xyXG5cclxuICAgICAgICBpZiAoYWxsU3VjY2Vzcyhjb2xSZXN1bHRzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBlbmRfY29scyhjb2xSZXN1bHRzLm1hcChjID0+IGMudmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xSZXN1bHRzLmZpbmQociA9PiB7cmV0dXJuIHIua2luZCAhPT0gXCJzdWNjZXNzXCI7fSkhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFwcGVuZF9jb2xzKG1hdHM6IE1hdHJpeFtdKSA6IEV4ZWN1dGVkRXhwcmVzc2lvblJlc3VsdCB7XHJcbiAgICAgICAgdmFyIHJvd3MgPSBtYXRzWzBdLnJvd3M7XHJcblxyXG4gICAgICAgIGlmIChtYXRzLnNvbWUobSA9PiB7cmV0dXJuIG0ucm93cyAhPSByb3dzfSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzdWx0KG5ldyBNYXRsYWJFcnJvcih0aGlzLCBcIk1pc21hdGNoZWQgbWF0cml4IG51bWJlciBvZiByb3dzLlwiKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3VjY2Vzc1Jlc3VsdChuZXcgTWF0cml4KFxyXG4gICAgICAgICAgICBtYXRzWzBdLnJvd3MsXHJcbiAgICAgICAgICAgIG1hdHMucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cnJlbnQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgKyBjdXJyZW50LmNvbHM7XHJcbiAgICAgICAgICAgIH0sMCksXHJcbiAgICAgICAgICAgIG1hdHMucmVkdWNlKGZ1bmN0aW9uKG5ld0RhdGEsIG1hdCl7XHJcbiAgICAgICAgICAgICAgICBuZXdEYXRhID0gbmV3RGF0YS5jb25jYXQobWF0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0RhdGE7XHJcbiAgICAgICAgICAgIH0sIDxBcnJheTxudW1iZXI+PltdKSxcclxuICAgICAgICAgICAgbWF0cy5zb21lKG0gPT4gbS5kYXRhVHlwZSA9PT0gXCJkb3VibGVcIikgPyBcImRvdWJsZVwiIDogbWF0c1swXS5kYXRhVHlwZVxyXG4gICAgICAgICkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2aXN1YWxpemVfZXhwcigpIHtcclxuICAgICAgICB2YXIgY29scyA9IHRoaXMuY29scztcclxuICAgICAgICBpZiAoY29scy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAvLyBTaW5nbGUgZWxlbWVudCByb3cgLSBqdXN0IHZpc3VhbGl6ZSB0aGUgZWxlbWVudCwgbm90IGFzIGEgcm93XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xzWzBdLnZpc3VhbGl6ZV9odG1sKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdGFibGUgPSAkKFwiPHRhYmxlPjwvdGFibGU+XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5hZGRDbGFzcyhcIm1hdGxhYi10YWJsZVwiKTtcclxuICAgICAgICAgICAgbGV0IGNvbG9yID0gQ29sb3IuV0hJVEU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdC5raW5kID09PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSB0aGlzLnJlc3VsdC52YWx1ZS5jb2xvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YWJsZS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIGNvbG9yKTtcclxuICAgICAgICAgICAgdmFyIHRyID0gJChcIjx0cj48L3RyPlwiKTtcclxuICAgICAgICAgICAgdGFibGUuYXBwZW5kKHRyKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29scy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gJChcIjx0ZD48L3RkPlwiKTtcclxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZCh0ZCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sID0gY29sc1tpXTtcclxuICAgICAgICAgICAgICAgIHRkLmh0bWwoY29sc1tpXS52aXN1YWxpemVfaHRtbCh7Y29udGFpbmVkOiB0cnVlfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0YWJsZVswXS5vdXRlckhUTUw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBSYW5nZUV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhcnQ6IEV4cHJlc3Npb247XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZW5kOiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0ZXA6IEV4cHJlc3Npb24gfCBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdC5zdGFydCwgZW52KTtcclxuICAgICAgICB0aGlzLmVuZCA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdC5lbmQsIGVudik7XHJcbiAgICAgICAgdGhpcy5zdGVwID0gYXN0LnN0ZXAgPyBFeHByZXNzaW9uLmNyZWF0ZShhc3Quc3RlcCwgZW52KSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG5cclxuICAgICAgICBsZXQgc3RhcnRSZXN1bHQgPSB0aGlzLnN0YXJ0LmV4ZWN1dGUoKTtcclxuICAgICAgICBsZXQgZW5kUmVzdWx0ID0gdGhpcy5lbmQuZXhlY3V0ZSgpO1xyXG4gICAgICAgIGxldCBzdGVwUmVzdWx0ID0gdGhpcy5zdGVwICYmIHRoaXMuc3RlcC5leGVjdXRlKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoc3RhcnRSZXN1bHQua2luZCAhPT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0UmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVuZFJlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gZW5kUmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0ZXBSZXN1bHQgJiYgc3RlcFJlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RlcFJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vdGU6IE1BVExBQiB3aWxsIGFjdHVhbGx5IGFjY2VwdCBub24tc2NhbGFyIHZhbHVlcyBmb3IgdGhlIHN1YmV4cHJlc3Npb25zXHJcbiAgICAgICAgLy8gICAgICAgaW4gcmFuZ2Ugbm90YXRpb24uIEl0IGp1c3QgZ3JhYnMgdGhlIGZpcnN0IGxpbmVhciBlbGVtZW50LCB3aGljaCBpcyB0aGVcclxuICAgICAgICAvLyAgICAgICBiZWhhdmlvciBvZiAuc2NhbGFyVmFsdWUoKSBoZXJlLlxyXG4gICAgICAgIGxldCB4ID0gc3RhcnRSZXN1bHQudmFsdWUuc2NhbGFyVmFsdWUoKTtcclxuICAgICAgICBsZXQgZW5kID0gZW5kUmVzdWx0LnZhbHVlLnNjYWxhclZhbHVlKCk7XHJcbiAgICAgICAgbGV0IHN0ZXAgPSBzdGVwUmVzdWx0ID8gc3RlcFJlc3VsdC52YWx1ZS5zY2FsYXJWYWx1ZSgpIDogMTtcclxuICAgICAgICBsZXQgcmFuZ2UgPSA8QXJyYXk8bnVtYmVyPj5bXTtcclxuICAgICAgICBpZiAoc3RlcCA+IDApIHsgLy8gcG9zaXRpdmUgc3RlcFxyXG4gICAgICAgICAgICBpZiAoeCA8PSBlbmQpIHsgLy8gc3RhcnQgPCBlbmRcclxuICAgICAgICAgICAgICAgIHdoaWxlICh4IDw9IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgeCArPSBzdGVwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBuZWdhdGl2ZSBzdGVwXHJcbiAgICAgICAgICAgIGlmIChlbmQgPD0geCkgeyAvLyBlbmQgPD0geFxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGVuZCA8PSB4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgICAgICB4ICs9IHN0ZXBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgb24gdHlwZSBvZiByYW5nZXMgaW4gTUFUTEFCXHJcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQobmV3IE1hdHJpeCgxLCByYW5nZS5sZW5ndGgsIHJhbmdlLCBcImRvdWJsZVwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9leHByKCkge1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0SHRtbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAodGhpcy5yZXN1bHQua2luZCA9PT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5yZXN1bHQudmFsdWU7XHJcblxyXG4gICAgICAgICAgICBsZXQgcm93SHRtbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHZhbHVlLm51bWVsOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHJvd0h0bWwgKz1cclxuICAgICAgICAgICAgICAgIGA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtzY2FsYXJIdG1sKHZhbHVlLmF0TGluZWFyKGkpKX1cclxuICAgICAgICAgICAgICAgIDwvdGQ+YFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXN1bHRIdG1sID0gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF0bGFiLXJhbmdlLXJlc3VsdFwiPlxyXG4gICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwibWF0bGFiLXRhYmxlXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAke0NvbG9yLnRvQ29sb3IodmFsdWUsIENvbG9yLkxJR0hUX0xFVFRFUlMpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJtYXRsYWItcmFuZ2Utc3ZnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1hcmtlciBpZD1cImFycm93XCIgbWFya2VyV2lkdGg9XCIxMFwiIG1hcmtlckhlaWdodD1cIjEwXCIgcmVmeD1cIjlcIiByZWZ5PVwiM1wiIG9yaWVudD1cImF1dG9cIiBtYXJrZXJVbml0cz1cInN0cm9rZVdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0wLDAgTDAsNiBMOSwzIHpcIiBmaWxsPVwiIzAwMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21hcmtlcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTEwLDApXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGluZSB4MT1cIjIyXCIgeTE9XCIyNVwiIHgyPVwiMTAwJVwiIHkyPVwiMjVcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG1hcmtlci1lbmQ9XCJ1cmwoI2Fycm93KVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+JHtyb3dIdG1sfTwvdHI+XHJcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJtYXRsYWItcmFuZ2VcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1hdGxhYi1yYW5nZS1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cIm1hdGxhYi10YWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPnN0YXJ0PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnN0ZXAgPyBcIjx0aD5zdGVwPC90aD5cIiA6IFwiXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5lbmQ8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHt0aGlzLnN0YXJ0LnZpc3VhbGl6ZV9odG1sKCl9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnN0ZXAgPyBcIjx0ZD5cIiArIHRoaXMuc3RlcC52aXN1YWxpemVfaHRtbCgpICsgXCI8L3RkPlwiIDogXCJcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7dGhpcy5lbmQudmlzdWFsaXplX2h0bWwoKX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgJHtyZXN1bHRIdG1sfVxyXG4gICAgICAgIDwvZGl2PmA7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBCaW5hcnlPcGVyYXRvckV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaWdodDogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBvcDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5vcCA9IGFzdC5vcDtcclxuXHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gRXhwcmVzc2lvbi5jcmVhdGUoYXN0LmxlZnQsIGVudik7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdC5yaWdodCwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgcmVhZG9ubHkgZGF0YVR5cGU6IERhdGFUeXBlO1xyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHJlYWRvbmx5IG9wZXJhdG9yczoge1tpbmRleDogc3RyaW5nXTogKGxlZnQ6bnVtYmVyLCByaWdodDpudW1iZXIpID0+IG51bWJlcn07XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG5cclxuICAgICAgICBsZXQgbGVmdFJlc3VsdCA9IHRoaXMubGVmdC5leGVjdXRlKCk7XHJcbiAgICAgICAgbGV0IHJpZ2h0UmVzdWx0ID0gdGhpcy5yaWdodC5leGVjdXRlKCk7XHJcblxyXG4gICAgICAgIGlmIChsZWZ0UmVzdWx0LmtpbmQgIT09IFwic3VjY2Vzc1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZWZ0UmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJpZ2h0UmVzdWx0LmtpbmQgIT09IFwic3VjY2Vzc1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByaWdodFJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvcGVyYW5kRXJyb3IgPSB0aGlzLmNoZWNrT3BlcmFuZHMobGVmdFJlc3VsdCwgcmlnaHRSZXN1bHQpO1xyXG4gICAgICAgIGlmIChvcGVyYW5kRXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhbmRFcnJvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmJpbmFyeU9wKFxyXG4gICAgICAgICAgICBsZWZ0UmVzdWx0LnZhbHVlLCByaWdodFJlc3VsdC52YWx1ZSwgdGhpcy5vcCxcclxuICAgICAgICAgICAgdGhpcy5vcGVyYXRvcnNbdGhpcy5vcF0sIHRoaXMuZGF0YVR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjaGVja09wZXJhbmRzKGxlZnRSZXN1bHQ6IFN1Y2Nlc3NFeHByZXNzaW9uUmVzdWx0LCByaWdodFJlc3VsdDogU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQpIDogRXJyb3JFeHByZXNzaW9uUmVzdWx0IHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5hcnlPcChsZWZ0TWF0OiBNYXRyaXgsIHJpZ2h0TWF0OiBNYXRyaXgsIG9wOiBzdHJpbmcsXHJcbiAgICAgICAgb3BlcmF0ZSA6IChsZWZ0Om51bWJlciwgcmlnaHQ6bnVtYmVyKSA9PiBudW1iZXIsIGRhdGFUeXBlOiBEYXRhVHlwZSkgOiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHQge1xyXG5cclxuICAgICAgICBsZXQgbmV3RGF0YSA9IFtdO1xyXG4gICAgICAgIGxldCBudW1Sb3dzO1xyXG4gICAgICAgIGxldCBudW1Db2xzO1xyXG4gICAgICAgIGlmIChsZWZ0TWF0LnJvd3MgPT09IHJpZ2h0TWF0LnJvd3MgJiYgbGVmdE1hdC5jb2xzID09PSByaWdodE1hdC5jb2xzKSB7XHJcbiAgICAgICAgICAgIC8vIFNhbWUgZGltZW5zaW9ucyAoYWxzbyBjb3ZlcnMgYm90aCBzY2FsYXJzKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBsZWZ0TWF0Lm51bWVsOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIG5ld0RhdGEucHVzaChvcGVyYXRlKGxlZnRNYXQuYXRMaW5lYXIoaSksIHJpZ2h0TWF0LmF0TGluZWFyKGkpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbnVtUm93cyA9IGxlZnRNYXQucm93cztcclxuICAgICAgICAgICAgbnVtQ29scyA9IGxlZnRNYXQuY29scztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGVmdE1hdC5pc1NjYWxhcikge1xyXG4gICAgICAgICAgICBsZXQgbGVmdFNjYWxhciA9IGxlZnRNYXQuc2NhbGFyVmFsdWUoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcmlnaHRNYXQubnVtZWw7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKG9wZXJhdGUobGVmdFNjYWxhciwgcmlnaHRNYXQuYXRMaW5lYXIoaSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBudW1Sb3dzID0gcmlnaHRNYXQucm93cztcclxuICAgICAgICAgICAgbnVtQ29scyA9IHJpZ2h0TWF0LmNvbHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJpZ2h0TWF0LmlzU2NhbGFyKSB7XHJcbiAgICAgICAgICAgIGxldCByaWdodFNjYWxhciA9IHJpZ2h0TWF0LnNjYWxhclZhbHVlKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGxlZnRNYXQubnVtZWw7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKG9wZXJhdGUobGVmdE1hdC5hdExpbmVhcihpKSwgcmlnaHRTY2FsYXIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBudW1Sb3dzID0gbGVmdE1hdC5yb3dzO1xyXG4gICAgICAgICAgICBudW1Db2xzID0gbGVmdE1hdC5jb2xzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiTWlzbWF0Y2hlZCBkaW1lbnNpb25zIGZvciBvcGVyYXRvciBcIiArIG9wICsgXCIuIExIUyBpcyBhIFwiICtcclxuICAgICAgICAgICAgbGVmdE1hdC5yb3dzICsgXCJ4XCIgKyBsZWZ0TWF0LmNvbHMgKyBcIiBhbmQgUkhTIGlzIGEgXCIgK1xyXG4gICAgICAgICAgICByaWdodE1hdC5yb3dzICsgXCJ4XCIgKyByaWdodE1hdC5jb2xzICsgXCIuXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQobmV3IE1hdHJpeChudW1Sb3dzLCBudW1Db2xzLCBuZXdEYXRhLCBkYXRhVHlwZSkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC1iaW5hcnlPcFwiPlxyXG4gICAgICAgICAgICA8ZGl2PiR7dGhpcy5sZWZ0LnZpc3VhbGl6ZV9odG1sKCl9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXY+Jm5ic3A7JHt0aGlzLm9wfSZuYnNwOzwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PiR7dGhpcy5yaWdodC52aXN1YWxpemVfaHRtbCgpfTwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEFkZEV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlPcGVyYXRvckV4cHJlc3Npb24ge1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGRhdGFUeXBlID0gXCJkb3VibGVcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCIrXCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IGEgKyBiLFxyXG4gICAgICAgIFwiLVwiIDogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiBhIC0gYixcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTXVsdEV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlPcGVyYXRvckV4cHJlc3Npb24ge1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGRhdGFUeXBlID0gXCJkb3VibGVcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCIqXCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IGEgKiBiLFxyXG4gICAgICAgIFwiL1wiIDogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiBhIC8gYixcclxuICAgICAgICBcIi4qXCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IGEgKiBiLFxyXG4gICAgICAgIFwiLi9cIiA6IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gYSAvIGIsXHJcbiAgICAgICAgXCIuXlwiIDogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiBNYXRoLnBvdyhhLGIpXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNoZWNrT3BlcmFuZHMobGVmdFJlc3VsdDogU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQsIHJpZ2h0UmVzdWx0OiBTdWNjZXNzRXhwcmVzc2lvblJlc3VsdCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wID09PSBcIipcIiB8fCB0aGlzLm9wID09PSBcIi9cIiB8fCB0aGlzLm9wID09PSBcIl5cIikge1xyXG4gICAgICAgICAgICAvLyBPbmUgbXVzdCBiZSBhIHNjYWxhciwgb3RoZXJ3aXNlIGl0J3MgbWF0cml4IG11bHRpcGxpY2F0aW9uIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQuXHJcbiAgICAgICAgICAgIGlmICghbGVmdFJlc3VsdC52YWx1ZS5pc1NjYWxhciAmJiAhcmlnaHRSZXN1bHQudmFsdWUuaXNTY2FsYXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvclJlc3VsdChuZXcgTWF0bGFiRXJyb3IodGhpcywgXCJTb3JyeSwgbWF0cml4IG11bHRpcGxpY2F0aW9uLCBkaXZpc2lvbiwgYW5kIGV4cG9uZW50aWF0aW9uIFwiICtcclxuICAgICAgICAgICAgICAgICBcImFyZSBub3Qgc3VwcG9ydGVkLiBZb3UgbWF5IHVzZSB0aGUgZWxlbWVudC13aXNlIHZlcnNpb25zIChpLmUuIC4qLCAuLywgLl4pLlwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIE1hdHJpeE9yRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbiB7XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBkYXRhVHlwZSA9IFwibG9naWNhbFwiO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG9wZXJhdG9ycyA9IHtcclxuICAgICAgICBcInxcIiA6IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gKGEgfHwgYikgPyAxIDogMFxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBNYXRyaXhBbmRFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0YVR5cGUgPSBcImxvZ2ljYWxcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCImXCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhICYmIGIpID8gMSA6IDBcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRXF1YWxpdHlFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0YVR5cGUgPSBcImxvZ2ljYWxcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCI9PVwiIDogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiAoYSA9PT0gYikgPyAxIDogMCxcclxuICAgICAgICBcIn49XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhICE9PSBiKSA/IDEgOiAwXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFJlbGF0aW9uYWxFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0YVR5cGUgPSBcImxvZ2ljYWxcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCI8XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhIDwgYikgPyAxIDogMCxcclxuICAgICAgICBcIjw9XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhIDw9IGIpID8gMSA6IDAsXHJcbiAgICAgICAgXCI+XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhID4gYikgPyAxIDogMCxcclxuICAgICAgICBcIj49XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhID49IGIpID8gMSA6IDBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVW5hcnlPcGVyYXRvciA9IFwiK1wiIHwgXCItXCIgfCBcIn5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVbmFyeU9wZXJhdG9yRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYW5kOiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG9wOiBVbmFyeU9wZXJhdG9yO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5vcCA9IGFzdC5vcDtcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYW5kID0gRXhwcmVzc2lvbi5jcmVhdGUoYXN0LnN1YiwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG9wZXJhdG9ycyA6IHtbb3AgaW4gVW5hcnlPcGVyYXRvcl06IChuOm51bWJlcikgPT4gbnVtYmVyfSA9IHtcclxuICAgICAgICBcIitcIiA6ICh4OiBudW1iZXIpID0+IHgsXHJcbiAgICAgICAgXCItXCIgOiAoeDogbnVtYmVyKSA9PiAteCxcclxuICAgICAgICBcIn5cIiA6ICh4OiBudW1iZXIpID0+IHggPyAwIDogMVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG9wZXJhdG9yRGF0YVR5cGVzIDogIHtbb3AgaW4gVW5hcnlPcGVyYXRvcl06IERhdGFUeXBlfSA9IHtcclxuICAgICAgICBcIitcIiA6IFwiZG91YmxlXCIsXHJcbiAgICAgICAgXCItXCIgOiBcImRvdWJsZVwiLFxyXG4gICAgICAgIFwiflwiIDogXCJsb2dpY2FsXCJcclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG5cclxuICAgICAgICBsZXQgb3BlcmFuZFJlc3VsdCA9IHRoaXMub3BlcmFuZC5leGVjdXRlKCk7XHJcblxyXG4gICAgICAgIGlmIChvcGVyYW5kUmVzdWx0LmtpbmQgIT09IFwic3VjY2Vzc1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcGVyYW5kUmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG9wZXJhbmRFcnJvciA9IHRoaXMuY2hlY2tPcGVyYW5kKG9wZXJhbmRSZXN1bHQpO1xyXG4gICAgICAgIGlmIChvcGVyYW5kRXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhbmRFcnJvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnVuYXJ5T3Aob3BlcmFuZFJlc3VsdC52YWx1ZSwgdGhpcy5vcGVyYXRvcnNbdGhpcy5vcF0sIHRoaXMub3BlcmF0b3JEYXRhVHlwZXNbdGhpcy5vcF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjaGVja09wZXJhbmQob3BlcmFuZFJlc3VsdDogU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQpIDogRXJyb3JFeHByZXNzaW9uUmVzdWx0IHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1bmFyeU9wKG1hdDogTWF0cml4LCBvcGVyYXRlIDogKG46bnVtYmVyKSA9PiBudW1iZXIsIGRhdGFUeXBlOkRhdGFUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQobmV3IE1hdHJpeChtYXQucm93cywgbWF0LmNvbHMsIG1hdC5kYXRhLm1hcChvcGVyYXRlKSwgZGF0YVR5cGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC11bmFyeU9wXCI+XHJcbiAgICAgICAgICAgIDxkaXY+JHt0aGlzLm9wfSZuYnNwOzwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PiR7dGhpcy5vcGVyYW5kLnZpc3VhbGl6ZV9odG1sKCl9PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgVHJhbnNwb3NlRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYW5kOiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG51bVRyYW5zcG9zZXM6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXN0OiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgc3VwZXIoYXN0LCBlbnYpO1xyXG4gICAgICAgIHRoaXMubnVtVHJhbnNwb3NlcyA9IGFzdC50cmFuc3Bvc2VzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYW5kID0gRXhwcmVzc2lvbi5jcmVhdGUoYXN0LnN1YiwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZXZhbHVhdGUoKSB7XHJcblxyXG4gICAgICAgIGxldCBvcGVyYW5kUmVzdWx0ID0gdGhpcy5vcGVyYW5kLmV4ZWN1dGUoKTtcclxuXHJcbiAgICAgICAgaWYgKG9wZXJhbmRSZXN1bHQua2luZCAhPT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhbmRSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFsxLDIsMzs0LDUsNjs3LDgsOV0gICAgIDEgNCA3IDIgNiA4IDMgNiA5XHJcbiAgICAgICAgLy8gUGVyZm9ybSB0cmFuc3Bvc2UgYnkgZG9pbmcgYSByb3ctbWFqb3IgdHJhdmVyc2FsIGFuZCByZWNvcmRpbmcgYXMgbmV3IGNvbHVtbi1tYWpvciBkYXRhXHJcbiAgICAgICAgbGV0IG9sZE1hdCA9IG9wZXJhbmRSZXN1bHQudmFsdWU7XHJcbiAgICAgICAgbGV0IG5ld0RhdGEgOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgciA9IDE7IHIgPD0gb2xkTWF0LnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMTsgYyA8PSBvbGRNYXQuY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdEYXRhLnB1c2gob2xkTWF0LmF0KHIsIGMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVzdWx0IG1hdHJpeCBoYXMgbnVtYmVyIG9mIGNvbHMvcm93cyBzd2l0Y2hlZCBhbmQgbmV3IGRhdGEgZnJvbSBhYm92ZVxyXG4gICAgICAgIHJldHVybiBzdWNjZXNzUmVzdWx0KG5ldyBNYXRyaXgob2xkTWF0LmNvbHMsIG9sZE1hdC5yb3dzLCBuZXdEYXRhLCBvbGRNYXQuZGF0YVR5cGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC11bmFyeU9wXCI+XHJcbiAgICAgICAgICAgIDxkaXY+dHJhbnNwb3NlJm5ic3A7PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXY+JHt0aGlzLm9wZXJhbmQudmlzdWFsaXplX2h0bWwoKX08L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy8gVE9ETzogVGhpcyB3aG9sZSB0aGluZyBuZWVkcyBhIGJpdCBvZiByZXZpZXdcclxuY2xhc3MgSW5kZXhPckNhbGxFeHByZXNzaW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcblxyXG4gICAgLy8gY3VycmVudEluZGV4ZWRWYXJpYWJsZSA6IG51bGxcclxuICAgIC8vIGN1cnJlbnRJbmRleGVkRGltZW5zaW9uIDogMCxcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldE5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBpbmRpY2llc09yQXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzdWJhcnJheVJlc3VsdD86IFN1YmFycmF5O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG9yaWdpbmFsTWF0cml4PyA6IE1hdHJpeDtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhlY3V0ZWRGdW5jdGlvbj8gOiBNYXRsYWJGdW5jdGlvbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXN0OiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgc3VwZXIoYXN0LCBlbnYpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0TmFtZSA9IGFzdFtcInRhcmdldFwiXTtcclxuICAgICAgICB0aGlzLmluZGljaWVzT3JBcmdzID0gYXN0W1wiYXJnc1wiXS5tYXAoKGk6QVNUTm9kZSkgPT4gRXhwcmVzc2lvbi5jcmVhdGUoaSwgZW52KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG4gICAgICAgIGxldCB2YXJpID0gdGhpcy5lbnYubG9va3VwKHRoaXMudGFyZ2V0TmFtZSk7XHJcbiAgICAgICAgaWYgKCF2YXJpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvclJlc3VsdChuZXcgTWF0bGFiRXJyb3IodGhpcywgXCJTb3JyeSwgSSBjYW4ndCBmaW5kIGEgdmFyaWFibGUgb3IgZnVuY3Rpb24gbmFtZWQgXCIgKyB0aGlzLnRhcmdldE5hbWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2YXJpIGluc3RhbmNlb2YgVmFyaWFibGUpIHtcclxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHZhcmkudmFsdWU7XHJcbiAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5vcmlnaW5hbE1hdHJpeCA9IHRhcmdldC5jbG9uZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5kaWNpZXNPckFyZ3MubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogYWRkIGFuIGVycm9yIG1lc3NhZ2UgdGhhdCBzdWdnZXN0cyBzdHVkZW50cyBtaWdodCBoYXZlIHNoYWRvd2VkIGEgZnVuY3Rpb24sIGlmIHRoYXQgaXMgdGhlIGNhc2UuIG1heWJlIGFkZCBpdCBoZXJlP1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzdWx0KG5ldyBNYXRsYWJFcnJvcih0aGlzLCBcIlNvcnJ5LCBpbmRleGluZyBpbiBtb3JlIHRoYXQgdHdvIGRpbWVuc2lvbnMgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQuXCIpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGluZGljZXNSZXN1bHRzID0gdGhpcy5pbmRpY2llc09yQXJncy5tYXAoKGluZGV4LCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVudi5wdXNoRW5kVmFsdWUodGFyZ2V0Lmxlbmd0aCg8MXwyPihpKzEpKSk7IC8vIDEgb3IgMiBndWFyYW50ZWVkIGZyb20gYWJvdmUgZXJyb3IgY2hlY2sgZm9yIHRvbyBtYW55IGluZGljZXNcclxuICAgICAgICAgICAgICAgIGxldCByZXMgPSBpbmRleC5leGVjdXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVudi5wb3BFbmRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCFhbGxTdWNjZXNzKGluZGljZXNSZXN1bHRzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGljZXNSZXN1bHRzLmZpbmQociA9PiB7cmV0dXJuIHIua2luZCAhPT0gXCJzdWNjZXNzXCI7fSkhO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5kaWNlc1Jlc3VsdHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuc3ViYXJyYXlSZXN1bHQgPSBMaW5lYXJTdWJhcnJheS5jcmVhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2llc09yQXJnc1swXSBpbnN0YW5jZW9mIENvbG9uRXhwcmVzc2lvbiA/IFwiOlwiIDogaW5kaWNlc1Jlc3VsdHNbMF0udmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLnN1YmFycmF5UmVzdWx0ID0gQ29vcmRpbmF0ZVN1YmFycmF5LmNyZWF0ZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljaWVzT3JBcmdzWzBdIGluc3RhbmNlb2YgQ29sb25FeHByZXNzaW9uID8gXCI6XCIgOiBpbmRpY2VzUmVzdWx0c1swXS52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljaWVzT3JBcmdzWzFdIGluc3RhbmNlb2YgQ29sb25FeHByZXNzaW9uID8gXCI6XCIgOiBpbmRpY2VzUmVzdWx0c1sxXS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1YmFycmF5UmVzdWx0IS52ZXJpZnkodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzUmVzdWx0KHRoaXMuc3ViYXJyYXlSZXN1bHQhLnJlYWRWYWx1ZSh0YXJnZXQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaChtc2cpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvclJlc3VsdChuZXcgTWF0bGFiRXJyb3IodGhpcywgbXNnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBmdW5jID0gKDxNdXRhYmxlPHRoaXM+PnRoaXMpLmV4ZWN1dGVkRnVuY3Rpb24gPSB2YXJpO1xyXG4gICAgICAgICAgICBpZiAoIWZ1bmMuaXNWYWxpZE51bWJlck9mQXJncyh0aGlzLmluZGljaWVzT3JBcmdzLmxlbmd0aCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvclJlc3VsdChuZXcgTWF0bGFiRXJyb3IodGhpcywgYEludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyBmb3IgdGhlICR7dGhpcy50YXJnZXROYW1lfSBmdW5jdGlvbi5gKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBhcmdSZXN1bHRzID0gdGhpcy5pbmRpY2llc09yQXJncy5tYXAoKGlucHV0KSA9PiBpbnB1dC5leGVjdXRlKCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFhbGxTdWNjZXNzKGFyZ1Jlc3VsdHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnUmVzdWx0cy5maW5kKHIgPT4ge3JldHVybiByLmtpbmQgIT09IFwic3VjY2Vzc1wiO30pITtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMub3BlcmF0ZSh0aGlzLCBhcmdSZXN1bHRzLm1hcCgoYXJnUmVzKSA9PiBhcmdSZXMudmFsdWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdmlzdWFsaXplX2V4cHIob3B0aW9ucz86IFZpc3VhbGl6YXRpb25PcHRpb25zKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHdyYXBwZXIgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAgICAgd3JhcHBlci5hZGRDbGFzcyhcIm1hdGxhYi1leHAtaW5kZXhcIik7XHJcblxyXG5cclxuICAgICAgICBsZXQgdmFsdWVIdG1sO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsTWF0cml4ICYmIHRoaXMuc3ViYXJyYXlSZXN1bHQpIHtcclxuICAgICAgICAgICAgdmFsdWVIdG1sID0gdGhpcy5zdWJhcnJheVJlc3VsdC52aXN1YWxpemVfc2VsZWN0aW9uKHRoaXMub3JpZ2luYWxNYXRyaXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJtYXRsYWItZXhwLWluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAke3ZhbHVlSHRtbH1cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXRsYWItaWRlbnRpZmllci1uYW1lXCI+JHt0aGlzLnRhcmdldE5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PmBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZXhlY3V0ZWRGdW5jdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJtYXRsYWItZXhwLWNhbGxcIj5cclxuICAgICAgICAgICAgICAgICR7dGhpcy50YXJnZXROYW1lfShcclxuICAgICAgICAgICAgICAgICAgICAke3RoaXMuaW5kaWNpZXNPckFyZ3MubWFwKChhcmcpID0+IGA8ZGl2IGNsYXNzPVwibWF0bGFiLWNhbGwtYXJnXCI+JHthcmcudmlzdWFsaXplX2h0bWwoKX08L2Rpdj5gKS5qb2luKFwiLFwiKX1cclxuICAgICAgICAgICAgICAgICk8L2Rpdj5gXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvL1RPRE9cclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ29sb25FeHByZXNzaW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcblxyXG4gICAgcHVibGljIGV2YWx1YXRlKCkge1xyXG4gICAgICAgIHJldHVybiBzdWNjZXNzUmVzdWx0KG5ldyBNYXRyaXgoMSwxLFsxXSxcImRvdWJsZVwiKSk7IC8vIGR1bW15IHZhbHVlXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHZpc3VhbGl6ZV9leHByKCkge1xyXG4gICAgICAgIHJldHVybiBcIjxzcGFuPjo8L3NwYW4+XCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNjYWxhckh0bWwodmFsdWU6IG51bWJlcikge1xyXG4gICAgdmFyIG51bVN0ciA9IE1hdHJpeC5mb3JtYXROdW1iZXIodmFsdWUpO1xyXG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibWF0bGFiLXNjYWxhciR7bnVtU3RyLmxlbmd0aCA+IDMgPyBcIiBkb3VibGVcIiA6IFwiXCJ9XCI+XHJcbiAgICAgICAgPHNwYW4+JHtudW1TdHJ9PC9zcGFuPlxyXG4gICAgPC9kaXY+YDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExpdGVyYWxFeHByZXNzaW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBsaXRlcmFsVmFsdWUgOiBNYXRyaXg7XHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5saXRlcmFsVmFsdWUgPSBNYXRyaXguc2NhbGFyKHRoaXMuYXN0W1widmFsdWVcIl0sIFwiZG91YmxlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBldmFsdWF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gc3VjY2Vzc1Jlc3VsdCh0aGlzLmxpdGVyYWxWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9leHByKG9wdGlvbnM/OiBWaXN1YWxpemF0aW9uT3B0aW9ucykge1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNvbnRhaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2NhbGFySHRtbCh0aGlzLmxpdGVyYWxWYWx1ZS5zY2FsYXJWYWx1ZSgpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGl0ZXJhbFZhbHVlLnZpc3VhbGl6ZV9odG1sKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBUT0RPOiByZXNlcnZlZCB3b3JkcyBjYW4ndCBiZSB1c2VkIGFzIGlkZW50aWZpZXJzXHJcbmV4cG9ydCBjbGFzcyBJZGVudGlmaWVyRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFzdDogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkge1xyXG4gICAgICAgIHN1cGVyKGFzdCwgZW52KTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBhc3RbXCJpZGVudGlmaWVyXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBldmFsdWF0ZSgpIHtcclxuICAgICAgICBsZXQgZW52ID0gdGhpcy5lbnY7XHJcbiAgICAgICAgbGV0IHZhcmkgPSBlbnYubG9va3VwKHRoaXMubmFtZSk7XHJcbiAgICAgICAgaWYgKHZhcmkgJiYgISh2YXJpIGluc3RhbmNlb2YgTWF0bGFiRnVuY3Rpb24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzUmVzdWx0KHZhcmkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzdWx0KG5ldyBNYXRsYWJFcnJvcih0aGlzLCBcIkNhbm5vdCBmaW5kIHZhcmlhYmxlIFwiICsgdGhpcy5uYW1lKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2aXN1YWxpemVfZXhwcigpIHtcclxuICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJtYXRsYWItaWRlbnRpZmllclwiPlxyXG4gICAgICAgICAgICAke3RoaXMucmVzdWx0LmtpbmQgPT09IFwic3VjY2Vzc1wiID8gdGhpcy5yZXN1bHQudmFsdWUudmlzdWFsaXplX2h0bWwoKSA6IFwiXCJ9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXRsYWItaWRlbnRpZmllci1uYW1lXCI+JHt0aGlzLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIH1cclxufVxyXG5cclxuLy8gRXhwcmVzc2lvbi5FbmQgPSBFeHByZXNzaW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJFeHByZXNzaW9uLkVuZFwiLFxyXG5cclxuLy8gICAgIGV2YWx1YXRlIDogZnVuY3Rpb24oKSB7XHJcblxyXG4vLyAgICAgICAgIC8vIGdyYWIgbWF0cml4IHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIGluZGV4ZWRcclxuLy8gICAgICAgICB2YXIgaW5kZXhlZE1hdHJpeCA9IEV4cHJlc3Npb24uSW5kZXguY3VycmVudEluZGV4ZWRWYXJpYWJsZS5nZXRWYWx1ZSgpO1xyXG5cclxuLy8gICAgICAgICBpZighaW5kZXhlZE1hdHJpeCkge1xyXG4vLyAgICAgICAgICAgICB0aHJvdyB7bWVzc2FnZTogXCJlbmQga2V5d29yZCBpcyBvbmx5IGFsbG93ZWQgd2l0aGluIHRoZSBjb250ZXh0IG9mIGFuIGluZGV4aW5nIGV4cHJlc3Npb24uXCJ9O1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy52YWx1ZSA9IE1hdHJpeC5zY2FsYXIoaW5kZXhlZE1hdHJpeC5sZW5ndGgoRXhwcmVzc2lvbi5JbmRleC5jdXJyZW50SW5kZXhlZERpbWVuc2lvbiksIFwiaW50XCIpO1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuLy8gVE9ETzoganVzdCB0eXBpbmcgYW4gaWRlbnRpZmllciBzaG91bGQgbm90IGNoYW5nZSBhbnNcclxuLy8gdmFyIHByb2Nlc3NBbnMgPSBmdW5jdGlvbihyZXN1bHQpIHtcclxuLy8gICAgIHZhciBhbnNFbGVtID0gJChcIiNhbnNWaXN1YWxpemF0aW9uXCIpO1xyXG4vLyAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQubWF0cml4VmFsdWUpIHtcclxuLy8gICAgICAgICB2YXIgbWF0ID0gcmVzdWx0Lm1hdHJpeFZhbHVlKCk7XHJcbi8vICAgICAgICAgQ29kZUNvbnN0cnVjdC5nZXRFbnZpcm9ubWVudCgpLnNldFZhcihcImFuc1wiLCBtYXQpO1xyXG4vLyAgICAgICAgIGFuc0VsZW0uZW1wdHkoKTtcclxuXHJcbi8vICAgICAgICAgdmFyIHdyYXBwZXIgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbi8vICAgICAgICAgd3JhcHBlci5hZGRDbGFzcyhcIm1hdGxhYi1hc3NpZ25tZW50XCIpO1xyXG4vLyAgICAgICAgIHdyYXBwZXIuYXBwZW5kKFwiYW5zXCIpO1xyXG5cclxuLy8gICAgICAgICB3cmFwcGVyLmFwcGVuZChcIiZuYnNwOz0mbmJzcDtcIik7XHJcblxyXG4vLyAgICAgICAgIHZhciByaHNFbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4vLyAgICAgICAgIG1hdC52aXN1YWxpemVfaHRtbChyaHNFbGVtKTtcclxuLy8gICAgICAgICB3cmFwcGVyLmFwcGVuZChyaHNFbGVtKTtcclxuXHJcbi8vICAgICAgICAgYW5zRWxlbS5hcHBlbmQod3JhcHBlcik7XHJcblxyXG4vLyAgICAgICAgIGFuc0VsZW0uc2hvdygpO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgZWxzZXtcclxuLy8gICAgICAgICBhbnNFbGVtLmhpZGUoKTtcclxuLy8gICAgIH1cclxuLy8gfTtcclxuXHJcbi8vIGZ1bmN0aW9uIGluaXRpYWxpemVFeGFtcGxlcygpe1xyXG5cclxuLy8gICAgIHZhciBleGFtcGxlcyA9IFtdO1xyXG5cclxuLy8gICAgICQoXCIubWF0bGFiLWV4YW1wbGUtZXhwXCIpLmVhY2goZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgdmFyIHNyY0VsZW0gPSAkKHRoaXMpLmZpbmQoXCIubWF0bGFiLWV4YW1wbGUtc3JjXCIpO1xyXG4vLyAgICAgICAgIHZhciB2aXMgPSAkKHRoaXMpLmZpbmQoXCIubWF0bGFiLWV4YW1wbGUtdmlzXCIpO1xyXG5cclxuLy8gICAgICAgICB2YXIgdXBkYXRlRXhhbXBsZSA9IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAgdmFyIHRleHQgPSBzcmNFbGVtLnZhbCgpLnRyaW0oKTtcclxuLy8gICAgICAgICAgICAgdmlzLmVtcHR5KCk7XHJcbi8vICAgICAgICAgICAgIHRyeXtcclxuLy8gICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBzcmNUZXh0ID0gTUFUTEFCX1BBUlNFUi5wYXJzZSh0ZXh0KTtcclxuLy8gLy8gICAgICAgICAgICAgICAgICAgIHZpc3VhbGl6ZShleHAsICQoXCIjdmlzdWFsaXphdGlvblwiKSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGNjID0gQ29kZUNvbnN0cnVjdC5pbnN0YW5jZShzcmNUZXh0KTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2MuZXZhbHVhdGUoKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBjYy52aXN1YWxpemVfaHRtbCh2aXMpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NBbnMocmVzdWx0KTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBjYXRjaChlcnIpIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChlcnIudmlzdWFsaXplX2h0bWwpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBlcnIudmlzdWFsaXplX2h0bWwodmlzKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmlzLmh0bWwoZXJyLm1lc3NhZ2UpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfTtcclxuXHJcbi8vICAgICAgICAgdmFyIGV4cF9pbl90aW1lb3V0O1xyXG4vLyAgICAgICAgIHNyY0VsZW0ua2V5cHJlc3MoZnVuY3Rpb24gKGUpIHtcclxuLy8gICAgICAgICAgICAgdmFyIGNvZGUgPSBlLmtleUNvZGUgfHwgZS53aGljaDtcclxuLy8gICAgICAgICAgICAgaWYoY29kZSAhPSAxMykgeyAvL0VudGVyIGtleWNvZGVcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgICAgICAgICAgIHZhciBkZWxheSA9IDUwMDsgLy8gbXNcclxuLy8gICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGV4cF9pbl90aW1lb3V0KTtcclxuLy8gICAgICAgICAgICAgZXhwX2luX3RpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZUV4YW1wbGUsIGRlbGF5KVxyXG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgICAgIGV4YW1wbGVzLnB1c2goe1xyXG4vLyAgICAgICAgICAgICBzcmNFbGVtOiBzcmNFbGVtLFxyXG4vLyAgICAgICAgICAgICB2aXNFbGVtOiB2aXMsXHJcbi8vICAgICAgICAgICAgIHVwZGF0ZTogdXBkYXRlRXhhbXBsZVxyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgZm9yKHZhciBpID0gMDsgaSA8IGV4YW1wbGVzLmxlbmd0aDsgKytpKSB7XHJcbi8vICAgICAgICAgZXhhbXBsZXNbaV0udXBkYXRlKCk7XHJcbi8vICAgICB9XHJcblxyXG5cclxuLy8gfVxyXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4xMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4gIC8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbiAgdmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbiAgdmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuICB2YXIgUExBQ0VIT0xERVIgPSAnX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cbiAgdmFyIENMT05FX0RFRVBfRkxBRyA9IDEsXG4gICAgICBDTE9ORV9GTEFUX0ZMQUcgPSAyLFxuICAgICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbiAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICB2YXIgV1JBUF9CSU5EX0ZMQUcgPSAxLFxuICAgICAgV1JBUF9CSU5EX0tFWV9GTEFHID0gMixcbiAgICAgIFdSQVBfQ1VSUllfQk9VTkRfRkxBRyA9IDQsXG4gICAgICBXUkFQX0NVUlJZX0ZMQUcgPSA4LFxuICAgICAgV1JBUF9DVVJSWV9SSUdIVF9GTEFHID0gMTYsXG4gICAgICBXUkFQX1BBUlRJQUxfRkxBRyA9IDMyLFxuICAgICAgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgPSA2NCxcbiAgICAgIFdSQVBfQVJZX0ZMQUcgPSAxMjgsXG4gICAgICBXUkFQX1JFQVJHX0ZMQUcgPSAyNTYsXG4gICAgICBXUkFQX0ZMSVBfRkxBRyA9IDUxMjtcblxuICAvKiogVXNlZCBhcyBkZWZhdWx0IG9wdGlvbnMgZm9yIGBfLnRydW5jYXRlYC4gKi9cbiAgdmFyIERFRkFVTFRfVFJVTkNfTEVOR1RIID0gMzAsXG4gICAgICBERUZBVUxUX1RSVU5DX09NSVNTSU9OID0gJy4uLic7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xuICB2YXIgSE9UX0NPVU5UID0gODAwLFxuICAgICAgSE9UX1NQQU4gPSAxNjtcblxuICAvKiogVXNlZCB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiBsYXp5IGl0ZXJhdGVlcy4gKi9cbiAgdmFyIExBWllfRklMVEVSX0ZMQUcgPSAxLFxuICAgICAgTEFaWV9NQVBfRkxBRyA9IDIsXG4gICAgICBMQVpZX1dISUxFX0ZMQUcgPSAzO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICAgIE5BTiA9IDAgLyAwO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHRoZSBtYXhpbXVtIGxlbmd0aCBhbmQgaW5kZXggb2YgYW4gYXJyYXkuICovXG4gIHZhciBNQVhfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NSxcbiAgICAgIE1BWF9BUlJBWV9JTkRFWCA9IE1BWF9BUlJBWV9MRU5HVEggLSAxLFxuICAgICAgSEFMRl9NQVhfQVJSQVlfTEVOR1RIID0gTUFYX0FSUkFZX0xFTkdUSCA+Pj4gMTtcblxuICAvKiogVXNlZCB0byBhc3NvY2lhdGUgd3JhcCBtZXRob2RzIHdpdGggdGhlaXIgYml0IGZsYWdzLiAqL1xuICB2YXIgd3JhcEZsYWdzID0gW1xuICAgIFsnYXJ5JywgV1JBUF9BUllfRkxBR10sXG4gICAgWydiaW5kJywgV1JBUF9CSU5EX0ZMQUddLFxuICAgIFsnYmluZEtleScsIFdSQVBfQklORF9LRVlfRkxBR10sXG4gICAgWydjdXJyeScsIFdSQVBfQ1VSUllfRkxBR10sXG4gICAgWydjdXJyeVJpZ2h0JywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHXSxcbiAgICBbJ2ZsaXAnLCBXUkFQX0ZMSVBfRkxBR10sXG4gICAgWydwYXJ0aWFsJywgV1JBUF9QQVJUSUFMX0ZMQUddLFxuICAgIFsncGFydGlhbFJpZ2h0JywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUddLFxuICAgIFsncmVhcmcnLCBXUkFQX1JFQVJHX0ZMQUddXG4gIF07XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJyxcbiAgICAgIHdlYWtTZXRUYWcgPSAnW29iamVjdCBXZWFrU2V0XSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlZEh0bWwgPSAvJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2csXG4gICAgICByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ10vZyxcbiAgICAgIHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpLFxuICAgICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZUVzY2FwZSA9IC88JS0oW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVFdmFsdWF0ZSA9IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gICAqL1xuICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nLFxuICAgICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG4gIHZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZyxcbiAgICAgIHJlVHJpbVN0YXJ0ID0gL15cXHMrLyxcbiAgICAgIHJlVHJpbUVuZCA9IC9cXHMrJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy52YWx1ZXNgIGFuZCBgXy52YWx1ZXNJbmAgd2hpY2ggY3JlYXRlcyBhblxuICAgKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAgICogb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VWYWx1ZXMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICAgIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltU3RhcnRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBgcGxhY2Vob2xkZXJgIG9jY3VycmVuY2VzIGluIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciBjb3VudC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvdW50SG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSAwO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoYXJyYXlbbGVuZ3RoXSA9PT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgKytyZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy5kZWJ1cnJgIHRvIGNvbnZlcnQgTGF0aW4tMSBTdXBwbGVtZW50IGFuZCBMYXRpbiBFeHRlbmRlZC1BXG4gICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBsZXR0ZXIuXG4gICAqL1xuICB2YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIoY2hyKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIGEgd29yZCBjb21wb3NlZCBvZiBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlV29yZChzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYGl0ZXJhdG9yYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZXJhdG9yIFRoZSBpdGVyYXRvciB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yVG9BcnJheShpdGVyYXRvcikge1xuICAgIHZhciBkYXRhLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICghKGRhdGEgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGRhdGEudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBgcGxhY2Vob2xkZXJgIGVsZW1lbnRzIGluIGBhcnJheWAgd2l0aCBhbiBpbnRlcm5hbCBwbGFjZWhvbGRlclxuICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGVpciBpbmRleGVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byByZXBsYWNlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZUhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAodmFsdWUgPT09IHBsYWNlaG9sZGVyIHx8IHZhbHVlID09PSBQTEFDRUhPTERFUikge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBQTEFDRUhPTERFUjtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gaXRzIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvUGFpcnMoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBbdmFsdWUsIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5sYXN0SW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggKyAxO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2Ygc3ltYm9scyBpbiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nU2l6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVTaXplKHN0cmluZylcbiAgICAgIDogYXNjaWlTaXplKHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlVG9BcnJheShzdHJpbmcpXG4gICAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byB1bmVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciB1bmVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbFVuZXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYSBVbmljb2RlIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlU2l6ZShzdHJpbmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVVbmljb2RlLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJlVW5pY29kZS50ZXN0KHN0cmluZykpIHtcbiAgICAgICsrcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGVXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdXNpbmcgdGhlIGBjb250ZXh0YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDEuMS4wXG4gICAqIEBjYXRlZ29yeSBVdGlsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD1yb290XSBUaGUgY29udGV4dCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIG5ldyBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5taXhpbih7ICdmb28nOiBfLmNvbnN0YW50KCdmb28nKSB9KTtcbiAgICpcbiAgICogdmFyIGxvZGFzaCA9IF8ucnVuSW5Db250ZXh0KCk7XG4gICAqIGxvZGFzaC5taXhpbih7ICdiYXInOiBsb2Rhc2guY29uc3RhbnQoJ2JhcicpIH0pO1xuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oXy5mb28pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqIF8uaXNGdW5jdGlvbihfLmJhcik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5mb28pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guYmFyKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiAvLyBDcmVhdGUgYSBzdXBlZC11cCBgZGVmZXJgIGluIE5vZGUuanMuXG4gICAqIHZhciBkZWZlciA9IF8ucnVuSW5Db250ZXh0KHsgJ3NldFRpbWVvdXQnOiBzZXRJbW1lZGlhdGUgfSkuZGVmZXI7XG4gICAqL1xuICB2YXIgcnVuSW5Db250ZXh0ID0gKGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgPT0gbnVsbCA/IHJvb3QgOiBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKTtcblxuICAgIC8qKiBCdWlsdC1pbiBjb25zdHJ1Y3RvciByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG4gICAgICAgIERhdGUgPSBjb250ZXh0LkRhdGUsXG4gICAgICAgIEVycm9yID0gY29udGV4dC5FcnJvcixcbiAgICAgICAgRnVuY3Rpb24gPSBjb250ZXh0LkZ1bmN0aW9uLFxuICAgICAgICBNYXRoID0gY29udGV4dC5NYXRoLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0Lk9iamVjdCxcbiAgICAgICAgUmVnRXhwID0gY29udGV4dC5SZWdFeHAsXG4gICAgICAgIFN0cmluZyA9IGNvbnRleHQuU3RyaW5nLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0LlR5cGVFcnJvcjtcblxuICAgIC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG4gICAgdmFyIGNvcmVKc0RhdGEgPSBjb250ZXh0WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbiAgICB2YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzLiAqL1xuICAgIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbiAgICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gICAgICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAgICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICAgKiBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgdmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG4gICAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgXy5ub0NvbmZsaWN0YC4gKi9cbiAgICB2YXIgb2xkRGFzaCA9IHJvb3QuXztcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG4gICAgdmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbiAgICApO1xuXG4gICAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyBjb250ZXh0LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgU3ltYm9sID0gY29udGV4dC5TeW1ib2wsXG4gICAgICAgIFVpbnQ4QXJyYXkgPSBjb250ZXh0LlVpbnQ4QXJyYXksXG4gICAgICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgICAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICAgICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICAgICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgICAgIHNwcmVhZGFibGVTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1JdGVyYXRvciA9IFN5bWJvbCA/IFN5bWJvbC5pdGVyYXRvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgICAgICBmdW5jKHt9LCAnJywge30pO1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSgpKTtcblxuICAgIC8qKiBNb2NrZWQgYnVpbHQtaW5zLiAqL1xuICAgIHZhciBjdHhDbGVhclRpbWVvdXQgPSBjb250ZXh0LmNsZWFyVGltZW91dCAhPT0gcm9vdC5jbGVhclRpbWVvdXQgJiYgY29udGV4dC5jbGVhclRpbWVvdXQsXG4gICAgICAgIGN0eE5vdyA9IERhdGUgJiYgRGF0ZS5ub3cgIT09IHJvb3QuRGF0ZS5ub3cgJiYgRGF0ZS5ub3csXG4gICAgICAgIGN0eFNldFRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQgIT09IHJvb3Quc2V0VGltZW91dCAmJiBjb250ZXh0LnNldFRpbWVvdXQ7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG4gICAgdmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICAgIG5hdGl2ZUZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgICAgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBuYXRpdmVJc0Zpbml0ZSA9IGNvbnRleHQuaXNGaW5pdGUsXG4gICAgICAgIG5hdGl2ZUpvaW4gPSBhcnJheVByb3RvLmpvaW4sXG4gICAgICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpLFxuICAgICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG4gICAgICAgIG5hdGl2ZU5vdyA9IERhdGUubm93LFxuICAgICAgICBuYXRpdmVQYXJzZUludCA9IGNvbnRleHQucGFyc2VJbnQsXG4gICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tLFxuICAgICAgICBuYXRpdmVSZXZlcnNlID0gYXJyYXlQcm90by5yZXZlcnNlO1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xuICAgIHZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShjb250ZXh0LCAnRGF0YVZpZXcnKSxcbiAgICAgICAgTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdNYXAnKSxcbiAgICAgICAgUHJvbWlzZSA9IGdldE5hdGl2ZShjb250ZXh0LCAnUHJvbWlzZScpLFxuICAgICAgICBTZXQgPSBnZXROYXRpdmUoY29udGV4dCwgJ1NldCcpLFxuICAgICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdXZWFrTWFwJyksXG4gICAgICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuICAgIC8qKiBVc2VkIHRvIHN0b3JlIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICAgIHZhciBtZXRhTWFwID0gV2Vha01hcCAmJiBuZXcgV2Vha01hcDtcblxuICAgIC8qKiBVc2VkIHRvIGxvb2t1cCB1bm1pbmlmaWVkIGZ1bmN0aW9uIG5hbWVzLiAqL1xuICAgIHZhciByZWFsTmFtZXMgPSB7fTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG4gICAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgICAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4gICAgLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG4gICAgdmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBpbXBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMuIE1ldGhvZHMgdGhhdCBvcGVyYXRlIG9uIGFuZCByZXR1cm4gYXJyYXlzLCBjb2xsZWN0aW9ucyxcbiAgICAgKiBhbmQgZnVuY3Rpb25zIGNhbiBiZSBjaGFpbmVkIHRvZ2V0aGVyLiBNZXRob2RzIHRoYXQgcmV0cmlldmUgYSBzaW5nbGUgdmFsdWVcbiAgICAgKiBvciBtYXkgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlIHdpbGwgYXV0b21hdGljYWxseSBlbmQgdGhlIGNoYWluIHNlcXVlbmNlXG4gICAgICogYW5kIHJldHVybiB0aGUgdW53cmFwcGVkIHZhbHVlLiBPdGhlcndpc2UsIHRoZSB2YWx1ZSBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogRXhwbGljaXQgY2hhaW4gc2VxdWVuY2VzLCB3aGljaCBtdXN0IGJlIHVud3JhcHBlZCB3aXRoIGBfI3ZhbHVlYCwgbWF5IGJlXG4gICAgICogZW5hYmxlZCB1c2luZyBgXy5jaGFpbmAuXG4gICAgICpcbiAgICAgKiBUaGUgZXhlY3V0aW9uIG9mIGNoYWluZWQgbWV0aG9kcyBpcyBsYXp5LCB0aGF0IGlzLCBpdCdzIGRlZmVycmVkIHVudGlsXG4gICAgICogYF8jdmFsdWVgIGlzIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBMYXp5IGV2YWx1YXRpb24gYWxsb3dzIHNldmVyYWwgbWV0aG9kcyB0byBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbi5cbiAgICAgKiBTaG9ydGN1dCBmdXNpb24gaXMgYW4gb3B0aW1pemF0aW9uIHRvIG1lcmdlIGl0ZXJhdGVlIGNhbGxzOyB0aGlzIGF2b2lkc1xuICAgICAqIHRoZSBjcmVhdGlvbiBvZiBpbnRlcm1lZGlhdGUgYXJyYXlzIGFuZCBjYW4gZ3JlYXRseSByZWR1Y2UgdGhlIG51bWJlciBvZlxuICAgICAqIGl0ZXJhdGVlIGV4ZWN1dGlvbnMuIFNlY3Rpb25zIG9mIGEgY2hhaW4gc2VxdWVuY2UgcXVhbGlmeSBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaWYgdGhlIHNlY3Rpb24gaXMgYXBwbGllZCB0byBhbiBhcnJheSBhbmQgaXRlcmF0ZWVzIGFjY2VwdCBvbmx5XG4gICAgICogb25lIGFyZ3VtZW50LiBUaGUgaGV1cmlzdGljIGZvciB3aGV0aGVyIGEgc2VjdGlvbiBxdWFsaWZpZXMgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAqXG4gICAgICogQ2hhaW5pbmcgaXMgc3VwcG9ydGVkIGluIGN1c3RvbSBidWlsZHMgYXMgbG9uZyBhcyB0aGUgYF8jdmFsdWVgIG1ldGhvZCBpc1xuICAgICAqIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLlxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24gdG8gbG9kYXNoIG1ldGhvZHMsIHdyYXBwZXJzIGhhdmUgYEFycmF5YCBhbmQgYFN0cmluZ2AgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBBcnJheWAgbWV0aG9kcyBhcmU6XG4gICAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHNoaWZ0YCwgYHNvcnRgLCBgc3BsaWNlYCwgYW5kIGB1bnNoaWZ0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYFN0cmluZ2AgbWV0aG9kcyBhcmU6XG4gICAgICogYHJlcGxhY2VgIGFuZCBgc3BsaXRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24gYXJlOlxuICAgICAqIGBhdGAsIGBjb21wYWN0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGRyb3BXaGlsZWAsIGBmaWx0ZXJgLCBgZmluZGAsXG4gICAgICogYGZpbmRMYXN0YCwgYGhlYWRgLCBgaW5pdGlhbGAsIGBsYXN0YCwgYG1hcGAsIGByZWplY3RgLCBgcmV2ZXJzZWAsIGBzbGljZWAsXG4gICAgICogYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLCBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYW5kIGB0b0FycmF5YFxuICAgICAqXG4gICAgICogVGhlIGNoYWluYWJsZSB3cmFwcGVyIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhZnRlcmAsIGBhcnlgLCBgYXNzaWduYCwgYGFzc2lnbkluYCwgYGFzc2lnbkluV2l0aGAsIGBhc3NpZ25XaXRoYCwgYGF0YCxcbiAgICAgKiBgYmVmb3JlYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNhc3RBcnJheWAsIGBjaGFpbmAsIGBjaHVua2AsXG4gICAgICogYGNvbW1pdGAsIGBjb21wYWN0YCwgYGNvbmNhdGAsIGBjb25mb3Jtc2AsIGBjb25zdGFudGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsXG4gICAgICogYGN1cnJ5YCwgYGRlYm91bmNlYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBkZWZlcmAsIGBkZWxheWAsXG4gICAgICogYGRpZmZlcmVuY2VgLCBgZGlmZmVyZW5jZUJ5YCwgYGRpZmZlcmVuY2VXaXRoYCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCxcbiAgICAgKiBgZHJvcFJpZ2h0V2hpbGVgLCBgZHJvcFdoaWxlYCwgYGV4dGVuZGAsIGBleHRlbmRXaXRoYCwgYGZpbGxgLCBgZmlsdGVyYCxcbiAgICAgKiBgZmxhdE1hcGAsIGBmbGF0TWFwRGVlcGAsIGBmbGF0TWFwRGVwdGhgLCBgZmxhdHRlbmAsIGBmbGF0dGVuRGVlcGAsXG4gICAgICogYGZsYXR0ZW5EZXB0aGAsIGBmbGlwYCwgYGZsb3dgLCBgZmxvd1JpZ2h0YCwgYGZyb21QYWlyc2AsIGBmdW5jdGlvbnNgLFxuICAgICAqIGBmdW5jdGlvbnNJbmAsIGBncm91cEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludGVyc2VjdGlvbkJ5YCxcbiAgICAgKiBgaW50ZXJzZWN0aW9uV2l0aGAsIGBpbnZlcnRgLCBgaW52ZXJ0QnlgLCBgaW52b2tlTWFwYCwgYGl0ZXJhdGVlYCwgYGtleUJ5YCxcbiAgICAgKiBga2V5c2AsIGBrZXlzSW5gLCBgbWFwYCwgYG1hcEtleXNgLCBgbWFwVmFsdWVzYCwgYG1hdGNoZXNgLCBgbWF0Y2hlc1Byb3BlcnR5YCxcbiAgICAgKiBgbWVtb2l6ZWAsIGBtZXJnZWAsIGBtZXJnZVdpdGhgLCBgbWV0aG9kYCwgYG1ldGhvZE9mYCwgYG1peGluYCwgYG5lZ2F0ZWAsXG4gICAgICogYG50aEFyZ2AsIGBvbWl0YCwgYG9taXRCeWAsIGBvbmNlYCwgYG9yZGVyQnlgLCBgb3ZlcmAsIGBvdmVyQXJnc2AsXG4gICAgICogYG92ZXJFdmVyeWAsIGBvdmVyU29tZWAsIGBwYXJ0aWFsYCwgYHBhcnRpYWxSaWdodGAsIGBwYXJ0aXRpb25gLCBgcGlja2AsXG4gICAgICogYHBpY2tCeWAsIGBwbGFudGAsIGBwcm9wZXJ0eWAsIGBwcm9wZXJ0eU9mYCwgYHB1bGxgLCBgcHVsbEFsbGAsIGBwdWxsQWxsQnlgLFxuICAgICAqIGBwdWxsQWxsV2l0aGAsIGBwdWxsQXRgLCBgcHVzaGAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlYXJnYCwgYHJlamVjdGAsXG4gICAgICogYHJlbW92ZWAsIGByZXN0YCwgYHJldmVyc2VgLCBgc2FtcGxlU2l6ZWAsIGBzZXRgLCBgc2V0V2l0aGAsIGBzaHVmZmxlYCxcbiAgICAgKiBgc2xpY2VgLCBgc29ydGAsIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHNwcmVhZGAsIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYHRhcGAsIGB0aHJvdHRsZWAsIGB0aHJ1YCwgYHRvQXJyYXlgLFxuICAgICAqIGB0b1BhaXJzYCwgYHRvUGFpcnNJbmAsIGB0b1BhdGhgLCBgdG9QbGFpbk9iamVjdGAsIGB0cmFuc2Zvcm1gLCBgdW5hcnlgLFxuICAgICAqIGB1bmlvbmAsIGB1bmlvbkJ5YCwgYHVuaW9uV2l0aGAsIGB1bmlxYCwgYHVuaXFCeWAsIGB1bmlxV2l0aGAsIGB1bnNldGAsXG4gICAgICogYHVuc2hpZnRgLCBgdW56aXBgLCBgdW56aXBXaXRoYCwgYHVwZGF0ZWAsIGB1cGRhdGVXaXRoYCwgYHZhbHVlc2AsXG4gICAgICogYHZhbHVlc0luYCwgYHdpdGhvdXRgLCBgd3JhcGAsIGB4b3JgLCBgeG9yQnlgLCBgeG9yV2l0aGAsIGB6aXBgLFxuICAgICAqIGB6aXBPYmplY3RgLCBgemlwT2JqZWN0RGVlcGAsIGFuZCBgemlwV2l0aGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBhcmUgKipub3QqKiBjaGFpbmFibGUgYnkgZGVmYXVsdCBhcmU6XG4gICAgICogYGFkZGAsIGBhdHRlbXB0YCwgYGNhbWVsQ2FzZWAsIGBjYXBpdGFsaXplYCwgYGNlaWxgLCBgY2xhbXBgLCBgY2xvbmVgLFxuICAgICAqIGBjbG9uZURlZXBgLCBgY2xvbmVEZWVwV2l0aGAsIGBjbG9uZVdpdGhgLCBgY29uZm9ybXNUb2AsIGBkZWJ1cnJgLFxuICAgICAqIGBkZWZhdWx0VG9gLCBgZGl2aWRlYCwgYGVhY2hgLCBgZWFjaFJpZ2h0YCwgYGVuZHNXaXRoYCwgYGVxYCwgYGVzY2FwZWAsXG4gICAgICogYGVzY2FwZVJlZ0V4cGAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsIGBmaW5kS2V5YCwgYGZpbmRMYXN0YCxcbiAgICAgKiBgZmluZExhc3RJbmRleGAsIGBmaW5kTGFzdEtleWAsIGBmaXJzdGAsIGBmbG9vcmAsIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsXG4gICAgICogYGZvckluYCwgYGZvckluUmlnaHRgLCBgZm9yT3duYCwgYGZvck93blJpZ2h0YCwgYGdldGAsIGBndGAsIGBndGVgLCBgaGFzYCxcbiAgICAgKiBgaGFzSW5gLCBgaGVhZGAsIGBpZGVudGl0eWAsIGBpbmNsdWRlc2AsIGBpbmRleE9mYCwgYGluUmFuZ2VgLCBgaW52b2tlYCxcbiAgICAgKiBgaXNBcmd1bWVudHNgLCBgaXNBcnJheWAsIGBpc0FycmF5QnVmZmVyYCwgYGlzQXJyYXlMaWtlYCwgYGlzQXJyYXlMaWtlT2JqZWN0YCxcbiAgICAgKiBgaXNCb29sZWFuYCwgYGlzQnVmZmVyYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLCBgaXNFbXB0eWAsIGBpc0VxdWFsYCxcbiAgICAgKiBgaXNFcXVhbFdpdGhgLCBgaXNFcnJvcmAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzSW50ZWdlcmAsIGBpc0xlbmd0aGAsXG4gICAgICogYGlzTWFwYCwgYGlzTWF0Y2hgLCBgaXNNYXRjaFdpdGhgLCBgaXNOYU5gLCBgaXNOYXRpdmVgLCBgaXNOaWxgLCBgaXNOdWxsYCxcbiAgICAgKiBgaXNOdW1iZXJgLCBgaXNPYmplY3RgLCBgaXNPYmplY3RMaWtlYCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLFxuICAgICAqIGBpc1NhZmVJbnRlZ2VyYCwgYGlzU2V0YCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGlzVHlwZWRBcnJheWAsXG4gICAgICogYGlzV2Vha01hcGAsIGBpc1dlYWtTZXRgLCBgam9pbmAsIGBrZWJhYkNhc2VgLCBgbGFzdGAsIGBsYXN0SW5kZXhPZmAsXG4gICAgICogYGxvd2VyQ2FzZWAsIGBsb3dlckZpcnN0YCwgYGx0YCwgYGx0ZWAsIGBtYXhgLCBgbWF4QnlgLCBgbWVhbmAsIGBtZWFuQnlgLFxuICAgICAqIGBtaW5gLCBgbWluQnlgLCBgbXVsdGlwbHlgLCBgbm9Db25mbGljdGAsIGBub29wYCwgYG5vd2AsIGBudGhgLCBgcGFkYCxcbiAgICAgKiBgcGFkRW5kYCwgYHBhZFN0YXJ0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCwgYHJlZHVjZVJpZ2h0YCxcbiAgICAgKiBgcmVwZWF0YCwgYHJlc3VsdGAsIGByb3VuZGAsIGBydW5JbkNvbnRleHRgLCBgc2FtcGxlYCwgYHNoaWZ0YCwgYHNpemVgLFxuICAgICAqIGBzbmFrZUNhc2VgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBzb3J0ZWRJbmRleEJ5YCwgYHNvcnRlZExhc3RJbmRleGAsXG4gICAgICogYHNvcnRlZExhc3RJbmRleEJ5YCwgYHN0YXJ0Q2FzZWAsIGBzdGFydHNXaXRoYCwgYHN0dWJBcnJheWAsIGBzdHViRmFsc2VgLFxuICAgICAqIGBzdHViT2JqZWN0YCwgYHN0dWJTdHJpbmdgLCBgc3R1YlRydWVgLCBgc3VidHJhY3RgLCBgc3VtYCwgYHN1bUJ5YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdGltZXNgLCBgdG9GaW5pdGVgLCBgdG9JbnRlZ2VyYCwgYHRvSlNPTmAsIGB0b0xlbmd0aGAsXG4gICAgICogYHRvTG93ZXJgLCBgdG9OdW1iZXJgLCBgdG9TYWZlSW50ZWdlcmAsIGB0b1N0cmluZ2AsIGB0b1VwcGVyYCwgYHRyaW1gLFxuICAgICAqIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGB0cnVuY2F0ZWAsIGB1bmVzY2FwZWAsIGB1bmlxdWVJZGAsIGB1cHBlckNhc2VgLFxuICAgICAqIGB1cHBlckZpcnN0YCwgYHZhbHVlYCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBuYW1lIF9cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMiwgM10pO1xuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogd3JhcHBlZC5yZWR1Y2UoXy5hZGQpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYSB3cmFwcGVkIHZhbHVlLlxuICAgICAqIHZhciBzcXVhcmVzID0gd3JhcHBlZC5tYXAoc3F1YXJlKTtcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMudmFsdWUoKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaCh2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTG9kYXNoV3JhcHBlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpIHtcbiAgICAgICAgICByZXR1cm4gd3JhcHBlckNsb25lKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gICAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgICAgIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB3aG9zZSBwcm90b3R5cGUgY2hhaW4gc2VxdWVuY2Ugd3JhcHBlcnMgaW5oZXJpdCBmcm9tLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTG9kYXNoKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBjb25zdHJ1Y3RvciBmb3IgY3JlYXRpbmcgYGxvZGFzaGAgd3JhcHBlciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NoYWluQWxsXSBFbmFibGUgZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2Rhc2hXcmFwcGVyKHZhbHVlLCBjaGFpbkFsbCkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2NoYWluX18gPSAhIWNoYWluQWxsO1xuICAgICAgdGhpcy5fX2luZGV4X18gPSAwO1xuICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzIHVzZWQgYnkgbG9kYXNoIGFyZSBsaWtlIHRob3NlIGluXG4gICAgICogZW1iZWRkZWQgUnVieSAoRVJCKSBhcyB3ZWxsIGFzIEVTMjAxNSB0ZW1wbGF0ZSBzdHJpbmdzLiBDaGFuZ2UgdGhlXG4gICAgICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGJlIEhUTUwtZXNjYXBlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXNjYXBlJzogcmVFc2NhcGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2V2YWx1YXRlJzogcmVFdmFsdWF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGluamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcmVmZXJlbmNlIHRoZSBkYXRhIG9iamVjdCBpbiB0aGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICAndmFyaWFibGUnOiAnJyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgJ2ltcG9ydHMnOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgICdfJzogbG9kYXNoXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEVuc3VyZSB3cmFwcGVycyBhcmUgaW5zdGFuY2VzIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBsb2Rhc2gucHJvdG90eXBlID0gYmFzZUxvZGFzaC5wcm90b3R5cGU7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGxvZGFzaDtcblxuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2Rhc2hXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxhenkgd3JhcHBlciBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgbGF6eSBldmFsdWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExhenlXcmFwcGVyKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fZGlyX18gPSAxO1xuICAgICAgdGhpcy5fX2ZpbHRlcmVkX18gPSBmYWxzZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlZXNfXyA9IFtdO1xuICAgICAgdGhpcy5fX3Rha2VDb3VudF9fID0gTUFYX0FSUkFZX0xFTkdUSDtcbiAgICAgIHRoaXMuX192aWV3c19fID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBsYXp5IHdyYXBwZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbG9uZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5Q2xvbmUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMuX193cmFwcGVkX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9fZGlyX18gPSB0aGlzLl9fZGlyX187XG4gICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdGhpcy5fX2ZpbHRlcmVkX187XG4gICAgICByZXN1bHQuX19pdGVyYXRlZXNfXyA9IGNvcHlBcnJheSh0aGlzLl9faXRlcmF0ZWVzX18pO1xuICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSB0aGlzLl9fdGFrZUNvdW50X187XG4gICAgICByZXN1bHQuX192aWV3c19fID0gY29weUFycmF5KHRoaXMuX192aWV3c19fKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBsYXp5IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyByZXZlcnNlZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5UmV2ZXJzZSgpIHtcbiAgICAgIGlmICh0aGlzLl9fZmlsdGVyZWRfXykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyA9IC0xO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gKj0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSB1bndyYXBwZWQgdmFsdWUgZnJvbSBpdHMgbGF6eSB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVZhbHVlKCkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fX3dyYXBwZWRfXy52YWx1ZSgpLFxuICAgICAgICAgIGRpciA9IHRoaXMuX19kaXJfXyxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoYXJyYXkpLFxuICAgICAgICAgIGlzUmlnaHQgPSBkaXIgPCAwLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGlzQXJyID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICB2aWV3ID0gZ2V0VmlldygwLCBhcnJMZW5ndGgsIHRoaXMuX192aWV3c19fKSxcbiAgICAgICAgICBzdGFydCA9IHZpZXcuc3RhcnQsXG4gICAgICAgICAgZW5kID0gdmlldy5lbmQsXG4gICAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQsXG4gICAgICAgICAgaW5kZXggPSBpc1JpZ2h0ID8gZW5kIDogKHN0YXJ0IC0gMSksXG4gICAgICAgICAgaXRlcmF0ZWVzID0gdGhpcy5fX2l0ZXJhdGVlc19fLFxuICAgICAgICAgIGl0ZXJMZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICB0YWtlQ291bnQgPSBuYXRpdmVNaW4obGVuZ3RoLCB0aGlzLl9fdGFrZUNvdW50X18pO1xuXG4gICAgICBpZiAoIWlzQXJyIHx8ICghaXNSaWdodCAmJiBhcnJMZW5ndGggPT0gbGVuZ3RoICYmIHRha2VDb3VudCA9PSBsZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKGFycmF5LCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAobGVuZ3RoLS0gJiYgcmVzSW5kZXggPCB0YWtlQ291bnQpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuXG4gICAgICAgIHZhciBpdGVySW5kZXggPSAtMSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIHdoaWxlICgrK2l0ZXJJbmRleCA8IGl0ZXJMZW5ndGgpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGl0ZXJhdGVlc1tpdGVySW5kZXhdLFxuICAgICAgICAgICAgICBpdGVyYXRlZSA9IGRhdGEuaXRlcmF0ZWUsXG4gICAgICAgICAgICAgIHR5cGUgPSBkYXRhLnR5cGUsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9NQVBfRkxBRykge1xuICAgICAgICAgICAgdmFsdWUgPSBjb21wdXRlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFjb21wdXRlZCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRykge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGBMYXp5V3JhcHBlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgYGJhc2VMb2Rhc2hgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExhenlXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICAgICAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG4gICAgSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbiAgICBIYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuICAgIEhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG4gICAgSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgICAgICBkYXRhLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgLS10aGlzLnNpemU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgKyt0aGlzLnNpemU7XG4gICAgICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAgICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgYWRkXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQGFsaWFzIHB1c2hcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICAgICAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICAgICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICAgICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gICAgICB9XG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcbiAgICBTdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG4gICAgU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuICAgIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcbiAgICBTdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICAgICAgKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2Jhc2VSYW5kb20oMCwgbGVuZ3RoIC0gMSldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVTaXplYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlU2l6ZShhcnJheSwgbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTaHVmZmxlKGFycmF5KSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAgICAgKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFnZ3JlZ2F0ZXMgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIG9uIGBhY2N1bXVsYXRvcmAgd2l0aCBrZXlzIHRyYW5zZm9ybWVkXG4gICAgICogYnkgYGl0ZXJhdGVlYCBhbmQgdmFsdWVzIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFnZ3JlZ2F0b3IoY29sbGVjdGlvbiwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbkluKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICAgICAqIHZhbHVlIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBdChvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICBza2lwID0gb2JqZWN0ID09IG51bGw7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBza2lwID8gdW5kZWZpbmVkIDogZ2V0KG9iamVjdCwgcGF0aHNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xhbXBgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKG51bWJlciA9PT0gbnVtYmVyKSB7XG4gICAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gICAgICogdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIERlZXAgY2xvbmVcbiAgICAgKiAgMiAtIEZsYXR0ZW4gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgKiAgNCAtIENsb25lIHN5bWJvbHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBUaGUga2V5IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGFuZCB0aGVpciBjbG9uZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBpc0RlZXAgPSBiaXRtYXNrICYgQ0xPTkVfREVFUF9GTEFHLFxuICAgICAgICAgIGlzRmxhdCA9IGJpdG1hc2sgJiBDTE9ORV9GTEFUX0ZMQUcsXG4gICAgICAgICAgaXNGdWxsID0gYml0bWFzayAmIENMT05FX1NZTUJPTFNfRkxBRztcblxuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gb2JqZWN0ID8gY3VzdG9taXplcih2YWx1ZSwga2V5LCBvYmplY3QsIHN0YWNrKSA6IGN1c3RvbWl6ZXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVBcnJheSh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvcHlBcnJheSh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xuXG4gICAgICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gY2xvbmVCdWZmZXIodmFsdWUsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBvYmplY3RUYWcgfHwgdGFnID09IGFyZ3NUYWcgfHwgKGlzRnVuYyAmJiAhb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IChpc0ZsYXQgfHwgaXNGdW5jKSA/IHt9IDogaW5pdENsb25lT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRmxhdFxuICAgICAgICAgICAgICA/IGNvcHlTeW1ib2xzSW4odmFsdWUsIGJhc2VBc3NpZ25JbihyZXN1bHQsIHZhbHVlKSlcbiAgICAgICAgICAgICAgOiBjb3B5U3ltYm9scyh2YWx1ZSwgYmFzZUFzc2lnbihyZXN1bHQsIHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghY2xvbmVhYmxlVGFnc1t0YWddKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQnlUYWcodmFsdWUsIHRhZywgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZDtcbiAgICAgIH1cbiAgICAgIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTtcblxuICAgICAgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0LmFkZChiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN1YlZhbHVlLCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzTWFwKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgICByZXN1bHQuc2V0KGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VOdGgoYXJyYXksIG4pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiBpc0luZGV4KG4sIGxlbmd0aCkgPyBhcnJheVtuXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMubGVuZ3RoID8gaXRlcmF0ZWVzIDogW2lkZW50aXR5XSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YWx1ZSA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICAgICAgcGFpciA9ICh0b1N0cmluZyh2YWx1ZSkgKyAnZScpLnNwbGl0KCdlJyk7XG4gICAgICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jKG51bWJlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgc2V0LlxuICAgICAqL1xuICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8udG9QYWlyc2Agb3IgYF8udG9QYWlyc0luYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUb1BhaXJzKGtleXNGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICAgICAgaWYgKHRhZyA9PSBtYXBUYWcpIHtcbiAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRvUGFpcnMob2JqZWN0LCBrZXlzRnVuYyhvYmplY3QpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICAgICAqIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAgIDEgLSBgXy5iaW5kYFxuICAgICAqICAgIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICAgICAqICAgIDggLSBgXy5jdXJyeWBcbiAgICAgKiAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcbiAgICAgKiAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqICAxMjggLSBgXy5yZWFyZ2BcbiAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuICAgICAqICA1MTIgLSBgXy5mbGlwYFxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFyeSA9IGFyeSA9PT0gdW5kZWZpbmVkID8gYXJ5IDogbmF0aXZlTWF4KHRvSW50ZWdlcihhcnkpLCAwKTtcbiAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcbiAgICAgIGxlbmd0aCAtPSBob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsc1JpZ2h0ID0gcGFydGlhbHMsXG4gICAgICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG4gICAgICAgIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgbWVyZ2VEYXRhKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgfVxuICAgICAgZnVuYyA9IG5ld0RhdGFbMF07XG4gICAgICBiaXRtYXNrID0gbmV3RGF0YVsxXTtcbiAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuICAgICAgcGFydGlhbHMgPSBuZXdEYXRhWzNdO1xuICAgICAgaG9sZGVycyA9IG5ld0RhdGFbNF07XG4gICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAoaXNCaW5kS2V5ID8gMCA6IGZ1bmMubGVuZ3RoKVxuICAgICAgICA6IG5hdGl2ZU1heChuZXdEYXRhWzldIC0gbGVuZ3RoLCAwKTtcblxuICAgICAgaWYgKCFhcml0eSAmJiBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJpdG1hc2sgfHwgYml0bWFzayA9PSBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpO1xuICAgICAgfSBlbHNlIGlmICgoYml0bWFzayA9PSBXUkFQX1BBUlRJQUxfRkxBRyB8fCBiaXRtYXNrID09IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHKSkgJiYgIWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgc2V0dGVyID0gZGF0YSA/IGJhc2VTZXREYXRhIDogc2V0RGF0YTtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcoc2V0dGVyKHJlc3VsdCwgbmV3RGF0YSksIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICAgICAqIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNBc3NpZ25JbihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcShvYmpWYWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICByZXR1cm4gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c0RlZXBgIHRvIGN1c3RvbWl6ZSBpdHMgYF8ubWVyZ2VgIHVzZSB0byBtZXJnZSBzb3VyY2VcbiAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHBhcmVudCBvYmplY3Qgb2YgYHNyY1ZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpWYWx1ZSkgJiYgaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcbiAgICAgICAgYmFzZU1lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwgdW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vbWl0YCB0byBjdXN0b21pemUgaXRzIGBfLmNsb25lRGVlcGAgdXNlIHRvIG9ubHkgY2xvbmUgcGxhaW5cbiAgICAgKiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW5jbG9uZWQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgdG8gZGVmZXIgY2xvbmluZyB0byBgXy5jbG9uZURlZXBgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbU9taXRDbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgICAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICAgICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAgICAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgICAgY2FzZSBlcnJvclRhZzpcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gICAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKi9cbiAgICB2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWNvbGxlY3Rpb24ubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IGNyZWF0ZUZpbmQoZmluZExhc3RJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmxhdHRlbmVkIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aHJ1IGBpdGVyYXRlZWAgYW5kIGZsYXR0ZW5pbmcgdGhlIG1hcHBlZCByZXN1bHRzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW24sIG5dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIElORklOSVRZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZXB0aChbMSwgMl0sIGR1cGxpY2F0ZSwgMik7XG4gICAgICogLy8gPT4gW1sxLCAxXSwgWzIsIDJdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZXB0aChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgZGVwdGgpIHtcbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAgICogb3IgYF8uZm9yT3duYCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDFgIHRoZW4gYDJgLlxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2ggOiBiYXNlRWFjaDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2hSaWdodChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMmAgdGhlbiBgMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2hSaWdodCA6IGJhc2VFYWNoUmlnaHQ7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgb3JkZXIgb2YgZ3JvdXBlZCB2YWx1ZXNcbiAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGVcbiAgICAgKiBrZXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi4zXSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gYGNvbGxlY3Rpb25gLiBJZiBgY29sbGVjdGlvbmAgaXMgYSBzdHJpbmcsIGl0J3NcbiAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2VcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGlzIHVzZWQgZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzXG4gICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoeyAnYSc6IDEsICdiJzogMiB9LCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKCdhYmNkJywgJ2JjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgICBjb2xsZWN0aW9uID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgICBmcm9tSW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgZnJvbUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuICAgICAgICA/IChmcm9tSW5kZXggPD0gbGVuZ3RoICYmIGNvbGxlY3Rpb24uaW5kZXhPZih2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKVxuICAgICAgICA6ICghIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIGFyZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgcGF0aGAgaXMgYSBmdW5jdGlvbiwgaXQncyBpbnZva2VkXG4gICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIHZhciBpbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBwYXRoLCBhcmdzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGlzRnVuYyA/IGFwcGx5KHBhdGgsIHZhbHVlLCBhcmdzKSA6IGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgZnVuY3Rpb24obykge1xuICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIga2V5QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLmV2ZXJ5YCwgYF8uZmlsdGVyYCwgYF8ubWFwYCwgYF8ubWFwVmFsdWVzYCwgYF8ucmVqZWN0YCwgYW5kIGBfLnNvbWVgLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFyeWAsIGBjaHVua2AsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGV2ZXJ5YCxcbiAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcbiAgICAgKiBgc2FtcGxlU2l6ZWAsIGBzbGljZWAsIGBzb21lYCwgYHNvcnRCeWAsIGBzcGxpdGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRyaW1gLCBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWFwKFs0LCA4XSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnYSc6IDQsICdiJzogOCB9LCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcbiAgICAgKiBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvclxuICAgICAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheShpdGVyYXRlZXMpKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgICAgIH1cbiAgICAgIG9yZGVycyA9IGd1YXJkID8gdW5kZWZpbmVkIDogb3JkZXJzO1xuICAgICAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLCB0aGUgc2Vjb25kIG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkgZm9yLiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1sncGViYmxlcyddLCBbJ2Jhcm5leScsICdmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAncGViYmxlcyddLCBbJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gW1tdLCBbXV07IH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBgY29sbGVjdGlvbmAgdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYCwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICAgICAqIGlzIG5vdCBnaXZlbiwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIGlzIHVzZWQgYXMgdGhlIGluaXRpYWxcbiAgICAgKiB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czpcbiAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuICAgICAqIGFuZCBgc29ydEJ5YFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbihzdW0sIG4pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuICAgICAqIH0sIDApO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2UgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqXG4gICAgICogXy5yZWR1Y2VSaWdodChhcnJheSwgZnVuY3Rpb24oZmxhdHRlbmVkLCBvdGhlcikge1xuICAgICAqICAgcmV0dXJuIGZsYXR0ZW5lZC5jb25jYXQob3RoZXIpO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlUmlnaHQgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgOyB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8uZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGUgOiBiYXNlU2FtcGxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICAgICAqIHNpemUgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGVTaXplIDogYmFzZVNhbXBsZVNpemU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGl0cyBsZW5ndGggZm9yIGFycmF5LWxpa2VcbiAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29sbGVjdGlvbiBzaXplLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcoY29sbGVjdGlvbik7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNvbWUgOiBiYXNlU29tZTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCBwcmVzZXJ2ZXMgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXIgb2ZcbiAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgNDBdLCBbJ2ZyZWQnLCA0OF1dXG4gICAgICovXG4gICAgdmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBEYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICAgICAqIH0sIF8ubm93KCkpO1xuICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGN0eE5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogYGZ1bmNgIG9uY2UgaXQncyBjYWxsZWQgYG5gIG9yIG1vcmUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGJlZm9yZSBgZnVuY2AgaXMgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuICAgICAqIGlnbm9yaW5nIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IGNhcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy5hcnkocGFyc2VJbnQsIDEpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJ5KGZ1bmMsIG4sIGd1YXJkKSB7XG4gICAgICBuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBuO1xuICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0FSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzXG4gICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYXQgd2hpY2ggYGZ1bmNgIGlzIG5vIGxvbmdlciBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG4gICAgICogLy8gPT4gQWxsb3dzIGFkZGluZyB1cCB0byA0IGNvbnRhY3RzIHRvIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA+IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPD0gMSkge1xuICAgICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG4gICAgICogYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kKSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYCB3aXRoIGBwYXJ0aWFsc2BcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG8gcmVmZXJlbmNlXG4gICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcbiAgICAgKiBbUGV0ZXIgTWljaGF1eCdzIGFydGljbGVdKGh0dHA6Ly9wZXRlci5taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZEtleS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludm9rZSB0aGUgbWV0aG9kIG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZEtleSA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwga2V5LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmRLZXkpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGtleSwgYml0bWFzaywgb2JqZWN0LCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBvZiBgZnVuY2AgYW5kIGVpdGhlciBpbnZva2VzXG4gICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuICAgICAqIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBgZnVuY2BcbiAgICAgKiBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBtYXkgYmUgc3BlY2lmaWVkIGlmIGBmdW5jLmxlbmd0aGBcbiAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY3VycnlgIGV4Y2VwdCB0aGF0IGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byBgZnVuY2BcbiAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeVJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMykoMikoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDIsIDMpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICAgICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAgICAgKiBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICpcbiAgICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgICBtYXhXYWl0LFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB0aW1lcklkLFxuICAgICAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgICAgcmV0dXJuIG1heGluZ1xuICAgICAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgICAgICA6IHRpbWVXYWl0aW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVmZXIgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgZnVuY2AgYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gTG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlbGF5ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCB0b051bWJlcih3YWl0KSB8fCAwLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsaXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmbGlwcGVkID0gXy5mbGlwKGZ1bmN0aW9uKCkge1xuICAgICAqICAgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmxpcHBlZCgnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxpcChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAgICAgKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICAgICAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gICAgICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAgICAgKlxuICAgICAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFsdWVzKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKlxuICAgICAqIG9iamVjdC5hID0gMjtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICAgICAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICpcbiAgICAgKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG4gICAgbWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbmVnYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmVkaWNhdGUgYGZ1bmNgLiBUaGVcbiAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBwcmVkaWNhdGUgdG8gbmVnYXRlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG5lZ2F0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzRXZlbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBpbnZva2luZyBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzXG4gICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyA9PiBgY3JlYXRlQXBwbGljYXRpb25gIGlzIGludm9rZWQgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgcmV0dXJuIGJlZm9yZSgyLCBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbdHJhbnNmb3Jtcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm1zLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyQXJncyhmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4gW3gsIHldO1xuICAgICAqIH0sIFtzcXVhcmUsIGRvdWJsZWRdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoOSwgMyk7XG4gICAgICogLy8gPT4gWzgxLCA2XVxuICAgICAqXG4gICAgICogZnVuYygxMCwgNSk7XG4gICAgICogLy8gPT4gWzEwMCwgMTBdXG4gICAgICovXG4gICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuICAgICAgdHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodHJhbnNmb3Jtc1swXSkpXG4gICAgICAgID8gYXJyYXlNYXAodHJhbnNmb3Jtc1swXSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKVxuICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgZnVuY3NMZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGFyZ3MubGVuZ3RoLCBmdW5jc0xlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IHRyYW5zZm9ybXNbaW5kZXhdLmNhbGwodGhpcywgYXJnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcbiAgICAgKiBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKlxuICAgICAqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGVsbG8nKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsKGdyZWV0LCBfLCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcbiAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdoZWxsbycsIF8pO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsUmlnaHQpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgYGluZGV4ZXNgIHdoZXJlIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgZmlyc3QgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgc2Vjb25kIGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJndW1lbnQgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYXJnZWQgPSBfLnJlYXJnKGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfSwgWzIsIDAsIDFdKTtcbiAgICAgKlxuICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1JFQVJHX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGluZGV4ZXMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG4gICAgICogYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3Jlc3QgcGFyYW1ldGVyXShodHRwczovL21kbi5pby9yZXN0X3BhcmFtZXRlcnMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAgICAgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAgICAgKiAgICAgKF8uc2l6ZShuYW1lcykgPiAxID8gJywgJiAnIDogJycpICsgXy5sYXN0KG5hbWVzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheSgnaGVsbG8nLCAnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuYywgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuICAgICAqIFtgRnVuY3Rpb24jYXBwbHlgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3ByZWFkIG9wZXJhdG9yXShodHRwczovL21kbi5pby9zcHJlYWRfb3BlcmF0b3IpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc3ByZWFkIGFyZ3VtZW50cyBvdmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzcHJlYWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcbiAgICAgKiAgIHJldHVybiB3aG8gKyAnIHNheXMgJyArIHdoYXQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoWydmcmVkJywgJ2hlbGxvJ10pO1xuICAgICAqIC8vID0+ICdmcmVkIHNheXMgaGVsbG8nXG4gICAgICpcbiAgICAgKiB2YXIgbnVtYmVycyA9IFByb21pc2UuYWxsKFtcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSg0MCksXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIHggKyB5O1xuICAgICAqIH0pKTtcbiAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcHJlYWQoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmdzW3N0YXJ0XSxcbiAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICAgICAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgICAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICAgICAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLnVuYXJ5KHBhcnNlSW50KSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuYXJ5KGZ1bmMpIHtcbiAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byBgd3JhcHBlcmAgYXMgaXRzIGZpcnN0XG4gICAgICogYXJndW1lbnQuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbd3JhcHBlcj1pZGVudGl0eV0gVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+ZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gcGFydGlhbChjYXN0RnVuY3Rpb24od3JhcHBlciksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIGFzIGFuIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KDEpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW251bGxdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWRdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICogY29uc29sZS5sb2coXy5jYXN0QXJyYXkoYXJyYXkpID09PSBhcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuICAgICAqIFtzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobV0oaHR0cHM6Ly9tZG4uaW8vU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG0pXG4gICAgICogYW5kIHN1cHBvcnRzIGNsb25pbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucywgZGF0ZSBvYmplY3RzLCBtYXBzLFxuICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuICAgICAqIGFycmF5cy4gVGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhcmUgY2xvbmVkXG4gICAgICogYXMgcGxhaW4gb2JqZWN0cy4gQW4gZW1wdHkgb2JqZWN0IGlzIHJldHVybmVkIGZvciB1bmNsb25lYWJsZSB2YWx1ZXMgc3VjaFxuICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhzaGFsbG93WzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZS4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB1cCB0byBmb3VyIGFyZ3VtZW50czsgKHZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZVdpdGhgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lRGVlcFdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG9iamVjdGAgY29uZm9ybXMgdG8gYHNvdXJjZWAgYnkgaW52b2tpbmcgdGhlIHByZWRpY2F0ZVxuICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDI7IH0gfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtc1RvKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlID09IG51bGwgfHwgYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcShOYU4sIE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZ3QoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3QgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VHdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlCdWZmZXJgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXlCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlCdWZmZXIgPSBub2RlSXNBcnJheUJ1ZmZlciA/IGJhc2VVbmFyeShub2RlSXNBcnJheUJ1ZmZlcikgOiBiYXNlSXNBcnJheUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gICAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICAgICAqIGlzIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRGF0ZWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gICAgICpcbiAgICAgKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICAgICAqIFNpbWlsYXJseSwgbWFwcyBhbmQgc2V0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgc2l6ZWAgb2YgYDBgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHRydWUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIGlzQnVmZmVyKHZhbHVlKSB8fCBpc1R5cGVkQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gIWJhc2VLZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgICAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAgICAgKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgICAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0VxdWFsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggdXAgdG9cbiAgICAgKiBzaXggYXJndW1lbnRzOiAob2JqVmFsdWUsIG90aFZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKG90aFZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIodmFsdWUsIG90aGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAgICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKEVycm9yKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgcHJpbWl0aXZlIG51bWJlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzRmluaXRlYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzRmluaXRlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0ludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzTWFwID0gbm9kZUlzTWFwID8gYmFzZVVuYXJ5KG5vZGVJc01hcCkgOiBiYXNlSXNNYXA7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYG9iamVjdGAgYW5kIGBzb3VyY2VgIHRvXG4gICAgICogZGV0ZXJtaW5lIGlmIGBvYmplY3RgIGNvbnRhaW5zIGVxdWl2YWxlbnQgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8ubWF0Y2hlc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIGZpdmVcbiAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKHNyY1ZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnZ3JlZXRpbmcnOiAnaGVsbG8nIH07XG4gICAgICogdmFyIHNvdXJjZSA9IHsgJ2dyZWV0aW5nJzogJ2hpJyB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzTmFOKSBhbmQgaXMgbm90IHRoZSBzYW1lIGFzXG4gICAgICogZ2xvYmFsIFtgaXNOYU5gXShodHRwczovL21kbi5pby9pc05hTikgd2hpY2ggcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIEFuIGBOYU5gIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGYuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcbiAgICAgIC8vIEFjdGl2ZVggb2JqZWN0cyBpbiBJRS5cbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGNhbid0IHJlbGlhYmx5IGRldGVjdCBuYXRpdmUgZnVuY3Rpb25zIGluIHRoZSBwcmVzZW5jZVxuICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG4gICAgICogRGVzcGl0ZSBtdWx0aXBsZSByZXF1ZXN0cywgdGhlIGNvcmUtanMgbWFpbnRhaW5lciBoYXMgbWFkZSBpdCBjbGVhcjogYW55XG4gICAgICogYXR0ZW1wdCB0byBmaXggdGhlIGRldGVjdGlvbiB3aWxsIGJlIG9ic3RydWN0ZWQuIEFzIGEgcmVzdWx0LCB3ZSdyZSBsZWZ0XG4gICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcbiAgICAgKiBwYWNrYWdlcywgbGlrZSBbYmFiZWwtcG9seWZpbGxdKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2JhYmVsLXBvbHlmaWxsKSxcbiAgICAgKiB3aGljaCByZWx5IG9uIGNvcmUtanMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoXyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzTWFza2FibGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbnVsbGlzaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVG8gZXhjbHVkZSBgSW5maW5pdHlgLCBgLUluZmluaXR5YCwgYW5kIGBOYU5gLCB3aGljaCBhcmVcbiAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICAgICAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgICAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2FiYy8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoJy9hYmMvJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNSZWdFeHAgPSBub2RlSXNSZWdFeHAgPyBiYXNlVW5hcnkobm9kZUlzUmVnRXhwKSA6IGJhc2VJc1JlZ0V4cDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLiBBbiBpbnRlZ2VyIGlzIHNhZmUgaWYgaXQncyBhbiBJRUVFLTc1NFxuICAgICAqIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyIHdoaWNoIGlzbid0IHRoZSByZXN1bHQgb2YgYSByb3VuZGVkIHVuc2FmZSBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNTYWZlSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc1NhZmVJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbnRlZ2VyKHZhbHVlKSAmJiB2YWx1ZSA+PSAtTUFYX1NBRkVfSU5URUdFUiAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHdlYWtNYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSB3ZWFrU2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdCgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlTHQpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdGUoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9BcnJheSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5KHZhbHVlKSA6IGNvcHlBcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclRvQXJyYXkodmFsdWVbc3ltSXRlcmF0b3JdKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgZnVuYyA9IHRhZyA9PSBtYXBUYWcgPyBtYXBUb0FycmF5IDogKHRhZyA9PSBzZXRUYWcgPyBzZXRUb0FycmF5IDogdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG4gICAgICogYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBJbmZpbml0eVxuICAgICAqXG4gICAgICogXy50b051bWJlcignMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgICgnc291cmNlVVJMJyBpbiBvcHRpb25zXG4gICAgICAgICAgPyBvcHRpb25zLnNvdXJjZVVSTFxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBvcHRpb25zLnZhcmlhYmxlO1xuICAgICAgaWYgKCF2YXJpYWJsZSkge1xuICAgICAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgICAgIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nTWlkZGxlLCAnJDEnKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAgICAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgKHZhcmlhYmxlIHx8ICdvYmonKSArICcpIHtcXG4nICtcbiAgICAgICAgKHZhcmlhYmxlXG4gICAgICAgICAgPyAnJ1xuICAgICAgICAgIDogJ29iaiB8fCAob2JqID0ge30pO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgICAgIChpc0VzY2FwaW5nXG4gICAgICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgICAgIDogJydcbiAgICAgICAgKSArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKGltcG9ydHNLZXlzLCBzb3VyY2VVUkwgKyAncmV0dXJuICcgKyBzb3VyY2UpXG4gICAgICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIG9yXG4gICAgICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgICAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIGlmIChpc0Vycm9yKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gbG93ZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvTG93ZXJDYXNlXShodHRwczovL21kbi5pby90b0xvd2VyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1mb28tYmFyLS0nXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29iYXInXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ19fZm9vX2Jhcl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTG93ZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gdXBwZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvVXBwZXJDYXNlXShodHRwczovL21kbi5pby90b1VwcGVyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1GT08tQkFSLS0nXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT09CQVInXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ19fRk9PX0JBUl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVXBwZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy5tYXAoWycgIGZvbyAgJywgJyAgYmFyICAnXSwgXy50cmltKTtcbiAgICAgKiAvLyA9PiBbJ2ZvbycsICdiYXInXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGNoclN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KGNoYXJzKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICctXy1hYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbUVuZChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1FbmQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSkgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMgICdcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjLV8tJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1TdGFydChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1TdGFydCwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSk7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlcyBgc3RyaW5nYCBpZiBpdCdzIGxvbmdlciB0aGFuIHRoZSBnaXZlbiBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogVGhlIGxhc3QgY2hhcmFjdGVycyBvZiB0aGUgdHJ1bmNhdGVkIHN0cmluZyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgb21pc3Npb25cbiAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVuZ3RoPTMwXSBUaGUgbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbb3B0aW9ucy5zZXBhcmF0b3JdIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byB0cnVuY2F0ZSB0by5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJyk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogJyAnXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6IC8sPyArL1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnIFsuLi5dJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydW5jYXRlKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIGxlbmd0aCA9IERFRkFVTFRfVFJVTkNfTEVOR1RILFxuICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG4gICAgICAgIGxlbmd0aCA9ICdsZW5ndGgnIGluIG9wdGlvbnMgPyB0b0ludGVnZXIob3B0aW9ucy5sZW5ndGgpIDogbGVuZ3RoO1xuICAgICAgICBvbWlzc2lvbiA9ICdvbWlzc2lvbicgaW4gb3B0aW9ucyA/IGJhc2VUb1N0cmluZyhvcHRpb25zLm9taXNzaW9uKSA6IG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBpZiAoaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpO1xuICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPj0gc3RyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZW5kID0gbGVuZ3RoIC0gc3RyaW5nU2l6ZShvbWlzc2lvbik7XG4gICAgICBpZiAoZW5kIDwgMSkge1xuICAgICAgICByZXR1cm4gb21pc3Npb247XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpXG4gICAgICAgIDogc3RyaW5nLnNsaWNlKDAsIGVuZCk7XG5cbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgICB9XG4gICAgICBpZiAoc3RyU3ltYm9scykge1xuICAgICAgICBlbmQgKz0gKHJlc3VsdC5sZW5ndGggLSBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVnRXhwKHNlcGFyYXRvcikpIHtcbiAgICAgICAgaWYgKHN0cmluZy5zbGljZShlbmQpLnNlYXJjaChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoLFxuICAgICAgICAgICAgICBzdWJzdHJpbmcgPSByZXN1bHQ7XG5cbiAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCB0b1N0cmluZyhyZUZsYWdzLmV4ZWMoc2VwYXJhdG9yKSkgKyAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3Vic3RyaW5nKSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbmQgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIG5ld0VuZCA9PT0gdW5kZWZpbmVkID8gZW5kIDogbmV3RW5kKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0Lmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWA7IHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0b1xuICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBIVE1MIGVudGl0aWVzIGFyZSB1bmVzY2FwZWQuIFRvIHVuZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjYuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJy0tZm9vLWJhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHVwcGVyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZSRUQnXG4gICAgICovXG4gICAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgICAgIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGBmdW5jYCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgcmVzdWx0IG9yIHRoZSBjYXVnaHQgZXJyb3JcbiAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBgZnVuY2AgcmVzdWx0IG9yIGVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgdGhyb3dpbmcgZXJyb3JzIGZvciBpbnZhbGlkIHNlbGVjdG9ycy5cbiAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgKiB9LCAnPl8+Jyk7XG4gICAgICpcbiAgICAgKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICAgICAqICAgZWxlbWVudHMgPSBbXTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgdmFyIGF0dGVtcHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3LCBbJ2NsaWNrJ10pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcbiAgICAgKiAvLyA9PiBMb2dzICdjbGlja2VkIGRvY3MnIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGtleSA9IHRvS2V5KGtleSk7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBmdW5jdGlvbiBvZiB0aGUgZmlyc3QgcHJlZGljYXRlIHRvIHJldHVybiB0cnV0aHkuIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb25cbiAgICAgKiBwYWlycyBhcmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uY29uZChbXG4gICAgICogICBbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCAgICAgICAgICAgXy5jb25zdGFudCgnbWF0Y2hlcyBBJyldLFxuICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcbiAgICAgKiAgIFtfLnN0dWJUcnVlLCAgICAgICAgICAgICAgICAgICAgICBfLmNvbnN0YW50KCdubyBtYXRjaCcpXVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEEnXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAwLCAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQidcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6ICcxJywgJ2InOiAnMicgfSk7XG4gICAgICogLy8gPT4gJ25vIG1hdGNoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmQocGFpcnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblxuICAgICAgcGFpcnMgPSAhbGVuZ3RoID8gW10gOiBhcnJheU1hcChwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICAgIGlmIChhcHBseShwYWlyWzBdLCB0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHBhaXJbMV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBhIGdpdmVuIG9iamVjdCwgcmV0dXJuaW5nIGB0cnVlYCBpZlxuICAgICAqIGFsbCBwcmVkaWNhdGVzIHJldHVybiB0cnV0aHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zVG9gIHdpdGhcbiAgICAgKiBgc291cmNlYCBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAyLCAnYic6IDEgfSxcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLmNvbmZvcm1zKHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBgdmFsdWVgIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZGVmYXVsdCB2YWx1ZSBzaG91bGQgYmUgcmV0dXJuZWQgaW5cbiAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG4gICAgICogb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBpbnZva2luZyB0aGUgZ2l2ZW4gZnVuY3Rpb25zXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvdyhbXy5hZGQsIHNxdWFyZV0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3cgPSBjcmVhdGVGbG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsb3dgIGV4Y2VwdCB0aGF0IGl0IGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0XG4gICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvd1JpZ2h0ID0gY3JlYXRlRmxvdyh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHkgbmFtZSwgdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyB0aGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LiBJZiBgZnVuY2AgaXMgYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcbiAgICAgKiBzb3VyY2UgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgXy5pdGVyYXRlZSgndXNlcicpKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBjdXN0b20gaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKiBfLml0ZXJhdGVlID0gXy53cmFwKF8uaXRlcmF0ZWUsIGZ1bmN0aW9uKGl0ZXJhdGVlLCBmdW5jKSB7XG4gICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAqICAgICByZXR1cm4gZnVuYy50ZXN0KHN0cmluZyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoWydhYmMnLCAnZGVmJ10sIC9lZi8pO1xuICAgICAqIC8vID0+IFsnZGVmJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVyYXRlZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGFuZCBgc291cmNlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5pc01hdGNoYCB3aXRoIGBzb3VyY2VgXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ubWF0Y2hlcyh7ICdhJzogNCwgJ2MnOiA2IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdGhlXG4gICAgICogdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIGBzcmNWYWx1ZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlXG4gICAgICogb2JqZWN0IHZhbHVlIGlzIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdFxuICAgICAqIGBzcmNWYWx1ZWAgdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWVcbiAgICAgKiBgXy5pc0VxdWFsYCBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKG9iamVjdHMsIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCkpO1xuICAgICAqIC8vID0+IHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBiYXNlQ2xvbmUoc3JjVmFsdWUsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgyKSB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMSkgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZChbJ2EnLCAnYiddKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWV0aG9kYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIHRoZSBtZXRob2QgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IF8udGltZXMoMywgXy5jb25zdGFudCksXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kT2YgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbGwgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2VcbiAgICAgKiBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBtZXRob2RzXG4gICAgICogYXJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVc2UgYF8ucnVuSW5Db250ZXh0YCB0byBjcmVhdGUgYSBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB0b1xuICAgICAqIGF2b2lkIGNvbmZsaWN0cyBjYXVzZWQgYnkgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IFtvYmplY3Q9bG9kYXNoXSBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIG1peGlucyBhcmUgY2hhaW5hYmxlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHZvd2VscyhzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBfLmZpbHRlcihzdHJpbmcsIGZ1bmN0aW9uKHYpIHtcbiAgICAgKiAgICAgcmV0dXJuIC9bYWVpb3VdL2kudGVzdCh2KTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0pO1xuICAgICAqIF8udm93ZWxzKCdmcmVkJyk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1peGluKG9iamVjdCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSksXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwgcHJvcHMpO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsICYmXG4gICAgICAgICAgIShpc09iamVjdChzb3VyY2UpICYmIChtZXRob2ROYW1lcy5sZW5ndGggfHwgIXByb3BzLmxlbmd0aCkpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZSA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdGhpcztcbiAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGFpbiA9ICEoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB8fCAhIW9wdGlvbnMuY2hhaW4sXG4gICAgICAgICAgaXNGdW5jID0gaXNGdW5jdGlvbihvYmplY3QpO1xuXG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIG9iamVjdFttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBvYmplY3QucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXztcbiAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0KHRoaXMuX193cmFwcGVkX18pLFxuICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcblxuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goeyAnZnVuYyc6IGZ1bmMsICdhcmdzJzogYXJndW1lbnRzLCAndGhpc0FyZyc6IG9iamVjdCB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IGNoYWluQWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkob2JqZWN0LCBhcnJheVB1c2goW3RoaXMudmFsdWUoKV0sIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgaWYgKHJvb3QuXyA9PT0gdGhpcykge1xuICAgICAgICByb290Ll8gPSBvbGREYXNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5ub29wKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgYXJndW1lbnQgYXQgaW5kZXggYG5gLiBJZiBgbmAgaXMgbmVnYXRpdmUsXG4gICAgICogdGhlIG50aCBhcmd1bWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXNzLXRocnUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoMSk7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygtMik7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aEFyZyhuKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VOdGgoYXJncywgbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBpdGVyYXRlZXNgIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlc1xuICAgICAqIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyKFtNYXRoLm1heCwgTWF0aC5taW5dKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoMSwgMiwgMywgNCk7XG4gICAgICogLy8gPT4gWzQsIDFdXG4gICAgICovXG4gICAgdmFyIG92ZXIgPSBjcmVhdGVPdmVyKGFycmF5TWFwKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFsbCoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyU29tZSA9IGNyZWF0ZU92ZXIoYXJyYXlTb21lKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5wcm9wZXJ0eWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gQSBzdGVwIG9mIGAtMWAgaXMgdXNlZCBpZiBhIG5lZ2F0aXZlXG4gICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgtNCk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlID0gY3JlYXRlUmFuZ2UoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmFuZ2VgIGV4Y2VwdCB0aGF0IGl0IHBvcHVsYXRlcyB2YWx1ZXMgaW5cbiAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCg0KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgtNCk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNSk7XG4gICAgICogLy8gPT4gWzQsIDMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFsxNSwgMTAsIDUsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZVJpZ2h0ID0gY3JlYXRlUmFuZ2UodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAgICogLy8gPT4gW1tdLCBbXV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLnN0dWJPYmplY3QpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3t9LCB7fV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnJywgJyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlN0cmluZygpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJUcnVlKTtcbiAgICAgKiAvLyA9PiBbdHJ1ZSwgdHJ1ZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG4gICAgICogZWFjaCBpbnZvY2F0aW9uLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMScsICcyJ11cbiAgICAgKlxuICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuICAgICAqIC8vID0+IFswLCAwLCAwLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgaWYgKG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IE1BWF9BUlJBWV9MRU5HVEgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlKTtcbiAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VUaW1lcyhsZW5ndGgsIGl0ZXJhdGVlKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICBpdGVyYXRlZShpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIHRvS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIGdpdmVuLCB0aGUgSUQgaXMgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4PScnXSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXVnZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hZGQoNiwgNCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuICAgICAgcmV0dXJuIGF1Z2VuZCArIGFkZGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdXAgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIHVwIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jZWlsKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiBfLmNlaWwoNi4wMDQsIDIpO1xuICAgICAqIC8vID0+IDYuMDFcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2MDQwLCAtMik7XG4gICAgICogLy8gPT4gNjEwMFxuICAgICAqL1xuICAgIHZhciBjZWlsID0gY3JlYXRlUm91bmQoJ2NlaWwnKTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlkZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNvciBUaGUgc2Vjb25kIG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpdmlkZSg2LCA0KTtcbiAgICAgKiAvLyA9PiAxLjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgcmV0dXJuIGRpdmlkZW5kIC8gZGl2aXNvcjtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgZG93biB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCBkb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIGRvd24gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDAuMDQ2LCAyKTtcbiAgICAgKiAvLyA9PiAwLjA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MDAwXG4gICAgICovXG4gICAgdmFyIGZsb29yID0gY3JlYXRlUm91bmQoJ2Zsb29yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1heChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWF4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heEJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWVhbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGlkZW50aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBhdmVyYWdlZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLm1pbihbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcHJvZHVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tdWx0aXBseSg2LCA0KTtcbiAgICAgKiAvLyA9PiAyNFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obXVsdGlwbGllciwgbXVsdGlwbGljYW5kKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllciAqIG11bHRpcGxpY2FuZDtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNiwgMik7XG4gICAgICogLy8gPT4gNC4wMVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDEwMFxuICAgICAqL1xuICAgIHZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51ZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGRpZmZlcmVuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VidHJhY3QoNiwgNCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obWludWVuZCwgc3VidHJhaGVuZCkge1xuICAgICAgcmV0dXJuIG1pbnVlbmQgLSBzdWJ0cmFoZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1bShbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc3VtYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5zdW1CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXJ5ID0gYXJ5O1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmFzc2lnbkluV2l0aCA9IGFzc2lnbkluV2l0aDtcbiAgICBsb2Rhc2guYXNzaWduV2l0aCA9IGFzc2lnbldpdGg7XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJlZm9yZSA9IGJlZm9yZTtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2FzdEFycmF5ID0gY2FzdEFycmF5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jaHVuayA9IGNodW5rO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuICAgIGxvZGFzaC5jb25kID0gY29uZDtcbiAgICBsb2Rhc2guY29uZm9ybXMgPSBjb25mb3JtcztcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guY3VycnlSaWdodCA9IGN1cnJ5UmlnaHQ7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmF1bHRzRGVlcCA9IGRlZmF1bHRzRGVlcDtcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VCeSA9IGRpZmZlcmVuY2VCeTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcbiAgICBsb2Rhc2guZHJvcCA9IGRyb3A7XG4gICAgbG9kYXNoLmRyb3BSaWdodCA9IGRyb3BSaWdodDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2guZHJvcFdoaWxlID0gZHJvcFdoaWxlO1xuICAgIGxvZGFzaC5maWxsID0gZmlsbDtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0TWFwID0gZmxhdE1hcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlZXAgPSBmbGF0TWFwRGVlcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZmxhdHRlbkRlZXAgPSBmbGF0dGVuRGVlcDtcbiAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuICAgIGxvZGFzaC5mbGlwID0gZmxpcDtcbiAgICBsb2Rhc2guZmxvdyA9IGZsb3c7XG4gICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcbiAgICBsb2Rhc2guZnJvbVBhaXJzID0gZnJvbVBhaXJzO1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25CeSA9IGludGVyc2VjdGlvbkJ5O1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25XaXRoID0gaW50ZXJzZWN0aW9uV2l0aDtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZlcnRCeSA9IGludmVydEJ5O1xuICAgIGxvZGFzaC5pbnZva2VNYXAgPSBpbnZva2VNYXA7XG4gICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG4gICAgbG9kYXNoLmtleUJ5ID0ga2V5Qnk7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwS2V5cyA9IG1hcEtleXM7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgbG9kYXNoLm1hdGNoZXNQcm9wZXJ0eSA9IG1hdGNoZXNQcm9wZXJ0eTtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbiAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuICAgIGxvZGFzaC5tZXRob2RPZiA9IG1ldGhvZE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG4gICAgbG9kYXNoLm50aEFyZyA9IG50aEFyZztcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLm9yZGVyQnkgPSBvcmRlckJ5O1xuICAgIGxvZGFzaC5vdmVyID0gb3ZlcjtcbiAgICBsb2Rhc2gub3ZlckFyZ3MgPSBvdmVyQXJncztcbiAgICBsb2Rhc2gub3ZlckV2ZXJ5ID0gb3ZlckV2ZXJ5O1xuICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5waWNrQnkgPSBwaWNrQnk7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnByb3BlcnR5T2YgPSBwcm9wZXJ0eU9mO1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG4gICAgbG9kYXNoLnB1bGxBbGxCeSA9IHB1bGxBbGxCeTtcbiAgICBsb2Rhc2gucHVsbEFsbFdpdGggPSBwdWxsQWxsV2l0aDtcbiAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yYW5nZVJpZ2h0ID0gcmFuZ2VSaWdodDtcbiAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICBsb2Rhc2guc2FtcGxlU2l6ZSA9IHNhbXBsZVNpemU7XG4gICAgbG9kYXNoLnNldCA9IHNldDtcbiAgICBsb2Rhc2guc2V0V2l0aCA9IHNldFdpdGg7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXEgPSBzb3J0ZWRVbmlxO1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG4gICAgbG9kYXNoLnNwbGl0ID0gc3BsaXQ7XG4gICAgbG9kYXNoLnNwcmVhZCA9IHNwcmVhZDtcbiAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG4gICAgbG9kYXNoLnRha2UgPSB0YWtlO1xuICAgIGxvZGFzaC50YWtlUmlnaHQgPSB0YWtlUmlnaHQ7XG4gICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aHJ1ID0gdGhydTtcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC50b1BhaXJzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLnRvUGF0aCA9IHRvUGF0aDtcbiAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5hcnkgPSB1bmFyeTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pb25CeSA9IHVuaW9uQnk7XG4gICAgbG9kYXNoLnVuaW9uV2l0aCA9IHVuaW9uV2l0aDtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuaXFCeSA9IHVuaXFCeTtcbiAgICBsb2Rhc2gudW5pcVdpdGggPSB1bmlxV2l0aDtcbiAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcbiAgICBsb2Rhc2gudW56aXAgPSB1bnppcDtcbiAgICBsb2Rhc2gudW56aXBXaXRoID0gdW56aXBXaXRoO1xuICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG4gICAgbG9kYXNoLnVwZGF0ZVdpdGggPSB1cGRhdGVXaXRoO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53b3JkcyA9IHdvcmRzO1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC54b3JCeSA9IHhvckJ5O1xuICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuICAgIGxvZGFzaC56aXBXaXRoID0gemlwV2l0aDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lbnRyaWVzID0gdG9QYWlycztcbiAgICBsb2Rhc2guZW50cmllc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guZXh0ZW5kV2l0aCA9IGFzc2lnbkluV2l0aDtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBtaXhpbihsb2Rhc2gsIGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWRkID0gYWRkO1xuICAgIGxvZGFzaC5hdHRlbXB0ID0gYXR0ZW1wdDtcbiAgICBsb2Rhc2guY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbiAgICBsb2Rhc2guY2VpbCA9IGNlaWw7XG4gICAgbG9kYXNoLmNsYW1wID0gY2xhbXA7XG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY2xvbmVEZWVwV2l0aCA9IGNsb25lRGVlcFdpdGg7XG4gICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcbiAgICBsb2Rhc2guY29uZm9ybXNUbyA9IGNvbmZvcm1zVG87XG4gICAgbG9kYXNoLmRlYnVyciA9IGRlYnVycjtcbiAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuICAgIGxvZGFzaC5kaXZpZGUgPSBkaXZpZGU7XG4gICAgbG9kYXNoLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgbG9kYXNoLmVxID0gZXE7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmZsb29yID0gZmxvb3I7XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmdldCA9IGdldDtcbiAgICBsb2Rhc2guZ3QgPSBndDtcbiAgICBsb2Rhc2guZ3RlID0gZ3RlO1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG4gICAgbG9kYXNoLmhlYWQgPSBoZWFkO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaW5SYW5nZSA9IGluUmFuZ2U7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZSA9IGlzQXJyYXlMaWtlO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZU9iamVjdCA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzQnVmZmVyID0gaXNCdWZmZXI7XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG4gICAgbG9kYXNoLmlzRXJyb3IgPSBpc0Vycm9yO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc0xlbmd0aCA9IGlzTGVuZ3RoO1xuICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuICAgIGxvZGFzaC5pc01hdGNoID0gaXNNYXRjaDtcbiAgICBsb2Rhc2guaXNNYXRjaFdpdGggPSBpc01hdGNoV2l0aDtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOYXRpdmUgPSBpc05hdGl2ZTtcbiAgICBsb2Rhc2guaXNOaWwgPSBpc05pbDtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNTZXQgPSBpc1NldDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICBsb2Rhc2guaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG4gICAgbG9kYXNoLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcbiAgICBsb2Rhc2guam9pbiA9IGpvaW47XG4gICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcbiAgICBsb2Rhc2gubG93ZXJGaXJzdCA9IGxvd2VyRmlyc3Q7XG4gICAgbG9kYXNoLmx0ID0gbHQ7XG4gICAgbG9kYXNoLmx0ZSA9IGx0ZTtcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tYXhCeSA9IG1heEJ5O1xuICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcbiAgICBsb2Rhc2gubWVhbkJ5ID0gbWVhbkJ5O1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG4gICAgbG9kYXNoLnN0dWJBcnJheSA9IHN0dWJBcnJheTtcbiAgICBsb2Rhc2guc3R1YkZhbHNlID0gc3R1YkZhbHNlO1xuICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcbiAgICBsb2Rhc2guc3R1YlN0cmluZyA9IHN0dWJTdHJpbmc7XG4gICAgbG9kYXNoLnN0dWJUcnVlID0gc3R1YlRydWU7XG4gICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgbG9kYXNoLm50aCA9IG50aDtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhZCA9IHBhZDtcbiAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuICAgIGxvZGFzaC5wYWRTdGFydCA9IHBhZFN0YXJ0O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuICAgIGxvZGFzaC5yZXBsYWNlID0gcmVwbGFjZTtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4QnkgPSBzb3J0ZWRJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleE9mID0gc29ydGVkSW5kZXhPZjtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhCeSA9IHNvcnRlZExhc3RJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhPZiA9IHNvcnRlZExhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG4gICAgbG9kYXNoLnN0YXJ0c1dpdGggPSBzdGFydHNXaXRoO1xuICAgIGxvZGFzaC5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIGxvZGFzaC5zdW0gPSBzdW07XG4gICAgbG9kYXNoLnN1bUJ5ID0gc3VtQnk7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvRmluaXRlID0gdG9GaW5pdGU7XG4gICAgbG9kYXNoLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcbiAgICBsb2Rhc2gudG9Mb3dlciA9IHRvTG93ZXI7XG4gICAgbG9kYXNoLnRvTnVtYmVyID0gdG9OdW1iZXI7XG4gICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGxvZGFzaC50b1VwcGVyID0gdG9VcHBlcjtcbiAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG4gICAgbG9kYXNoLnRyaW1FbmQgPSB0cmltRW5kO1xuICAgIGxvZGFzaC50cmltU3RhcnQgPSB0cmltU3RhcnQ7XG4gICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG4gICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcbiAgICBsb2Rhc2gudXBwZXJGaXJzdCA9IHVwcGVyRmlyc3Q7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXG4gICAgbWl4aW4obG9kYXNoLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge307XG4gICAgICBiYXNlRm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLnByb3RvdHlwZSwgbWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpKSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgcGxhY2Vob2xkZXJzLlxuICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIGxvZGFzaFttZXRob2ROYW1lXS5wbGFjZWhvbGRlciA9IGxvZGFzaDtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmRyb3BgIGFuZCBgXy50YWtlYCB2YXJpYW50cy5cbiAgICBhcnJheUVhY2goWydkcm9wJywgJ3Rha2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgbiA9IG4gPT09IHVuZGVmaW5lZCA/IDEgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKG4pLCAwKTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcbiAgICAgICAgICA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKVxuICAgICAgICAgIDogdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSBuYXRpdmVNaW4obiwgcmVzdWx0Ll9fdGFrZUNvdW50X18pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5fX3ZpZXdzX18ucHVzaCh7XG4gICAgICAgICAgICAnc2l6ZSc6IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKSxcbiAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKVttZXRob2ROYW1lXShuKS5yZXZlcnNlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0aGF0IGFjY2VwdCBhbiBgaXRlcmF0ZWVgIHZhbHVlLlxuICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZSA9IGluZGV4ICsgMSxcbiAgICAgICAgICBpc0ZpbHRlciA9IHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRyB8fCB0eXBlID09IExBWllfV0hJTEVfRkxBRztcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG4gICAgICAgICAgJ2l0ZXJhdGVlJzogZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLFxuICAgICAgICAgICd0eXBlJzogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHJlc3VsdC5fX2ZpbHRlcmVkX18gfHwgaXNGaWx0ZXI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuICAgIGFycmF5RWFjaChbJ2hlYWQnLCAnbGFzdCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHRha2VOYW1lID0gJ3Rha2UnICsgKGluZGV4ID8gJ1JpZ2h0JyA6ICcnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Rha2VOYW1lXSgxKS52YWx1ZSgpWzBdO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cbiAgICBhcnJheUVhY2goWydpbml0aWFsJywgJ3RhaWwnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBkcm9wTmFtZSA9ICdkcm9wJyArIChpbmRleCA/ICcnIDogJ1JpZ2h0Jyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18gPyBuZXcgTGF6eVdyYXBwZXIodGhpcykgOiB0aGlzW2Ryb3BOYW1lXSgxKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlkZW50aXR5KTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihwcmVkaWNhdGUpLmhlYWQoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmRMYXN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18gJiYgKHN0YXJ0ID4gMCB8fCBlbmQgPCAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmRyb3Aoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHRvSW50ZWdlcihlbmQpO1xuICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2UoTUFYX0FSUkFZX0xFTkdUSCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGlzVGFrZXIgPSAvXig/OmhlYWR8bGFzdCkkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbaXNUYWtlciA/ICgndGFrZScgKyAobWV0aG9kTmFtZSA9PSAnbGFzdCcgPyAnUmlnaHQnIDogJycpKSA6IG1ldGhvZE5hbWVdLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBpZiAoIWxvZGFzaEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgYXJncyA9IGlzVGFrZXIgPyBbMV0gOiBhcmd1bWVudHMsXG4gICAgICAgICAgICBpc0xhenkgPSB2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyLFxuICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgdXNlTGF6eSA9IGlzTGF6eSB8fCBpc0FycmF5KHZhbHVlKTtcblxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2hGdW5jLmFwcGx5KGxvZGFzaCwgYXJyYXlQdXNoKFt2YWx1ZV0sIGFyZ3MpKTtcbiAgICAgICAgICByZXR1cm4gKGlzVGFrZXIgJiYgY2hhaW5BbGwpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VMYXp5ICYmIGNoZWNrSXRlcmF0ZWUgJiYgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgaXRlcmF0ZWUubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cbiAgICAgICAgICBpc0xhenkgPSB1c2VMYXp5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICBpc0h5YnJpZCA9ICEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsXG4gICAgICAgICAgICBpc1Vud3JhcHBlZCA9IHJldFVud3JhcHBlZCAmJiAhY2hhaW5BbGwsXG4gICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cbiAgICAgICAgaWYgKCFyZXRVbndyYXBwZWQgJiYgdXNlTGF6eSkge1xuICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fLnB1c2goeyAnZnVuYyc6IHRocnUsICdhcmdzJzogW2ludGVyY2VwdG9yXSwgJ3RoaXNBcmcnOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vud3JhcHBlZCAmJiBvbmx5TGF6eSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBBcnJheWAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYXJyYXlFYWNoKFsncG9wJywgJ3B1c2gnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG4gICAgICAgICAgY2hhaW5OYW1lID0gL14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpID8gJ3RhcCcgOiAndGhydScsXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gL14oPzpwb3B8c2hpZnQpJC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tjaGFpbk5hbWVdKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gTWFwIG1pbmlmaWVkIG1ldGhvZCBuYW1lcyB0byB0aGVpciByZWFsIG5hbWVzLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcbiAgICAgIGlmIChsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHZhciBrZXkgPSAobG9kYXNoRnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgICAgbmFtZXMgPSByZWFsTmFtZXNba2V5XSB8fCAocmVhbE5hbWVzW2tleV0gPSBbXSk7XG5cbiAgICAgICAgbmFtZXMucHVzaCh7ICduYW1lJzogbWV0aG9kTmFtZSwgJ2Z1bmMnOiBsb2Rhc2hGdW5jIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuICAgICAgJ25hbWUnOiAnd3JhcHBlcicsXG4gICAgICAnZnVuYyc6IHVuZGVmaW5lZFxuICAgIH1dO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExhenlXcmFwcGVyYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJldmVyc2UgPSBsYXp5UmV2ZXJzZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBsYXp5VmFsdWU7XG5cbiAgICAvLyBBZGQgY2hhaW4gc2VxdWVuY2UgbWV0aG9kcyB0byB0aGUgYGxvZGFzaGAgd3JhcHBlci5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmF0ID0gd3JhcHBlckF0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb21taXQgPSB3cmFwcGVyQ29tbWl0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUubmV4dCA9IHdyYXBwZXJOZXh0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5yZXZlcnNlID0gd3JhcHBlclJldmVyc2U7XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b0pTT04gPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlO1xuXG4gICAgLy8gQWRkIGxhenkgYWxpYXNlcy5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmZpcnN0ID0gbG9kYXNoLnByb3RvdHlwZS5oZWFkO1xuXG4gICAgaWYgKHN5bUl0ZXJhdG9yKSB7XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW3N5bUl0ZXJhdG9yXSA9IHdyYXBwZXJUb0l0ZXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBFeHBvcnQgbG9kYXNoLlxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIENoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGl0LlxuICBlbHNlIGlmIChmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIHN1cHBvcnQuXG4gICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJpbXBvcnQgeyBNYXRyaXgsIEVudmlyb25tZW50LCBDb2RlQ29uc3RydWN0LCBFbnZpcm9ubWVudExpc3RlbmVyLCBWYXJpYWJsZSB9IGZyb20gXCIuL21hdGxhYlwiO1xyXG5pbXBvcnQgeyBNdXRhYmxlLCBnZXRRdWVyeVN0cmluZywgYXNzZXJ0IH0gZnJvbSBcIi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7U3ludGF4RXJyb3IsIHBhcnNlIGFzIG1hdGxhYl9wYXJzZSwgcGFyc2V9IGZyb20gXCIuL21hdGxhYl9wYXJzZXJcIlxyXG5cclxuY2xhc3MgVmFyaWFibGVFeGVyY2lzZSB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhcmlhYmxlTmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldFZhbHVlOiBNYXRyaXg7XHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgaXNDb21wbGV0ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih2YXJpYWJsZU5hbWU6IHN0cmluZywgdGFyZ2V0OiBNYXRyaXgpIHtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlTmFtZSA9IHZhcmlhYmxlTmFtZTtcclxuICAgICAgICB0aGlzLnRhcmdldFZhbHVlID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGVjayhlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgbGV0IHYgPSBlbnYudmFyTG9va3VwKHRoaXMudmFyaWFibGVOYW1lKTtcclxuICAgICAgICByZXR1cm4gdiAmJiB2LnZhbHVlLmVxdWFscyh0aGlzLnRhcmdldFZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgYXR0ZW1wdCh2YWx1ZTogTWF0cml4KSB7XHJcbiAgICAvLyAgICAgaWYgKHZhbHVlLmVxdWFscyh0aGlzLnRhcmdldFZhbHVlKSkge1xyXG4gICAgLy8gICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuaXNDb21wbGV0ZSA9IHRydWU7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyB2aXN1YWxpemVfaHRtbChlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgbGV0IGlzQ29tcGxldGUgPSB0aGlzLmNoZWNrKGVudik7XHJcbiAgICAgICAgbGV0IGNvbXBsZXRlTWVzc2FnZSA9ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tb2sgbWF0Y3JhYi1jb21wbGV0ZS1nbHlwaGljb25cIj48L3NwYW4+JztcclxuICAgICAgICBsZXQgaW5jb21wbGV0ZU1lc3NhZ2UgPSAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW9wdGlvbi1ob3Jpem9udGFsIG1hdGNyYWItaW5jb21wbGV0ZS1nbHlwaGljb25cIj48L3NwYW4+JztcclxuXHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZSBtYXRsYWItdmFyLWJhZGdlXCI+JHt0aGlzLnZhcmlhYmxlTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF0Y3JhYi12aXN1YWxpemF0aW9uXCI+JHt0aGlzLnRhcmdldFZhbHVlLnZpc3VhbGl6ZV9odG1sKCl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF0Y3JhYi12YXJpYWJsZS1leGVyY2lzZS1zdGF0dXNcIj4ke2lzQ29tcGxldGUgPyBjb21wbGV0ZU1lc3NhZ2UgOiBpbmNvbXBsZXRlTWVzc2FnZX08L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRXhlcmNpc2VHcm91cCBpbXBsZW1lbnRzIEVudmlyb25tZW50TGlzdGVuZXIge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBlbnY6IEVudmlyb25tZW50O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBleGVyY2lzZXMgOiByZWFkb25seSBWYXJpYWJsZUV4ZXJjaXNlW107XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHNvbHV0aW9uTWVzc2FnZT86IHN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIGVsZW06IEpRdWVyeTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZWxlbTogSlF1ZXJ5LCBlbnY6IEVudmlyb25tZW50LCB0YXJnZXRzOiB7W2luZGV4OnN0cmluZ106IE1hdHJpeH0sIGRlc2NyaXB0aW9uPzogc3RyaW5nLCBzb2x1dGlvbk1lc3NhZ2U/OiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG4gICAgICAgIHRoaXMuZW52ID0gZW52O1xyXG4gICAgICAgIHRoaXMuZXhlcmNpc2VzID0gT2JqZWN0LmtleXModGFyZ2V0cykubWFwKCh2KSA9PiBuZXcgVmFyaWFibGVFeGVyY2lzZSh2LCB0YXJnZXRzW3ZdKSk7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHRoaXMuc29sdXRpb25NZXNzYWdlID0gc29sdXRpb25NZXNzYWdlO1xyXG5cclxuICAgICAgICBlbnYuYWRkTGlzdGVuZXIodGhpcyk7XHJcbiAgICAgICAgdGhpcy5lbGVtLmh0bWwodGhpcy52aXN1YWxpemVfaHRtbCgpKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvblZhcmlhYmxlU2V0KHZhcmk6IFZhcmlhYmxlKSB7XHJcbiAgICAgICAgdGhpcy5leGVyY2lzZXMuZm9yRWFjaChleCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChleC52YXJpYWJsZU5hbWUgPT09IHZhcmkubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtLmh0bWwodGhpcy52aXN1YWxpemVfaHRtbCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgY2hlY2soKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlcmNpc2VzLmV2ZXJ5KGUgPT4gZS5jaGVjayh0aGlzLmVudikpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdmlzdWFsaXplX2h0bWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICAke3RoaXMuZGVzY3JpcHRpb24gPyBgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+JHt0aGlzLmRlc2NyaXB0aW9ufTwvZGl2PmAgOiBcIlwifVxyXG4gICAgICAgIDx0YWJsZT5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgJHt0aGlzLmV4ZXJjaXNlcy5yZWR1Y2UoKHByZXYsIGV4KSA9PiBwcmV2ICsgYDx0ZD4ke2V4LnZpc3VhbGl6ZV9odG1sKHRoaXMuZW52KX08L3RkPmAsIFwiXCIpfVxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgJHsodGhpcy5zb2x1dGlvbk1lc3NhZ2UgJiYgdGhpcy5jaGVjaygpKSA/IGA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj4ke3RoaXMuc29sdXRpb25NZXNzYWdlfTwvZGl2PmAgOiBcIlwifWA7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUV4ZWN1dGVWaXN1YWxpemUodGV4dDogc3RyaW5nLCBlbnY6IEVudmlyb25tZW50LCB2aXM6IEpRdWVyeSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBzcmMgPSBtYXRsYWJfcGFyc2UodGV4dCk7XHJcbiAgICAgICAgICAgIHZhciBjYyA9IENvZGVDb25zdHJ1Y3QuY3JlYXRlKHNyYywgZW52KTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNjLmV4ZWN1dGUoKTtcclxuICAgICAgICAgICAgdmlzLmh0bWwoY2MudmlzdWFsaXplX2h0bWwoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2goZXJyKSB7XHJcbiAgICAgICAgaWYgKGVyci5uYW1lID09PSBcIlN5bnRheEVycm9yXCIpIHtcclxuICAgICAgICAgICAgdmlzLmh0bWwoXCJTeW50YXggRXJyb3JcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2aXMuaHRtbChcIlNvcnJ5LCBhbiB1bmV4cGVjdGVkIE1hdENyYWIgZXJyb3Igb2NjdXJyZWQuIFBsZWFzZSByZXBvcnQgdG8gamp1ZXR0QHVtaWNoLmVkdS5cIilcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYmluZEVudHJ5VG9WaXN1YWxpemF0aW9uKGVudHJ5OiBKUXVlcnksIHZpczogSlF1ZXJ5LCBnbG9iYWxXb3Jrc3BhY2U6IEVudmlyb25tZW50KSB7XHJcbiAgICBsZXQgZXhwX2luX3RpbWVvdXQ6IG51bWJlcjtcclxuXHJcbiAgICBlbnRyeS5rZXlwcmVzcyhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBjb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XHJcblxyXG4gICAgICAgIC8vIERvIG5vdGhpbmcgdW5sZXNzIGl0J3MgYW4gPEVudGVyPiB3aXRoIGtleWNvZGUgMTNcclxuICAgICAgICAvLyAoYW5kIG5vdCBhIHNoaWZ0IGVudGVyKVxyXG4gICAgICAgIGlmIChjb2RlICE9IDEzIHx8IGUuc2hpZnRLZXkpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdmFyIGRlbGF5ID0gNTAwOyAvLyBtc1xyXG4gICAgICAgIGNsZWFyVGltZW91dChleHBfaW5fdGltZW91dCk7XHJcbiAgICAgICAgZXhwX2luX3RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVudHJ5LnZhbCgpID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gKDxzdHJpbmc+ZW50cnkudmFsKCkpLnRyaW0oKTtcclxuICAgICAgICAgICAgdmlzLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIHBhcnNlRXhlY3V0ZVZpc3VhbGl6ZSh0ZXh0LCBnbG9iYWxXb3Jrc3BhY2UsIHZpcyk7XHJcbiAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiaW5kUnVuQnV0dG9uVG9WaXN1YWxpemF0aW9uKHJ1bkJ1dHRvbjogSlF1ZXJ5LCBlbnRyeTogSlF1ZXJ5LCB2aXM6IEpRdWVyeSwgZ2xvYmFsV29ya3NwYWNlOiBFbnZpcm9ubWVudCkge1xyXG4gICAgbGV0IGV4cF9pbl90aW1lb3V0OiBudW1iZXI7XHJcblxyXG4gICAgcnVuQnV0dG9uLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICB2YXIgZGVsYXkgPSA1MDA7IC8vIG1zXHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGV4cF9pbl90aW1lb3V0KTtcclxuICAgICAgICBleHBfaW5fdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZW50cnkudmFsKCkgPT09IHVuZGVmaW5lZCkgeyByZXR1cm47IH1cclxuICAgICAgICAgICAgdmFyIHRleHQgPSAoPHN0cmluZz5lbnRyeS52YWwoKSkudHJpbSgpO1xyXG4gICAgICAgICAgICB2aXMuZW1wdHkoKTtcclxuICAgICAgICAgICAgcGFyc2VFeGVjdXRlVmlzdWFsaXplKHRleHQsIGdsb2JhbFdvcmtzcGFjZSwgdmlzKTtcclxuICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyaW1XaGl0ZXNwYWNlKHNyYzogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gc3JjLnRyaW0oKS5zcGxpdChcIlxcblwiKS5tYXAobGluZSA9PiBsaW5lLnRyaW0oKSkuam9pbihcIlxcblwiKVxyXG59IFxyXG5cclxuZnVuY3Rpb24gcmVuZGVyRXhlcmNpc2VzKCkge1xyXG5cclxuICAgICQoXCIubWF0Y3JhYi12YXJpYWJsZS10YXJnZXQtZXhlcmNpc2VcIikuZmlsdGVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAhJCh0aGlzKS5kYXRhKFwicmVuZGVyZWRcIik7XHJcbiAgICB9KS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0YXJnZXRzIDoge1tpbmRleDpzdHJpbmddOiBNYXRyaXh9ID0ge307XHJcblxyXG4gICAgICAgIC8vIEFkZCBlYWNoIHRhcmdldCB0byBleGVjaXNlXHJcbiAgICAgICAgJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItdmFyaWFibGUtdGFyZ2V0XCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCB0ID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgbGV0IHNyYyA9IHRyaW1XaGl0ZXNwYWNlKHQuaHRtbCgpKTtcclxuICAgICAgICAgICAgbGV0IGFzdCA9IG1hdGxhYl9wYXJzZShzcmMpO1xyXG4gICAgICAgICAgICBsZXQgdGVtcFdvcmtzcGFjZSA9IG5ldyBFbnZpcm9ubWVudCgpO1xyXG4gICAgICAgICAgICBsZXQgY2MgPSBDb2RlQ29uc3RydWN0LmNyZWF0ZShhc3QsIHRlbXBXb3Jrc3BhY2UpO1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gY2MuZXhlY3V0ZSgpO1xyXG4gICAgICAgICAgICBhc3NlcnQocmVzdWx0LmtpbmQgPT09IFwic3VjY2Vzc1wiKTtcclxuICAgICAgICAgICAgdGFyZ2V0c1t0LmRhdGEoXCJuYW1lXCIpXSA9IHJlc3VsdC52YWx1ZTtcclxuICAgICAgICB9KS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgbGV0IHF1ZXN0aW9uTXNnID0gJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItZXhlcmNpc2UtcXVlc3Rpb25cIikuaHRtbCgpID8/IFwiXCI7XHJcbiAgICAgICAgcXVlc3Rpb25Nc2cgPSBxdWVzdGlvbk1zZy50cmltKCk7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItZXhlcmNpc2UtcXVlc3Rpb25cIikucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjb21wbGV0ZU1zZyA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLWV4ZXJjaXNlLWNvbXBsZXRlXCIpLmh0bWwoKSA/PyBcIlwiO1xyXG4gICAgICAgIGNvbXBsZXRlTXNnID0gY29tcGxldGVNc2cudHJpbSgpO1xyXG4gICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLWV4ZXJjaXNlLWNvbXBsZXRlXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBleGVyY2lzZVdvcmtzcGFjZSA9IG5ldyBFbnZpcm9ubWVudCgkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi13b3Jrc3BhY2VcIikpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEhhbmRsZSBhbnkgaW5pdGlhbCBzZXR1cCBjb2RlIChlLmcuIHRvIHBvcHVsYXRlIHdvcmtzcGFjZSB2YXJzKVxyXG4gICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLXNldHVwXCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzcmMgPSB0cmltV2hpdGVzcGFjZSgkKHRoaXMpLmh0bWwoKSk7XHJcbiAgICAgICAgICAgIGxldCBhc3QgPSBtYXRsYWJfcGFyc2Uoc3JjKTtcclxuICAgICAgICAgICAgbGV0IGNjID0gQ29kZUNvbnN0cnVjdC5jcmVhdGUoYXN0LCBleGVyY2lzZVdvcmtzcGFjZSk7XHJcbiAgICAgICAgICAgIGNjLmV4ZWN1dGUoKTtcclxuICAgICAgICB9KS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgbmV3IEV4ZXJjaXNlR3JvdXAoXHJcbiAgICAgICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLWV4ZXJjaXNlLXN0YXR1c1wiKSxcclxuICAgICAgICAgICAgZXhlcmNpc2VXb3Jrc3BhY2UsXHJcbiAgICAgICAgICAgIHRhcmdldHMsXHJcbiAgICAgICAgICAgIHF1ZXN0aW9uTXNnLFxyXG4gICAgICAgICAgICBjb21wbGV0ZU1zZ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCByZXNldCA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLXJlc2V0XCIpO1xyXG4gICAgICAgIGxldCBydW4gPSAkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1ydW5cIik7XHJcbiAgICAgICAgbGV0IGVudHJ5ID0gJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItZW50cnlcIik7XHJcbiAgICAgICAgbGV0IHZpcyA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLXZpc1wiKTtcclxuXHJcbiAgICAgICAgYmluZEVudHJ5VG9WaXN1YWxpemF0aW9uKGVudHJ5LCB2aXMsIGV4ZXJjaXNlV29ya3NwYWNlKTtcclxuICAgICAgICBiaW5kUnVuQnV0dG9uVG9WaXN1YWxpemF0aW9uKHJ1biwgZW50cnksIHZpcywgZXhlcmNpc2VXb3Jrc3BhY2UpO1xyXG4gICAgfSkuZGF0YShcInJlbmRlcmVkXCIsIHRydWUpO1xyXG5cclxuICAgIC8vIGxldCBiYWNrZ3JvdW5kV29ya3NwYWNlID0gbmV3IEVudmlyb25tZW50KCk7XHJcblxyXG4gICAgJChcIi5tYXRjcmFiLXZpcy1leHBcIikuZmlsdGVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAhJCh0aGlzKS5kYXRhKFwicmVuZGVyZWRcIik7XHJcbiAgICB9KS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBzcmMgPSAkKHRoaXMpLmh0bWwoKTtcclxuICAgICAgICAvLyBUcmltIGxlYWRpbmcgd2hpdGVzcGFjZSBvbiBlYWNoIGxpbmUgb2YgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIC8vIG9mIGVudHJ5LiBUaGlzIGlzIGhlbHBmdWwgc2luY2UgdGhlcmUncyBpbmRlbnRhdGlvbiB3aGl0ZXNwYWNlXHJcbiAgICAgICAgLy8gaW4gdGhlIGh0bWwuXHJcbiAgICAgICAgc3JjID0gdHJpbVdoaXRlc3BhY2Uoc3JjKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhzcmMpO1xyXG5cclxuICAgICAgICBsZXQgYXN0ID0gbWF0bGFiX3BhcnNlKHNyYyk7XHJcbiAgICAgICAgbGV0IHRlbXBXb3Jrc3BhY2UgPSBuZXcgRW52aXJvbm1lbnQoKTtcclxuICAgICAgICBsZXQgY2MgPSBDb2RlQ29uc3RydWN0LmNyZWF0ZShhc3QsIHRlbXBXb3Jrc3BhY2UpO1xyXG4gICAgICAgIGNjLmV4ZWN1dGUoKTtcclxuICAgICAgICAkKHRoaXMpLmh0bWwoY2MudmlzdWFsaXplX2h0bWwoKSk7XHJcbiAgICB9KS5kYXRhKFwicmVuZGVyZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgJChcIi5tYXRjcmFiLWV4YW1wbGVcIikuZmlsdGVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAhJCh0aGlzKS5kYXRhKFwicmVuZGVyZWRcIik7XHJcbiAgICB9KS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCByZXNldCA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLXJlc2V0XCIpO1xyXG4gICAgICAgIGxldCBydW4gPSAkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1ydW5cIik7XHJcbiAgICAgICAgbGV0IGVudHJ5ID0gJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItZW50cnlcIik7XHJcbiAgICAgICAgbGV0IHZpcyA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLXZpc1wiKTtcclxuXHJcbiAgICAgICAgbGV0IGV4YW1wbGVXb3Jrc3BhY2UgPSBuZXcgRW52aXJvbm1lbnQoJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItd29ya3NwYWNlXCIpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBIYW5kbGUgYW55IGluaXRpYWwgc2V0dXAgY29kZSAoZS5nLiB0byBwb3B1bGF0ZSB3b3Jrc3BhY2UgdmFycylcclxuICAgICAgICBsZXQgc2V0dXBTcmMgPSB0cmltV2hpdGVzcGFjZSgkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1zZXR1cFwiKS5odG1sKCkgfHwgXCJcIik7XHJcbiAgICAgICAgbGV0IHNldHVwQXN0ID0gbWF0bGFiX3BhcnNlKHNldHVwU3JjKTtcclxuICAgICAgICBpZiAoIXNldHVwQXN0LnN0YXRlbWVudHMgfHwgc2V0dXBBc3Quc3RhdGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIENvZGVDb25zdHJ1Y3QuY3JlYXRlKHNldHVwQXN0LCBleGFtcGxlV29ya3NwYWNlKS5leGVjdXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLXNldHVwXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAvLyBUcmltIGxlYWRpbmcgd2hpdGVzcGFjZSBvbiBlYWNoIGxpbmUgb2YgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIC8vIG9mIGVudHJ5LiBUaGlzIGlzIGhlbHBmdWwgZm9yIHRleHRhcmVhIGVudHJpZXMgdGhhdCBtaWdodFxyXG4gICAgICAgIC8vIGhhdmUgcmFuZG9tIHdoaXRlc3BhY2UgZnJvbSBpbmRlbnRhdGlvbiBpbiB0aGVpciBodG1sXHJcbiAgICAgICAgbGV0IHYgPSBlbnRyeS52YWwoKTtcclxuICAgICAgICBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgZW50cnkudmFsKHRyaW1XaGl0ZXNwYWNlKHYpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbml0aWFsU3JjID0gXCJcIjtcclxuICAgICAgICAvLyBHbyBhaGVhZCBhbmQgZXZhbHVhdGUgaW5pdGlhbCB2YWx1ZSBvZiBlbnRyeVxyXG4gICAgICAgIGlmIChlbnRyeS52YWwoKSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGluaXRpYWxTcmMgPSAoPHN0cmluZz5lbnRyeS52YWwoKSkudHJpbSgpO1xyXG4gICAgICAgICAgICB2aXMuZW1wdHkoKTtcclxuICAgICAgICAgICAgcGFyc2VFeGVjdXRlVmlzdWFsaXplKGluaXRpYWxTcmMsIGV4YW1wbGVXb3Jrc3BhY2UsIHZpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgZXZlcnkgdGltZSBlbnRyeSBjaGFuZ2VzICh3aXRoIDxFbnRlcj4pXHJcbiAgICAgICAgYmluZEVudHJ5VG9WaXN1YWxpemF0aW9uKGVudHJ5LCB2aXMsIGV4YW1wbGVXb3Jrc3BhY2UpO1xyXG4gICAgICAgIGJpbmRSdW5CdXR0b25Ub1Zpc3VhbGl6YXRpb24ocnVuLCBlbnRyeSwgdmlzLCBleGFtcGxlV29ya3NwYWNlKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIHJlc2V0IGJ1dHRvblxyXG4gICAgICAgIHJlc2V0Lm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIENsZWFyIGVudnJpb25tZW50XHJcbiAgICAgICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLXdvcmtzcGFjZVwiKS5lbXB0eSgpO1xyXG4gICAgICAgICAgICBleGFtcGxlV29ya3NwYWNlID0gbmV3IEVudmlyb25tZW50KCQodGhpcykuZmluZChcIi5tYXRjcmFiLXdvcmtzcGFjZVwiKSk7XHJcbiAgICAgICAgICAgIGlmICghc2V0dXBBc3Quc3RhdGVtZW50cyB8fCBzZXR1cEFzdC5zdGF0ZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIENvZGVDb25zdHJ1Y3QuY3JlYXRlKHNldHVwQXN0LCBleGFtcGxlV29ya3NwYWNlKS5leGVjdXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNldCBlbnRyeSB2YWx1ZSBiYWNrIHRvIGluaXRpYWxcclxuICAgICAgICAgICAgZW50cnkudmFsKGluaXRpYWxTcmMpO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVydW4gaW5pdGlhbCBzdHVmZlxyXG4gICAgICAgICAgICB2aXMuZW1wdHkoKTtcclxuICAgICAgICAgICAgcGFyc2VFeGVjdXRlVmlzdWFsaXplKGluaXRpYWxTcmMsIGV4YW1wbGVXb3Jrc3BhY2UsIHZpcyk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pLmRhdGEoXCJyZW5kZXJlZFwiLCB0cnVlKTtcclxufVxyXG5cclxuJChkb2N1bWVudCkucmVhZHkocmVuZGVyRXhlcmNpc2VzKTtcclxuXHJcbi8vIFRyeSB0byBjYXRjaCBhbnkgZXhlcmNpc2VzIHRoYXQgZ2V0IGxvYWRlZCBpbnRvIERPTSBhIGJpdCBsYXRlXHJcbnNldFRpbWVvdXQocmVuZGVyRXhlcmNpc2VzLCAxMDAwKTtcclxuc2V0VGltZW91dChyZW5kZXJFeGVyY2lzZXMsIDIwMDApO1xyXG5zZXRUaW1lb3V0KHJlbmRlckV4ZXJjaXNlcywgNTAwMCk7XHJcbnNldFRpbWVvdXQocmVuZGVyRXhlcmNpc2VzLCAxMDAwMCk7XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9